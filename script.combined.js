(function () {
    var d = false,
        g = /xyz/.test(function () {}) ? /\b_super\b/ : /.*/;
    this.Class = function () {};
    Class.extend = function (b) {
        function c() {
            !d && this.init && this.init.apply(this, arguments)
        }
        var e = this.prototype;
        d = true;
        var f = new this;
        d = false;
        for (var a in b) f[a] = typeof b[a] === "function" && typeof e[a] === "function" && g.test(b[a]) ?
        function (h, i) {
            return function () {
                var j = this._super;
                this._super = e[h];
                var k = i.apply(this, arguments);
                this._super = j;
                return k
            }
        }(a, b[a]) : b[a];
        c.prototype = f;
        c.constructor = c;
        c.extend = arguments.callee;
        return c
    }
})();

if (!this.JSON) this.JSON = {};
(function () {
    function l(b) {
        return b < 10 ? "0" + b : b
    }
    function o(b) {
        p.lastIndex = 0;
        return p.test(b) ? '"' + b.replace(p, function (f) {
            var c = r[f];
            return typeof c === "string" ? c : "\\u" + ("0000" + f.charCodeAt(0).toString(16)).slice(-4)
        }) + '"' : '"' + b + '"'
    }
    function m(b, f) {
        var c, d, g, j, i = h,
            e, a = f[b];
        if (a && typeof a === "object" && typeof a.toJSON === "function") a = a.toJSON(b);
        if (typeof k === "function") a = k.call(f, b, a);
        switch (typeof a) {
        case "string":
            return o(a);
        case "number":
            return isFinite(a) ? String(a) : "null";
        case "boolean":
        case "null":
            return String(a);
        case "object":
            if (!a) return "null";
            h += n;
            e = [];
            if (Object.prototype.toString.apply(a) === "[object Array]") {
                j = a.length;
                for (c = 0; c < j; c += 1) e[c] = m(c, a) || "null";
                g = e.length === 0 ? "[]" : h ? "[\n" + h + e.join(",\n" + h) + "\n" + i + "]" : "[" + e.join(",") + "]";
                h = i;
                return g
            }
            if (k && typeof k === "object") {
                j = k.length;
                for (c = 0; c < j; c += 1) {
                    d = k[c];
                    if (typeof d === "string") if (g = m(d, a)) e.push(o(d) + (h ? ": " : ":") + g)
                }
            } else for (d in a) if (Object.hasOwnProperty.call(a, d)) if (g = m(d, a)) e.push(o(d) + (h ? ": " : ":") + g);
            g = e.length === 0 ? "{}" : h ? "{\n" + h + e.join(",\n" + h) + "\n" + i + "}" : "{" + e.join(",") + "}";
            h = i;
            return g
        }
    }
    if (typeof Date.prototype.toJSON !== "function") {
        Date.prototype.toJSON = function () {
            return isFinite(this.valueOf()) ? this.getUTCFullYear() + "-" + l(this.getUTCMonth() + 1) + "-" + l(this.getUTCDate()) + "T" + l(this.getUTCHours()) + ":" + l(this.getUTCMinutes()) + ":" + l(this.getUTCSeconds()) + "Z" : null
        };
        String.prototype.toJSON = Number.prototype.toJSON = Boolean.prototype.toJSON = function () {
            return this.valueOf()
        }
    }
    var q = /[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
        p = /[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
        h, n, r = {
            "\u0008": "\\b",
            "\t": "\\t",
            "\n": "\\n",
            "\u000c": "\\f",
            "\r": "\\r",
            '"': '\\"',
            "\\": "\\\\"
        },
        k;
    if (typeof JSON.stringify !== "function") JSON.stringify = function (b, f, c) {
        var d;
        n = h = "";
        if (typeof c === "number") for (d = 0; d < c; d += 1) n += " ";
        else if (typeof c === "string") n = c;
        if ((k = f) && typeof f !== "function" && (typeof f !== "object" || typeof f.length !== "number")) throw Error("JSON.stringify");
        return m("", {
            "": b
        })
    };
    if (typeof JSON.parse !== "function") JSON.parse = function (b, f) {
        function c(g, j) {
            var i, e, a = g[j];
            if (a && typeof a === "object") for (i in a) if (Object.hasOwnProperty.call(a, i)) {
                e = c(a, i);
                if (e !== undefined) a[i] = e;
                else delete a[i]
            }
            return f.call(g, j, a)
        }
        var d;
        b = String(b);
        q.lastIndex = 0;
        if (q.test(b)) b = b.replace(q, function (g) {
            return "\\u" + ("0000" + g.charCodeAt(0).toString(16)).slice(-4)
        });
        if (/^[\],:{}\s]*$/.test(b.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g, "@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g, "]").replace(/(?:^|:|,)(?:\s*\[)+/g, ""))) {
            d = eval("(" + b + ")");
            return typeof f === "function" ? c({
                "": d
            }, "") : d
        }
        throw new SyntaxError("JSON.parse");
    }
})();

/*	SWFObject v2.2 <http://code.google.com/p/swfobject/> 
	is released under the MIT License <http://www.opensource.org/licenses/mit-license.php> 
*/
var swfobject = function () {
        var D = "undefined",
            r = "object",
            S = "Shockwave Flash",
            W = "ShockwaveFlash.ShockwaveFlash",
            q = "application/x-shockwave-flash",
            R = "SWFObjectExprInst",
            x = "onreadystatechange",
            O = window,
            j = document,
            t = navigator,
            T = false,
            U = [h],
            o = [],
            N = [],
            I = [],
            l, Q, E, B, J = false,
            a = false,
            n, G, m = true,
            M = function () {
                var aa = typeof j.getElementById != D && typeof j.getElementsByTagName != D && typeof j.createElement != D,
                    ah = t.userAgent.toLowerCase(),
                    Y = t.platform.toLowerCase(),
                    ae = Y ? /win/.test(Y) : /win/.test(ah),
                    ac = Y ? /mac/.test(Y) : /mac/.test(ah),
                    af = /webkit/.test(ah) ? parseFloat(ah.replace(/^.*webkit\/(\d+(\.\d+)?).*$/, "$1")) : false,
                    X = !+"\v1",
                    ag = [0, 0, 0],
                    ab = null;
                if (typeof t.plugins != D && typeof t.plugins[S] == r) {
                    ab = t.plugins[S].description;
                    if (ab && !(typeof t.mimeTypes != D && t.mimeTypes[q] && !t.mimeTypes[q].enabledPlugin)) {
                        T = true;
                        X = false;
                        ab = ab.replace(/^.*\s+(\S+\s+\S+$)/, "$1");
                        ag[0] = parseInt(ab.replace(/^(.*)\..*$/, "$1"), 10);
                        ag[1] = parseInt(ab.replace(/^.*\.(.*)\s.*$/, "$1"), 10);
                        ag[2] = /[a-zA-Z]/.test(ab) ? parseInt(ab.replace(/^.*[a-zA-Z]+(.*)$/, "$1"), 10) : 0
                    }
                } else {
                    if (typeof O.ActiveXObject != D) {
                        try {
                            var ad = new ActiveXObject(W);
                            if (ad) {
                                ab = ad.GetVariable("$version");
                                if (ab) {
                                    X = true;
                                    ab = ab.split(" ")[1].split(",");
                                    ag = [parseInt(ab[0], 10), parseInt(ab[1], 10), parseInt(ab[2], 10)]
                                }
                            }
                        } catch (Z) {}
                    }
                }
                return {
                    w3: aa,
                    pv: ag,
                    wk: af,
                    ie: X,
                    win: ae,
                    mac: ac
                }
            }(),
            k = function () {
                if (!M.w3) {
                    return
                }
                if ((typeof j.readyState != D && j.readyState == "complete") || (typeof j.readyState == D && (j.getElementsByTagName("body")[0] || j.body))) {
                    f()
                }
                if (!J) {
                    if (typeof j.addEventListener != D) {
                        j.addEventListener("DOMContentLoaded", f, false)
                    }
                    if (M.ie && M.win) {
                        j.attachEvent(x, function () {
                            if (j.readyState == "complete") {
                                j.detachEvent(x, arguments.callee);
                                f()
                            }
                        });
                        if (O == top) {
                            (function () {
                                if (J) {
                                    return
                                }
                                try {
                                    j.documentElement.doScroll("left")
                                } catch (X) {
                                    setTimeout(arguments.callee, 0);
                                    return
                                }
                                f()
                            })()
                        }
                    }
                    if (M.wk) {
                        (function () {
                            if (J) {
                                return
                            }
                            if (!/loaded|complete/.test(j.readyState)) {
                                setTimeout(arguments.callee, 0);
                                return
                            }
                            f()
                        })()
                    }
                    s(f)
                }
            }();

        function f() {
            if (J) {
                return
            }
            try {
                var Z = j.getElementsByTagName("body")[0].appendChild(C("span"));
                Z.parentNode.removeChild(Z)
            } catch (aa) {
                return
            }
            J = true;
            var X = U.length;
            for (var Y = 0; Y < X; Y++) {
                U[Y]()
            }
        }
        function K(X) {
            if (J) {
                X()
            } else {
                U[U.length] = X
            }
        }
        function s(Y) {
            if (typeof O.addEventListener != D) {
                O.addEventListener("load", Y, false)
            } else {
                if (typeof j.addEventListener != D) {
                    j.addEventListener("load", Y, false)
                } else {
                    if (typeof O.attachEvent != D) {
                        i(O, "onload", Y)
                    } else {
                        if (typeof O.onload == "function") {
                            var X = O.onload;
                            O.onload = function () {
                                X();
                                Y()
                            }
                        } else {
                            O.onload = Y
                        }
                    }
                }
            }
        }
        function h() {
            if (T) {
                V()
            } else {
                H()
            }
        }
        function V() {
            var X = j.getElementsByTagName("body")[0];
            var aa = C(r);
            aa.setAttribute("type", q);
            var Z = X.appendChild(aa);
            if (Z) {
                var Y = 0;
                (function () {
                    if (typeof Z.GetVariable != D) {
                        var ab = Z.GetVariable("$version");
                        if (ab) {
                            ab = ab.split(" ")[1].split(",");
                            M.pv = [parseInt(ab[0], 10), parseInt(ab[1], 10), parseInt(ab[2], 10)]
                        }
                    } else {
                        if (Y < 10) {
                            Y++;
                            setTimeout(arguments.callee, 10);
                            return
                        }
                    }
                    X.removeChild(aa);
                    Z = null;
                    H()
                })()
            } else {
                H()
            }
        }
        function H() {
            var ag = o.length;
            if (ag > 0) {
                for (var af = 0; af < ag; af++) {
                    var Y = o[af].id;
                    var ab = o[af].callbackFn;
                    var aa = {
                        success: false,
                        id: Y
                    };
                    if (M.pv[0] > 0) {
                        var ae = c(Y);
                        if (ae) {
                            if (F(o[af].swfVersion) && !(M.wk && M.wk < 312)) {
                                w(Y, true);
                                if (ab) {
                                    aa.success = true;
                                    aa.ref = z(Y);
                                    ab(aa)
                                }
                            } else {
                                if (o[af].expressInstall && A()) {
                                    var ai = {};
                                    ai.data = o[af].expressInstall;
                                    ai.width = ae.getAttribute("width") || "0";
                                    ai.height = ae.getAttribute("height") || "0";
                                    if (ae.getAttribute("class")) {
                                        ai.styleclass = ae.getAttribute("class")
                                    }
                                    if (ae.getAttribute("align")) {
                                        ai.align = ae.getAttribute("align")
                                    }
                                    var ah = {};
                                    var X = ae.getElementsByTagName("param");
                                    var ac = X.length;
                                    for (var ad = 0; ad < ac; ad++) {
                                        if (X[ad].getAttribute("name").toLowerCase() != "movie") {
                                            ah[X[ad].getAttribute("name")] = X[ad].getAttribute("value")
                                        }
                                    }
                                    P(ai, ah, Y, ab)
                                } else {
                                    p(ae);
                                    if (ab) {
                                        ab(aa)
                                    }
                                }
                            }
                        }
                    } else {
                        w(Y, true);
                        if (ab) {
                            var Z = z(Y);
                            if (Z && typeof Z.SetVariable != D) {
                                aa.success = true;
                                aa.ref = Z
                            }
                            ab(aa)
                        }
                    }
                }
            }
        }
        function z(aa) {
            var X = null;
            var Y = c(aa);
            if (Y && Y.nodeName == "OBJECT") {
                if (typeof Y.SetVariable != D) {
                    X = Y
                } else {
                    var Z = Y.getElementsByTagName(r)[0];
                    if (Z) {
                        X = Z
                    }
                }
            }
            return X
        }
        function A() {
            return !a && F("6.0.65") && (M.win || M.mac) && !(M.wk && M.wk < 312)
        }
        function P(aa, ab, X, Z) {
            a = true;
            E = Z || null;
            B = {
                success: false,
                id: X
            };
            var ae = c(X);
            if (ae) {
                if (ae.nodeName == "OBJECT") {
                    l = g(ae);
                    Q = null
                } else {
                    l = ae;
                    Q = X
                }
                aa.id = R;
                if (typeof aa.width == D || (!/%$/.test(aa.width) && parseInt(aa.width, 10) < 310)) {
                    aa.width = "310"
                }
                if (typeof aa.height == D || (!/%$/.test(aa.height) && parseInt(aa.height, 10) < 137)) {
                    aa.height = "137"
                }
                j.title = j.title.slice(0, 47) + " - Flash Player Installation";
                var ad = M.ie && M.win ? "ActiveX" : "PlugIn",
                    ac = "MMredirectURL=" + O.location.toString().replace(/&/g, "%26") + "&MMplayerType=" + ad + "&MMdoctitle=" + j.title;
                if (typeof ab.flashvars != D) {
                    ab.flashvars += "&" + ac
                } else {
                    ab.flashvars = ac
                }
                if (M.ie && M.win && ae.readyState != 4) {
                    var Y = C("div");
                    X += "SWFObjectNew";
                    Y.setAttribute("id", X);
                    ae.parentNode.insertBefore(Y, ae);
                    ae.style.display = "none";
                    (function () {
                        if (ae.readyState == 4) {
                            ae.parentNode.removeChild(ae)
                        } else {
                            setTimeout(arguments.callee, 10)
                        }
                    })()
                }
                u(aa, ab, X)
            }
        }
        function p(Y) {
            if (M.ie && M.win && Y.readyState != 4) {
                var X = C("div");
                Y.parentNode.insertBefore(X, Y);
                X.parentNode.replaceChild(g(Y), X);
                Y.style.display = "none";
                (function () {
                    if (Y.readyState == 4) {
                        Y.parentNode.removeChild(Y)
                    } else {
                        setTimeout(arguments.callee, 10)
                    }
                })()
            } else {
                Y.parentNode.replaceChild(g(Y), Y)
            }
        }
        function g(ab) {
            var aa = C("div");
            if (M.win && M.ie) {
                aa.innerHTML = ab.innerHTML
            } else {
                var Y = ab.getElementsByTagName(r)[0];
                if (Y) {
                    var ad = Y.childNodes;
                    if (ad) {
                        var X = ad.length;
                        for (var Z = 0; Z < X; Z++) {
                            if (!(ad[Z].nodeType == 1 && ad[Z].nodeName == "PARAM") && !(ad[Z].nodeType == 8)) {
                                aa.appendChild(ad[Z].cloneNode(true))
                            }
                        }
                    }
                }
            }
            return aa
        }
        function u(ai, ag, Y) {
            var X, aa = c(Y);
            if (M.wk && M.wk < 312) {
                return X
            }
            if (aa) {
                if (typeof ai.id == D) {
                    ai.id = Y
                }
                if (M.ie && M.win) {
                    var ah = "";
                    for (var ae in ai) {
                        if (ai[ae] != Object.prototype[ae]) {
                            if (ae.toLowerCase() == "data") {
                                ag.movie = ai[ae]
                            } else {
                                if (ae.toLowerCase() == "styleclass") {
                                    ah += ' class="' + ai[ae] + '"'
                                } else {
                                    if (ae.toLowerCase() != "classid") {
                                        ah += " " + ae + '="' + ai[ae] + '"'
                                    }
                                }
                            }
                        }
                    }
                    var af = "";
                    for (var ad in ag) {
                        if (ag[ad] != Object.prototype[ad]) {
                            af += '<param name="' + ad + '" value="' + ag[ad] + '" />'
                        }
                    }
                    aa.outerHTML = '<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"' + ah + ">" + af + "</object>";
                    N[N.length] = ai.id;
                    X = c(ai.id)
                } else {
                    var Z = C(r);
                    Z.setAttribute("type", q);
                    for (var ac in ai) {
                        if (ai[ac] != Object.prototype[ac]) {
                            if (ac.toLowerCase() == "styleclass") {
                                Z.setAttribute("class", ai[ac])
                            } else {
                                if (ac.toLowerCase() != "classid") {
                                    Z.setAttribute(ac, ai[ac])
                                }
                            }
                        }
                    }
                    for (var ab in ag) {
                        if (ag[ab] != Object.prototype[ab] && ab.toLowerCase() != "movie") {
                            e(Z, ab, ag[ab])
                        }
                    }
                    aa.parentNode.replaceChild(Z, aa);
                    X = Z
                }
            }
            return X
        }
        function e(Z, X, Y) {
            var aa = C("param");
            aa.setAttribute("name", X);
            aa.setAttribute("value", Y);
            Z.appendChild(aa)
        }
        function y(Y) {
            var X = c(Y);
            if (X && X.nodeName == "OBJECT") {
                if (M.ie && M.win) {
                    X.style.display = "none";
                    (function () {
                        if (X.readyState == 4) {
                            b(Y)
                        } else {
                            setTimeout(arguments.callee, 10)
                        }
                    })()
                } else {
                    X.parentNode.removeChild(X)
                }
            }
        }
        function b(Z) {
            var Y = c(Z);
            if (Y) {
                for (var X in Y) {
                    if (typeof Y[X] == "function") {
                        Y[X] = null
                    }
                }
                Y.parentNode.removeChild(Y)
            }
        }
        function c(Z) {
            var X = null;
            try {
                X = j.getElementById(Z)
            } catch (Y) {}
            return X
        }
        function C(X) {
            return j.createElement(X)
        }
        function i(Z, X, Y) {
            Z.attachEvent(X, Y);
            I[I.length] = [Z, X, Y]
        }
        function F(Z) {
            var Y = M.pv,
                X = Z.split(".");
            X[0] = parseInt(X[0], 10);
            X[1] = parseInt(X[1], 10) || 0;
            X[2] = parseInt(X[2], 10) || 0;
            return (Y[0] > X[0] || (Y[0] == X[0] && Y[1] > X[1]) || (Y[0] == X[0] && Y[1] == X[1] && Y[2] >= X[2])) ? true : false
        }
        function v(ac, Y, ad, ab) {
            if (M.ie && M.mac) {
                return
            }
            var aa = j.getElementsByTagName("head")[0];
            if (!aa) {
                return
            }
            var X = (ad && typeof ad == "string") ? ad : "screen";
            if (ab) {
                n = null;
                G = null
            }
            if (!n || G != X) {
                var Z = C("style");
                Z.setAttribute("type", "text/css");
                Z.setAttribute("media", X);
                n = aa.appendChild(Z);
                if (M.ie && M.win && typeof j.styleSheets != D && j.styleSheets.length > 0) {
                    n = j.styleSheets[j.styleSheets.length - 1]
                }
                G = X
            }
            if (M.ie && M.win) {
                if (n && typeof n.addRule == r) {
                    n.addRule(ac, Y)
                }
            } else {
                if (n && typeof j.createTextNode != D) {
                    n.appendChild(j.createTextNode(ac + " {" + Y + "}"))
                }
            }
        }
        function w(Z, X) {
            if (!m) {
                return
            }
            var Y = X ? "visible" : "hidden";
            if (J && c(Z)) {
                c(Z).style.visibility = Y
            } else {
                v("#" + Z, "visibility:" + Y)
            }
        }
        function L(Y) {
            var Z = /[\\\"<>\.;]/;
            var X = Z.exec(Y) != null;
            return X && typeof encodeURIComponent != D ? encodeURIComponent(Y) : Y
        }
        var d = function () {
                if (M.ie && M.win) {
                    window.attachEvent("onunload", function () {
                        var ac = I.length;
                        for (var ab = 0; ab < ac; ab++) {
                            I[ab][0].detachEvent(I[ab][1], I[ab][2])
                        }
                        var Z = N.length;
                        for (var aa = 0; aa < Z; aa++) {
                            y(N[aa])
                        }
                        for (var Y in M) {
                            M[Y] = null
                        }
                        M = null;
                        for (var X in swfobject) {
                            swfobject[X] = null
                        }
                        swfobject = null
                    })
                }
            }();
        return {
            registerObject: function (ab, X, aa, Z) {
                if (M.w3 && ab && X) {
                    var Y = {};
                    Y.id = ab;
                    Y.swfVersion = X;
                    Y.expressInstall = aa;
                    Y.callbackFn = Z;
                    o[o.length] = Y;
                    w(ab, false)
                } else {
                    if (Z) {
                        Z({
                            success: false,
                            id: ab
                        })
                    }
                }
            },
            getObjectById: function (X) {
                if (M.w3) {
                    return z(X)
                }
            },
            embedSWF: function (ab, ah, ae, ag, Y, aa, Z, ad, af, ac) {
                var X = {
                    success: false,
                    id: ah
                };
                if (M.w3 && !(M.wk && M.wk < 312) && ab && ah && ae && ag && Y) {
                    w(ah, false);
                    K(function () {
                        ae += "";
                        ag += "";
                        var aj = {};
                        if (af && typeof af === r) {
                            for (var al in af) {
                                aj[al] = af[al]
                            }
                        }
                        aj.data = ab;
                        aj.width = ae;
                        aj.height = ag;
                        var am = {};
                        if (ad && typeof ad === r) {
                            for (var ak in ad) {
                                am[ak] = ad[ak]
                            }
                        }
                        if (Z && typeof Z === r) {
                            for (var ai in Z) {
                                if (typeof am.flashvars != D) {
                                    am.flashvars += "&" + ai + "=" + Z[ai]
                                } else {
                                    am.flashvars = ai + "=" + Z[ai]
                                }
                            }
                        }
                        if (F(Y)) {
                            var an = u(aj, am, ah);
                            if (aj.id == ah) {
                                w(ah, true)
                            }
                            X.success = true;
                            X.ref = an
                        } else {
                            if (aa && A()) {
                                aj.data = aa;
                                P(aj, am, ah, ac);
                                return
                            } else {
                                w(ah, true)
                            }
                        }
                        if (ac) {
                            ac(X)
                        }
                    })
                } else {
                    if (ac) {
                        ac(X)
                    }
                }
            },
            switchOffAutoHideShow: function () {
                m = false
            },
            ua: M,
            getFlashPlayerVersion: function () {
                return {
                    major: M.pv[0],
                    minor: M.pv[1],
                    release: M.pv[2]
                }
            },
            hasFlashPlayerVersion: F,
            createSWF: function (Z, Y, X) {
                if (M.w3) {
                    return u(Z, Y, X)
                } else {
                    return undefined
                }
            },
            showExpressInstall: function (Z, aa, X, Y) {
                if (M.w3 && A()) {
                    P(Z, aa, X, Y)
                }
            },
            removeSWF: function (X) {
                if (M.w3) {
                    y(X)
                }
            },
            createCSS: function (aa, Z, Y, X) {
                if (M.w3) {
                    v(aa, Z, Y, X)
                }
            },
            addDomLoadEvent: K,
            addLoadEvent: s,
            getQueryParamValue: function (aa) {
                var Z = j.location.search || j.location.hash;
                if (Z) {
                    if (/\?/.test(Z)) {
                        Z = Z.split("?")[1]
                    }
                    if (aa == null) {
                        return L(Z)
                    }
                    var Y = Z.split("&");
                    for (var X = 0; X < Y.length; X++) {
                        if (Y[X].substring(0, Y[X].indexOf("=")) == aa) {
                            return L(Y[X].substring((Y[X].indexOf("=") + 1)))
                        }
                    }
                }
                return ""
            },
            expressInstallCallback: function () {
                if (a) {
                    var X = c(R);
                    if (X && l) {
                        X.parentNode.replaceChild(l, X);
                        if (Q) {
                            w(Q, true);
                            if (M.ie && M.win) {
                                l.style.display = "block"
                            }
                        }
                        if (E) {
                            E(B)
                        }
                    }
                    a = false
                }
            }
        }
    }();

// Underscore.js 1.2.1
// (c) 2011 Jeremy Ashkenas, DocumentCloud Inc.
// Underscore is freely distributable under the MIT license.
// Portions of Underscore are inspired or borrowed from Prototype,
// Oliver Steele's Functional, and John Resig's Micro-Templating.
// For all details and documentation:
// http://documentcloud.github.com/underscore
(function () {
    function u(a, c, d) {
        if (a === c) return a !== 0 || 1 / a == 1 / c;
        if (a == null || c == null) return a === c;
        if (a._chain) a = a._wrapped;
        if (c._chain) c = c._wrapped;
        if (b.isFunction(a.isEqual)) return a.isEqual(c);
        if (b.isFunction(c.isEqual)) return c.isEqual(a);
        var e = typeof a;
        if (e != typeof c) return false;
        if (!a != !c) return false;
        if (b.isNaN(a)) return b.isNaN(c);
        var g = b.isString(a),
            f = b.isString(c);
        if (g || f) return g && f && String(a) == String(c);
        g = b.isNumber(a);
        f = b.isNumber(c);
        if (g || f) return g && f && +a == +c;
        g = b.isBoolean(a);
        f = b.isBoolean(c);
        if (g || f) return g && f && +a == +c;
        g = b.isDate(a);
        f = b.isDate(c);
        if (g || f) return g && f && a.getTime() == c.getTime();
        g = b.isRegExp(a);
        f = b.isRegExp(c);
        if (g || f) return g && f && a.source == c.source && a.global == c.global && a.multiline == c.multiline && a.ignoreCase == c.ignoreCase;
        if (e != "object") return false;
        if (a.length !== c.length) return false;
        if (a.constructor !== c.constructor) return false;
        for (e = d.length; e--;) if (d[e] == a) return true;
        d.push(a);
        var e = 0,
            g = true,
            h;
        for (h in a) if (m.call(a, h) && (e++, !(g = m.call(c, h) && u(a[h], c[h], d)))) break;
        if (g) {
            for (h in c) if (m.call(c, h) && !e--) break;
            g = !e
        }
        d.pop();
        return g
    }
    var r = this,
        F = r._,
        o = {},
        k = Array.prototype,
        p = Object.prototype,
        i = k.slice,
        G = k.unshift,
        l = p.toString,
        m = p.hasOwnProperty,
        v = k.forEach,
        w = k.map,
        x = k.reduce,
        y = k.reduceRight,
        z = k.filter,
        A = k.every,
        B = k.some,
        q = k.indexOf,
        C = k.lastIndexOf,
        p = Array.isArray,
        H = Object.keys,
        s = Function.prototype.bind,
        b = function (a) {
            return new n(a)
        };
    if (typeof exports !== "undefined") {
        if (typeof module !== "undefined" && module.exports) exports = module.exports = b;
        exports._ = b
    } else typeof define === "function" && define.amd ? define("underscore", function () {
        return b
    }) : r._ = b;
    b.VERSION = "1.2.1";
    var j = b.each = b.forEach = function (a, c, b) {
            if (a != null) if (v && a.forEach === v) a.forEach(c, b);
            else if (a.length === +a.length) for (var e = 0, g = a.length; e < g; e++) {
                if (e in a && c.call(b, a[e], e, a) === o) break
            } else for (e in a) if (m.call(a, e) && c.call(b, a[e], e, a) === o) break
        };
    b.map = function (a, c, b) {
        var e = [];
        if (a == null) return e;
        if (w && a.map === w) return a.map(c, b);
        j(a, function (a, f, h) {
            e[e.length] = c.call(b, a, f, h)
        });
        return e
    };
    b.reduce = b.foldl = b.inject = function (a, c, d, e) {
        var g = d !== void 0;
        a == null && (a = []);
        if (x && a.reduce === x) return e && (c = b.bind(c, e)), g ? a.reduce(c, d) : a.reduce(c);
        j(a, function (a, b, i) {
            g ? d = c.call(e, d, a, b, i) : (d = a, g = true)
        });
        if (!g) throw new TypeError("Reduce of empty array with no initial value");
        return d
    };
    b.reduceRight = b.foldr = function (a, c, d, e) {
        a == null && (a = []);
        if (y && a.reduceRight === y) return e && (c = b.bind(c, e)), d !== void 0 ? a.reduceRight(c, d) : a.reduceRight(c);
        a = (b.isArray(a) ? a.slice() : b.toArray(a)).reverse();
        return b.reduce(a, c, d, e)
    };
    b.find = b.detect = function (a, c, b) {
        var e;
        D(a, function (a, f, h) {
            if (c.call(b, a, f, h)) return e = a, true
        });
        return e
    };
    b.filter = b.select = function (a, c, b) {
        var e = [];
        if (a == null) return e;
        if (z && a.filter === z) return a.filter(c, b);
        j(a, function (a, f, h) {
            c.call(b, a, f, h) && (e[e.length] = a)
        });
        return e
    };
    b.reject = function (a, c, b) {
        var e = [];
        if (a == null) return e;
        j(a, function (a, f, h) {
            c.call(b, a, f, h) || (e[e.length] = a)
        });
        return e
    };
    b.every = b.all = function (a, c, b) {
        var e = true;
        if (a == null) return e;
        if (A && a.every === A) return a.every(c, b);
        j(a, function (a, f, h) {
            if (!(e = e && c.call(b, a, f, h))) return o
        });
        return e
    };
    var D = b.some = b.any = function (a, c, d) {
            var c = c || b.identity,
                e = false;
            if (a == null) return e;
            if (B && a.some === B) return a.some(c, d);
            j(a, function (a, b, h) {
                if (e |= c.call(d, a, b, h)) return o
            });
            return !!e
        };
    b.include = b.contains = function (a, c) {
        var b = false;
        if (a == null) return b;
        return q && a.indexOf === q ? a.indexOf(c) != -1 : b = D(a, function (a) {
            if (a === c) return true
        })
    };
    b.invoke = function (a, c) {
        var d = i.call(arguments, 2);
        return b.map(a, function (a) {
            return (c.call ? c || a : a[c]).apply(a, d)
        })
    };
    b.pluck = function (a, c) {
        return b.map(a, function (a) {
            return a[c]
        })
    };
    b.max = function (a, c, d) {
        if (!c && b.isArray(a)) return Math.max.apply(Math, a);
        if (!c && b.isEmpty(a)) return -Infinity;
        var e = {
            computed: -Infinity
        };
        j(a, function (a, b, h) {
            b = c ? c.call(d, a, b, h) : a;
            b >= e.computed && (e = {
                value: a,
                computed: b
            })
        });
        return e.value
    };
    b.min = function (a, c, d) {
        if (!c && b.isArray(a)) return Math.min.apply(Math, a);
        if (!c && b.isEmpty(a)) return Infinity;
        var e = {
            computed: Infinity
        };
        j(a, function (a, b, h) {
            b = c ? c.call(d, a, b, h) : a;
            b < e.computed && (e = {
                value: a,
                computed: b
            })
        });
        return e.value
    };
    b.shuffle = function (a) {
        var b = [],
            d;
        j(a, function (a, g) {
            g == 0 ? b[0] = a : (d = Math.floor(Math.random() * (g + 1)), b[g] = b[d], b[d] = a)
        });
        return b
    };
    b.sortBy = function (a, c, d) {
        return b.pluck(b.map(a, function (a, b, f) {
            return {
                value: a,
                criteria: c.call(d, a, b, f)
            }
        }).sort(function (a, b) {
            var c = a.criteria,
                d = b.criteria;
            return c < d ? -1 : c > d ? 1 : 0
        }), "value")
    };
    b.groupBy = function (a, c) {
        var d = {},
            e = b.isFunction(c) ? c : function (a) {
                return a[c]
            };
        j(a, function (a, b) {
            var c = e(a, b);
            (d[c] || (d[c] = [])).push(a)
        });
        return d
    };
    b.sortedIndex = function (a, c, d) {
        d || (d = b.identity);
        for (var e = 0, g = a.length; e < g;) {
            var f = e + g >> 1;
            d(a[f]) < d(c) ? e = f + 1 : g = f
        }
        return e
    };
    b.toArray = function (a) {
        return !a ? [] : a.toArray ? a.toArray() : b.isArray(a) ? i.call(a) : b.isArguments(a) ? i.call(a) : b.values(a)
    };
    b.size = function (a) {
        return b.toArray(a).length
    };
    b.first = b.head = function (a, b, d) {
        return b != null && !d ? i.call(a, 0, b) : a[0]
    };
    b.initial = function (a, b, d) {
        return i.call(a, 0, a.length - (b == null || d ? 1 : b))
    };
    b.last = function (a, b, d) {
        return b != null && !d ? i.call(a, a.length - b) : a[a.length - 1]
    };
    b.rest = b.tail = function (a, b, d) {
        return i.call(a, b == null || d ? 1 : b)
    };
    b.compact = function (a) {
        return b.filter(a, function (a) {
            return !!a
        })
    };
    b.flatten = function (a, c) {
        return b.reduce(a, function (a, e) {
            if (b.isArray(e)) return a.concat(c ? e : b.flatten(e));
            a[a.length] = e;
            return a
        }, [])
    };
    b.without = function (a) {
        return b.difference(a, i.call(arguments, 1))
    };
    b.uniq = b.unique = function (a, c, d) {
        var d = d ? b.map(a, d) : a,
            e = [];
        b.reduce(d, function (d, f, h) {
            if (0 == h || (c === true ? b.last(d) != f : !b.include(d, f))) d[d.length] = f, e[e.length] = a[h];
            return d
        }, []);
        return e
    };
    b.union = function () {
        return b.uniq(b.flatten(arguments, true))
    };
    b.intersection = b.intersect = function (a) {
        var c = i.call(arguments, 1);
        return b.filter(b.uniq(a), function (a) {
            return b.every(c, function (c) {
                return b.indexOf(c, a) >= 0
            })
        })
    };
    b.difference = function (a, c) {
        return b.filter(a, function (a) {
            return !b.include(c, a)
        })
    };
    b.zip = function () {
        for (var a = i.call(arguments), c = b.max(b.pluck(a, "length")), d = Array(c), e = 0; e < c; e++) d[e] = b.pluck(a, "" + e);
        return d
    };
    b.indexOf = function (a, c, d) {
        if (a == null) return -1;
        var e;
        if (d) return d = b.sortedIndex(a, c), a[d] === c ? d : -1;
        if (q && a.indexOf === q) return a.indexOf(c);
        for (d = 0, e = a.length; d < e; d++) if (a[d] === c) return d;
        return -1
    };
    b.lastIndexOf = function (a, b) {
        if (a == null) return -1;
        if (C && a.lastIndexOf === C) return a.lastIndexOf(b);
        for (var d = a.length; d--;) if (a[d] === b) return d;
        return -1
    };
    b.range = function (a, b, d) {
        arguments.length <= 1 && (b = a || 0, a = 0);
        for (var d = arguments[2] || 1, e = Math.max(Math.ceil((b - a) / d), 0), g = 0, f = Array(e); g < e;) f[g++] = a, a += d;
        return f
    };
    var E = function () {};
    b.bind = function (a, c) {
        var d, e;
        if (a.bind === s && s) return s.apply(a, i.call(arguments, 1));
        if (!b.isFunction(a)) throw new TypeError;
        e = i.call(arguments, 2);
        return d = function () {
            if (!(this instanceof d)) return a.apply(c, e.concat(i.call(arguments)));
            E.prototype = a.prototype;
            var b = new E,
                f = a.apply(b, e.concat(i.call(arguments)));
            return Object(f) === f ? f : b
        }
    };
    b.bindAll = function (a) {
        var c = i.call(arguments, 1);
        c.length == 0 && (c = b.functions(a));
        j(c, function (c) {
            a[c] = b.bind(a[c], a)
        });
        return a
    };
    b.memoize = function (a, c) {
        var d = {};
        c || (c = b.identity);
        return function () {
            var b = c.apply(this, arguments);
            return m.call(d, b) ? d[b] : d[b] = a.apply(this, arguments)
        }
    };
    b.delay = function (a, b) {
        var d = i.call(arguments, 2);
        return setTimeout(function () {
            return a.apply(a, d)
        }, b)
    };
    b.defer = function (a) {
        return b.delay.apply(b, [a, 1].concat(i.call(arguments, 1)))
    };
    b.throttle = function (a, c) {
        var d, e, g, f, h;
        h = b.debounce(function () {
            f = false
        }, c);
        return function () {
            e = this;
            g = arguments;
            var b;
            d || (d = setTimeout(function () {
                d = null;
                a.apply(e, g);
                h()
            }, c));
            f || a.apply(e, g);
            h && h();
            f = true
        }
    };
    b.debounce = function (a, b) {
        var d;
        return function () {
            var e = this,
                g = arguments;
            clearTimeout(d);
            d = setTimeout(function () {
                d = null;
                a.apply(e, g)
            }, b)
        }
    };
    b.once = function (a) {
        var b = false,
            d;
        return function () {
            if (b) return d;
            b = true;
            return d = a.apply(this, arguments)
        }
    };
    b.wrap = function (a, b) {
        return function () {
            var d = [a].concat(i.call(arguments));
            return b.apply(this, d)
        }
    };
    b.compose = function () {
        var a = i.call(arguments);
        return function () {
            for (var b = i.call(arguments), d = a.length - 1; d >= 0; d--) b = [a[d].apply(this, b)];
            return b[0]
        }
    };
    b.after = function (a, b) {
        return function () {
            if (--a < 1) return b.apply(this, arguments)
        }
    };
    b.keys = H ||
    function (a) {
        if (a !== Object(a)) throw new TypeError("Invalid object");
        var b = [],
            d;
        for (d in a) m.call(a, d) && (b[b.length] = d);
        return b
    };
    b.values = function (a) {
        return b.map(a, b.identity)
    };
    b.functions = b.methods = function (a) {
        var c = [],
            d;
        for (d in a) b.isFunction(a[d]) && c.push(d);
        return c.sort()
    };
    b.extend = function (a) {
        j(i.call(arguments, 1), function (b) {
            for (var d in b) b[d] !== void 0 && (a[d] = b[d])
        });
        return a
    };
    b.defaults = function (a) {
        j(i.call(arguments, 1), function (b) {
            for (var d in b) a[d] == null && (a[d] = b[d])
        });
        return a
    };
    b.clone = function (a) {
        return !b.isObject(a) ? a : b.isArray(a) ? a.slice() : b.extend({}, a)
    };
    b.tap = function (a, b) {
        b(a);
        return a
    };
    b.isEqual = function (a, b) {
        return u(a, b, [])
    };
    b.isEmpty = function (a) {
        if (b.isArray(a) || b.isString(a)) return a.length === 0;
        for (var c in a) if (m.call(a, c)) return false;
        return true
    };
    b.isElement = function (a) {
        return !!(a && a.nodeType == 1)
    };
    b.isArray = p ||
    function (a) {
        return l.call(a) == "[object Array]"
    };
    b.isObject = function (a) {
        return a === Object(a)
    };
    b.isArguments = l.call(arguments) == "[object Arguments]" ?
    function (a) {
        return l.call(a) == "[object Arguments]"
    } : function (a) {
        return !(!a || !m.call(a, "callee"))
    };
    b.isFunction = function (a) {
        return l.call(a) == "[object Function]"
    };
    b.isString = function (a) {
        return l.call(a) == "[object String]"
    };
    b.isNumber = function (a) {
        return l.call(a) == "[object Number]"
    };
    b.isNaN = function (a) {
        return a !== a
    };
    b.isBoolean = function (a) {
        return a === true || a === false || l.call(a) == "[object Boolean]"
    };
    b.isDate = function (a) {
        return l.call(a) == "[object Date]"
    };
    b.isRegExp = function (a) {
        return l.call(a) == "[object RegExp]"
    };
    b.isNull = function (a) {
        return a === null
    };
    b.isUndefined = function (a) {
        return a === void 0
    };
    b.noConflict = function () {
        r._ = F;
        return this
    };
    b.identity = function (a) {
        return a
    };
    b.times = function (a, b, d) {
        for (var e = 0; e < a; e++) b.call(d, e)
    };
    b.escape = function (a) {
        return ("" + a).replace(/&(?!\w+;|#\d+;|#x[\da-f]+;)/gi, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/"/g, "&quot;").replace(/'/g, "&#x27;").replace(/\//g, "&#x2F;")
    };
    b.mixin = function (a) {
        j(b.functions(a), function (c) {
            I(c, b[c] = a[c])
        })
    };
    var J = 0;
    b.uniqueId = function (a) {
        var b = J++;
        return a ? a + b : b
    };
    b.templateSettings = {
        evaluate: /<%([\s\S]+?)%>/g,
        interpolate: /<%=([\s\S]+?)%>/g,
        escape: /<%-([\s\S]+?)%>/g
    };
    b.template = function (a, c) {
        var d = b.templateSettings,
            d = "var __p=[],print=function(){__p.push.apply(__p,arguments);};with(obj||{}){__p.push('" + a.replace(/\\/g, "\\\\").replace(/'/g, "\\'").replace(d.escape, function (a, b) {
                return "',_.escape(" + b.replace(/\\'/g, "'") + "),'"
            }).replace(d.interpolate, function (a, b) {
                return "'," + b.replace(/\\'/g, "'") + ",'"
            }).replace(d.evaluate || null, function (a, b) {
                return "');" + b.replace(/\\'/g, "'").replace(/[\r\n\t]/g, " ") + "__p.push('"
            }).replace(/\r/g, "\\r").replace(/\n/g, "\\n").replace(/\t/g, "\\t") + "');}return __p.join('');",
            d = new Function("obj", d);
        return c ? d(c) : d
    };
    var n = function (a) {
            this._wrapped = a
        };
    b.prototype = n.prototype;
    var t = function (a, c) {
            return c ? b(a).chain() : a
        },
        I = function (a, c) {
            n.prototype[a] = function () {
                var a = i.call(arguments);
                G.call(a, this._wrapped);
                return t(c.apply(b, a), this._chain)
            }
        };
    b.mixin(b);
    j("pop,push,reverse,shift,sort,splice,unshift".split(","), function (a) {
        var b = k[a];
        n.prototype[a] = function () {
            b.apply(this._wrapped, arguments);
            return t(this._wrapped, this._chain)
        }
    });
    j(["concat", "join", "slice"], function (a) {
        var b = k[a];
        n.prototype[a] = function () {
            return t(b.apply(this._wrapped, arguments), this._chain)
        }
    });
    n.prototype.chain = function () {
        this._chain = true;
        return this
    };
    n.prototype.value = function () {
        return this._wrapped
    }
})();


<!--
NOTE: flensed base_path in index.html should match the one below: -->
/*	flXHR 1.0.6 <http://flxhr.flensed.com/> | Copyright (c) 2008-2010 Kyle Simpson, Getify Solutions, Inc. | This software is released under the MIT License <http://www.opensource.org/licenses/mit-license.php> */
(function (c) {
    var E = c,
        h = c.document,
        z = "undefined",
        a = true,
        L = false,
        g = "",
        o = "object",
        k = "function",
        N = "string",
        l = "div",
        e = "onunload",
        H = null,
        y = null,
        K = null,
        q = null,
        x = 0,
        i = [],
        m = null,
        r = null,
        G = "flXHR.js",
        n = "flensed.js",
        P = "flXHR.vbs",
        j = "checkplayer.js",
        A = "flXHR.swf",
        u = c.parseInt,
        w = c.setTimeout,
        f = c.clearTimeout,
        s = c.setInterval,
        v = c.clearInterval,
        O = "instanceId",
        J = "readyState",
        D = "onreadystatechange",
        M = "ontimeout",
        C = "onerror",
        d = "binaryResponseBody",
        F = "xmlResponseText",
        I = "loadPolicyURL",
        b = "noCacheHeader",
        p = "sendTimeout",
        B = "appendToId",
        t = "swfIdPrefix";
    if (typeof c.flensed === z) {
        c.flensed = {}
    }
    if (typeof c.flensed.flXHR !== z) {
        return
    }
    y = c.flensed;
    w(function () {
        var Q = L,
            ab = h.getElementsByTagName("script"),
            V = ab.length;
        try {
            y.base_path.toLowerCase();
            Q = a
        } catch (T) {
            y.base_path = g
        }
        function Z(ai, ah, aj) {
            for (var ag = 0; ag < V; ag++) {
                if (typeof ab[ag].src !== z) {
                    if (ab[ag].src.indexOf(ai) >= 0) {
                        break
                    }
                }
            }
            var af = h.createElement("script");
            af.setAttribute("src", y.base_path + ai);
            if (typeof ah !== z) {
                af.setAttribute("type", ah)
            }
            if (typeof aj !== z) {
                af.setAttribute("language", aj)
            }
            h.getElementsByTagName("head")[0].appendChild(af)
        }
        if ((typeof ab !== z) && (ab !== null)) {
            if (!Q) {
                var ac = 0;
                for (var U = 0; U < V; U++) {
                    if (typeof ab[U].src !== z) {
                        if (((ac = ab[U].src.indexOf(n)) >= 0) || ((ac = ab[U].src.indexOf(G)) >= 0)) {
                            y.base_path = ab[U].src.substr(0, ac);
                            break
                        }
                    }
                }
            }
        }
        try {
            y.checkplayer.module_ready()
        } catch (aa) {
            Z(j, "text/javascript")
        }
        var ad = null;
        (function ae() {
            try {
                y.ua.pv.join(".")
            } catch (af) {
                ad = w(arguments.callee, 25);
                return
            }
            if (y.ua.win && y.ua.ie) {
                Z(P, "text/vbscript", "vbscript")
            }
            y.binaryToString = function (aj, ai) {
                ai = (((y.ua.win && y.ua.ie) && typeof ai !== z) ? (!(!ai)) : !(y.ua.win && y.ua.ie));
                if (!ai) {
                    try {
                        return flXHR_vb_BinaryToString(aj)
                    } catch (al) {}
                }
                var am = g,
                    ah = [];
                try {
                    for (var ak = 0; ak < aj.length; ak++) {
                        ah[ah.length] = String.fromCharCode(aj[ak])
                    }
                    am = ah.join(g)
                } catch (ag) {}
                return am
            };
            y.bindEvent(E, e, function () {
                try {
                    c.flensed.unbindEvent(E, e, arguments.callee);
                    for (var ai in r) {
                        if (r[ai] !== Object.prototype[ai]) {
                            try {
                                r[ai] = null
                            } catch (ah) {}
                        }
                    }
                    y.flXHR = null;
                    r = null;
                    y = null;
                    q = null;
                    K = null
                } catch (ag) {}
            })
        })();

        function Y() {
            f(ad);
            try {
                E.detachEvent(e, Y)
            } catch (af) {}
        }
        if (ad !== null) {
            try {
                E.attachEvent(e, Y)
            } catch (X) {}
        }
        var S = null;

        function R() {
            f(S);
            try {
                E.detachEvent(e, R)
            } catch (af) {}
        }
        try {
            E.attachEvent(e, R)
        } catch (W) {}
        S = w(function () {
            R();
            try {
                y.checkplayer.module_ready()
            } catch (af) {
                throw new c.Error("flXHR dependencies failed to load.")
            }
        }, 20000)
    }, 0);
    y.flXHR = function (aR) {
        var ab = L;
        if (aR !== null && typeof aR === o) {
            if (typeof aR.instancePooling !== z) {
                ab = !(!aR.instancePooling);
                if (ab) {
                    var aG = function () {
                            for (var a0 = 0; a0 < i.length; a0++) {
                                var a1 = i[a0];
                                if (a1[J] === 4) {
                                    a1.Reset();
                                    a1.Configure(aR);
                                    return a1
                                }
                            }
                            return null
                        }();
                    if (aG !== null) {
                        return aG
                    }
                }
            }
        }
        var aW = ++x,
            ai = [],
            af = null,
            ah = null,
            X = null,
            Y = null,
            aM = -1,
            aF = 0,
            aa = null,
            ac = null,
            ao = null,
            aE = null,
            aw = null,
            aV = null,
            ak = null,
            Q = null,
            aL = null,
            Z = a,
            aB = L,
            aY = "flXHR_" + aW,
            au = a,
            aC = L,
            aA = a,
            aJ = L,
            S = "flXHR_swf",
            ae = "flXHRhideSwf",
            V = null,
            aH = -1,
            T = g,
            aK = null,
            aD = null,
            aO = null;
        var U = function () {
                if (typeof aR === o && aR !== null) {
                    if ((typeof aR[O] !== z) && (aR[O] !== null) && (aR[O] !== g)) {
                        aY = aR[O]
                    }
                    if ((typeof aR[t] !== z) && (aR[t] !== null) && (aR[t] !== g)) {
                        S = aR[t]
                    }
                    if ((typeof aR[B] !== z) && (aR[B] !== null) && (aR[B] !== g)) {
                        V = aR[B]
                    }
                    if ((typeof aR[I] !== z) && (aR[I] !== null) && (aR[I] !== g)) {
                        T = aR[I]
                    }
                    if (typeof aR[b] !== z) {
                        au = !(!aR[b])
                    }
                    if (typeof aR[d] !== z) {
                        aC = !(!aR[d])
                    }
                    if (typeof aR[F] !== z) {
                        aA = !(!aR[F])
                    }
                    if (typeof aR.autoUpdatePlayer !== z) {
                        aJ = !(!aR.autoUpdatePlayer)
                    }
                    if ((typeof aR[p] !== z) && ((H = u(aR[p], 10)) > 0)) {
                        aH = H
                    }
                    if ((typeof aR[D] !== z) && (aR[D] !== null)) {
                        aK = aR[D]
                    }
                    if ((typeof aR[C] !== z) && (aR[C] !== null)) {
                        aD = aR[C]
                    }
                    if ((typeof aR[M] !== z) && (aR[M] !== null)) {
                        aO = aR[M]
                    }
                }
                Y = S + "_" + aW;

                function a0() {
                    f(af);
                    try {
                        E.detachEvent(e, a0)
                    } catch (a3) {}
                }
                try {
                    E.attachEvent(e, a0)
                } catch (a1) {}(function a2() {
                    try {
                        y.bindEvent(E, e, aI)
                    } catch (a3) {
                        af = w(arguments.callee, 25);
                        return
                    }
                    a0();
                    af = w(aT, 1)
                })()
            }();

        function aT() {
            if (V === null) {
                Q = h.getElementsByTagName("body")[0]
            } else {
                Q = y.getObjectById(V)
            }
            try {
                Q.nodeName.toLowerCase();
                y.checkplayer.module_ready();
                K = y.checkplayer
            } catch (a1) {
                af = w(aT, 25);
                return
            }
            if ((q === null) && (typeof K._ins === z)) {
                try {
                    q = new K(r.MIN_PLAYER_VERSION, aU, L, aq)
                } catch (a0) {
                    aP(r.DEPENDENCY_ERROR, "flXHR: checkplayer Init Failed", "The initialization of the 'checkplayer' library failed to complete.");
                    return
                }
            } else {
                q = K._ins;
                ag()
            }
        }
        function ag() {
            if (q === null || !q.checkPassed) {
                af = w(ag, 25);
                return
            }
            if (m === null && V === null) {
                y.createCSS("." + ae, "left:-1px;top:0px;width:1px;height:1px;position:absolute;");
                m = a
            }
            var a4 = h.createElement(l);
            a4.id = Y;
            a4.className = ae;
            Q.appendChild(a4);
            Q = null;
            var a1 = {},
                a5 = {
                    allowScriptAccess: "always"
                },
                a2 = {
                    id: Y,
                    name: Y,
                    styleclass: ae
                },
                a3 = {
                    swfCB: aS,
                    swfEICheck: "reset"
                };
            try {
                q.DoSWF(y.base_path + A, Y, "1", "1", a1, a5, a2, a3)
            } catch (a0) {
                aP(r.DEPENDENCY_ERROR, "flXHR: checkplayer Call Failed", "A call to the 'checkplayer' library failed to complete.");
                return
            }
        }
        function aS(a0) {
            if (a0.status !== K.SWF_EI_READY) {
                return
            }
            R();
            aV = y.getObjectById(Y);
            aV.setId(Y);
            if (T !== g) {
                aV.loadPolicy(T)
            }
            aV.autoNoCacheHeader(au);
            aV.returnBinaryResponseBody(aC);
            aV.doOnReadyStateChange = al;
            aV.doOnError = aP;
            aV.sendProcessed = ap;
            aV.chunkResponse = ay;
            aM = 0;
            ax();
            aX();
            if (typeof aK === k) {
                try {
                    aK(ak)
                } catch (a1) {
                    aP(r.HANDLER_ERROR, "flXHR::onreadystatechange(): Error", "An error occurred in the handler function. (" + a1.message + ")");
                    return
                }
            }
            at()
        }
        function aI() {
            try {
                c.flensed.unbindEvent(E, e, aI)
            } catch (a3) {}
            try {
                for (var a4 = 0; a4 < i.length; a4++) {
                    if (i[a4] === ak) {
                        i[a4] = L
                    }
                }
            } catch (bb) {}
            try {
                for (var a6 in ak) {
                    if (ak[a6] !== Object.prototype[a6]) {
                        try {
                            ak[a6] = null
                        } catch (ba) {}
                    }
                }
            } catch (a9) {}
            ak = null;
            R();
            if ((typeof aV !== z) && (aV !== null)) {
                try {
                    aV.abort()
                } catch (a8) {}
                try {
                    aV.doOnReadyStateChange = null;
                    al = null
                } catch (a7) {}
                try {
                    aV.doOnError = null;
                    doOnError = null
                } catch (a5) {}
                try {
                    aV.sendProcessed = null;
                    ap = null
                } catch (a2) {}
                try {
                    aV.chunkResponse = null;
                    ay = null
                } catch (a1) {}
                aV = null;
                try {
                    c.swfobject.removeSWF(Y)
                } catch (a0) {}
            }
            aQ();
            aK = null;
            aD = null;
            aO = null;
            ao = null;
            aa = null;
            aL = null;
            Q = null
        }
        function ay() {
            if (aC && typeof arguments[0] !== z) {
                aL = ((aL !== null) ? aL : []);
                aL = aL.concat(arguments[0])
            } else {
                if (typeof arguments[0] === N) {
                    aL = ((aL !== null) ? aL : g);
                    aL += arguments[0]
                }
            }
        }
        function al() {
            if (typeof arguments[0] !== z) {
                aM = arguments[0]
            }
            if (aM === 4) {
                R();
                if (aC && aL !== null) {
                    try {
                        ac = y.binaryToString(aL, a);
                        try {
                            aa = flXHR_vb_StringToBinary(ac)
                        } catch (a2) {
                            aa = aL
                        }
                    } catch (a1) {}
                } else {
                    ac = aL
                }
                aL = null;
                if (ac !== g) {
                    if (aA) {
                        try {
                            ao = y.parseXMLString(ac)
                        } catch (a0) {
                            ao = {}
                        }
                    }
                }
            }
            if (typeof arguments[1] !== z) {
                aE = arguments[1]
            }
            if (typeof arguments[2] !== z) {
                aw = arguments[2]
            }
            ad(aM)
        }
        function ad(a0) {
            aF = a0;
            ax();
            aX();
            ak[J] = Math.max(0, a0);
            if (typeof aK === k) {
                try {
                    aK(ak)
                } catch (a1) {
                    aP(r.HANDLER_ERROR, "flXHR::onreadystatechange(): Error", "An error occurred in the handler function. (" + a1.message + ")");
                    return
                }
            }
        }
        function aP() {
            R();
            aQ();
            aB = a;
            var a3;
            try {
                a3 = new y.error(arguments[0], arguments[1], arguments[2], ak)
            } catch (a4) {
                function a1() {
                    this.number = 0;
                    this.name = "flXHR Error: Unknown";
                    this.description = "Unknown error from 'flXHR' library.";
                    this.message = this.description;
                    this.srcElement = ak;
                    var a8 = this.number,
                        a7 = this.name,
                        ba = this.description;

                    function a9() {
                        return a8 + ", " + a7 + ", " + ba
                    }
                    this.toString = a9
                }
                a3 = new a1()
            }
            var a5 = L;
            try {
                if (typeof aD === k) {
                    aD(a3);
                    a5 = a
                }
            } catch (a0) {
                var a2 = a3.toString();

                function a6() {
                    this.number = r.HANDLER_ERROR;
                    this.name = "flXHR::onerror(): Error";
                    this.description = "An error occured in the handler function. (" + a0.message + ")\nPrevious:[" + a2 + "]";
                    this.message = this.description;
                    this.srcElement = ak;
                    var a8 = this.number,
                        a7 = this.name,
                        ba = this.description;

                    function a9() {
                        return a8 + ", " + a7 + ", " + ba
                    }
                    this.toString = a9
                }
                a3 = new a6()
            }
            if (!a5) {
                w(function () {
                    y.throwUnhandledError(a3.toString())
                }, 1)
            }
        }
        function W() {
            am();
            aB = a;
            if (typeof aO === k) {
                try {
                    aO(ak)
                } catch (a0) {
                    aP(r.HANDLER_ERROR, "flXHR::ontimeout(): Error", "An error occurred in the handler function. (" + a0.message + ")");
                    return
                }
            } else {
                aP(r.TIMEOUT_ERROR, "flXHR: Operation Timed out", "The requested operation timed out.")
            }
        }
        function R() {
            f(af);
            af = null;
            f(X);
            X = null;
            f(ah);
            ah = null
        }
        function aZ(a1, a2, a0) {
            ai[ai.length] = {
                func: a1,
                funcName: a2,
                args: a0
            };
            Z = L
        }
        function aQ() {
            if (!Z) {
                Z = a;
                var a1 = ai.length;
                for (var a0 = 0; a0 < a1; a0++) {
                    try {
                        ai[a0] = L
                    } catch (a2) {}
                }
                ai = []
            }
        }
        function at() {
            if (aM < 0) {
                ah = w(at, 25);
                return
            }
            if (!Z) {
                for (var a0 = 0; a0 < ai.length; a0++) {
                    try {
                        if (ai[a0] !== L) {
                            ai[a0].func.apply(ak, ai[a0].args);
                            ai[a0] = L
                        }
                    } catch (a1) {
                        aP(r.HANDLER_ERROR, "flXHR::" + ai[a0].funcName + "(): Error", "An error occurred in the " + ai[a0].funcName + "() function.");
                        return
                    }
                }
                Z = a
            }
        }
        function aX() {
            try {
                ak[O] = aY;
                ak[J] = aF;
                ak.status = aE;
                ak.statusText = aw;
                ak.responseText = ac;
                ak.responseXML = ao;
                ak.responseBody = aa;
                ak[D] = aK;
                ak[C] = aD;
                ak[M] = aO;
                ak[I] = T;
                ak[b] = au;
                ak[d] = aC;
                ak[F] = aA
            } catch (a0) {}
        }
        function ax() {
            try {
                aY = ak[O];
                if (ak.timeout !== null && (H = u(ak.timeout, 10)) > 0) {
                    aH = H
                }
                aK = ak[D];
                aD = ak[C];
                aO = ak[M];
                if (ak[I] !== null) {
                    if ((ak[I] !== T) && (aM >= 0)) {
                        aV.loadPolicy(ak[I])
                    }
                    T = ak[I]
                }
                if (ak[b] !== null) {
                    if ((ak[b] !== au) && (aM >= 0)) {
                        aV.autoNoCacheHeader(ak[b])
                    }
                    au = ak[b]
                }
                if (ak[d] !== null) {
                    if ((ak[d] !== aC) && (aM >= 0)) {
                        aV.returnBinaryResponseBody(ak[d])
                    }
                    aC = ak[d]
                }
                if (aA !== null) {
                    aA = !(!ak[F])
                }
            } catch (a0) {}
        }
        function aN() {
            am();
            try {
                aV.reset()
            } catch (a0) {}
            aE = null;
            aw = null;
            ac = null;
            ao = null;
            aa = null;
            aL = null;
            aB = L;
            aX();
            T = g;
            ax()
        }
        function aU(a0) {
            if (a0.checkPassed) {
                ag()
            } else {
                if (!aJ) {
                    aP(r.PLAYER_VERSION_ERROR, "flXHR: Insufficient Flash Player Version", "The Flash Player was either not detected, or the detected version (" + a0.playerVersionDetected + ") was not at least the minimum version (" + r.MIN_PLAYER_VERSION + ") needed by the 'flXHR' library.")
                } else {
                    q.UpdatePlayer()
                }
            }
        }
        function aq(a0) {
            if (a0.updateStatus === K.UPDATE_CANCELED) {
                aP(r.PLAYER_VERSION_ERROR, "flXHR: Flash Player Update Canceled", "The Flash Player was not updated.")
            } else {
                if (a0.updateStatus === K.UPDATE_FAILED) {
                    aP(r.PLAYER_VERSION_ERROR, "flXHR: Flash Player Update Failed", "The Flash Player was either not detected or could not be updated.")
                }
            }
        }
        function ap() {
            if (aH !== null && aH > 0) {
                X = w(W, aH)
            }
        }
        function am() {
            R();
            aQ();
            ax();
            aM = 0;
            aF = 0;
            try {
                aV.abort()
            } catch (a0) {
                aP(r.CALL_ERROR, "flXHR::abort(): Failed", "The abort() call failed to complete.")
            }
            aX()
        }
        function av() {
            ax();
            if (typeof arguments[0] === z || typeof arguments[1] === z) {
                aP(r.CALL_ERROR, "flXHR::open(): Failed", "The open() call requires 'method' and 'url' parameters.")
            } else {
                if (aM > 0 || aB) {
                    aN()
                }
                if (aF === 0) {
                    al(1)
                } else {
                    aM = 1
                }
                var a7 = arguments[0],
                    a6 = arguments[1],
                    a5 = (typeof arguments[2] !== z) ? arguments[2] : a,
                    ba = (typeof arguments[3] !== z) ? arguments[3] : g,
                    a9 = (typeof arguments[4] !== z) ? arguments[4] : g;
                try {
                    aV.autoNoCacheHeader(au);
                    aV.open(a7, a6, a5, ba, a9)
                } catch (a8) {
                    aP(r.CALL_ERROR, "flXHR::open(): Failed", "The open() call failed to complete.")
                }
            }
        }
        function az() {
            ax();
            if (aM <= 1 && !aB) {
                var a1 = (typeof arguments[0] !== z) ? arguments[0] : g;
                if (aF === 1) {
                    al(2)
                } else {
                    aM = 2
                }
                try {
                    aV.autoNoCacheHeader(au);
                    aV.send(a1)
                } catch (a2) {
                    aP(r.CALL_ERROR, "flXHR::send(): Failed", "The send() call failed to complete.")
                }
            } else {
                aP(r.CALL_ERROR, "flXHR::send(): Failed", "The send() call cannot be made at this time.")
            }
        }
        function aj() {
            ax();
            if (typeof arguments[0] === z || typeof arguments[1] === z) {
                aP(r.CALL_ERROR, "flXHR::setRequestHeader(): Failed", "The setRequestHeader() call requires 'name' and 'value' parameters.")
            } else {
                if (!aB) {
                    var a3 = (typeof arguments[0] !== z) ? arguments[0] : g,
                        a2 = (typeof arguments[1] !== z) ? arguments[1] : g;
                    try {
                        aV.setRequestHeader(a3, a2)
                    } catch (a4) {
                        aP(r.CALL_ERROR, "flXHR::setRequestHeader(): Failed", "The setRequestHeader() call failed to complete.")
                    }
                }
            }
        }
        function an() {
            ax();
            return g
        }
        function ar() {
            ax();
            return []
        }
        ak = {
            readyState: aF,
            responseBody: aa,
            responseText: ac,
            responseXML: ao,
            status: aE,
            statusText: aw,
            timeout: aH,
            open: function () {
                ax();
                if (ak[J] === 0) {
                    ad(1)
                }
                if (!Z || aM < 0) {
                    aZ(av, "open", arguments);
                    return
                }
                av.apply({}, arguments)
            },
            send: function () {
                ax();
                if (ak[J] === 1) {
                    ad(2)
                }
                if (!Z || aM < 0) {
                    aZ(az, "send", arguments);
                    return
                }
                az.apply({}, arguments)
            },
            abort: am,
            setRequestHeader: function () {
                ax();
                if (!Z || aM < 0) {
                    aZ(aj, "setRequestHeader", arguments);
                    return
                }
                aj.apply({}, arguments)
            },
            getResponseHeader: an,
            getAllResponseHeaders: ar,
            onreadystatechange: aK,
            ontimeout: aO,
            instanceId: aY,
            loadPolicyURL: T,
            noCacheHeader: au,
            binaryResponseBody: aC,
            xmlResponseText: aA,
            onerror: aD,
            Configure: function (a0) {
                if (typeof a0 === o && a0 !== null) {
                    if ((typeof a0[O] !== z) && (a0[O] !== null) && (a0[O] !== g)) {
                        aY = a0[O]
                    }
                    if (typeof a0[b] !== z) {
                        au = !(!a0[b]);
                        if (aM >= 0) {
                            aV.autoNoCacheHeader(au)
                        }
                    }
                    if (typeof a0[d] !== z) {
                        aC = !(!a0[d]);
                        if (aM >= 0) {
                            aV.returnBinaryResponseBody(aC)
                        }
                    }
                    if (typeof a0[F] !== z) {
                        aA = !(!a0[F])
                    }
                    if ((typeof a0[D] !== z) && (a0[D] !== null)) {
                        aK = a0[D]
                    }
                    if ((typeof a0[C] !== z) && (a0[C] !== null)) {
                        aD = a0[C]
                    }
                    if ((typeof a0[M] !== z) && (a0[M] !== null)) {
                        aO = a0[M]
                    }
                    if ((typeof a0[p] !== z) && ((H = u(a0[p], 10)) > 0)) {
                        aH = H
                    }
                    if ((typeof a0[I] !== z) && (a0[I] !== null) && (a0[I] !== g) && (a0[I] !== T)) {
                        T = a0[I];
                        if (aM >= 0) {
                            aV.loadPolicy(T)
                        }
                    }
                    aX()
                }
            },
            Reset: aN,
            Destroy: aI
        };
        if (ab) {
            i[i.length] = ak
        }
        return ak
    };
    r = y.flXHR;
    r.HANDLER_ERROR = 10;
    r.CALL_ERROR = 11;
    r.TIMEOUT_ERROR = 12;
    r.DEPENDENCY_ERROR = 13;
    r.PLAYER_VERSION_ERROR = 14;
    r.SECURITY_ERROR = 15;
    r.COMMUNICATION_ERROR = 16;
    r.MIN_PLAYER_VERSION = "9.0.124";
    r.module_ready = function () {}
})(window);

/*! jQuery v1.6.3 http://jquery.com/ | http://jquery.org/license */
(function (a, b) {
    function cu(a) {
        return f.isWindow(a) ? a : a.nodeType === 9 ? a.defaultView || a.parentWindow : !1
    }
    function cr(a) {
        if (!cg[a]) {
            var b = c.body,
                d = f("<" + a + ">").appendTo(b),
                e = d.css("display");
            d.remove();
            if (e === "none" || e === "") {
                ch || (ch = c.createElement("iframe"), ch.frameBorder = ch.width = ch.height = 0), b.appendChild(ch);
                if (!ci || !ch.createElement) ci = (ch.contentWindow || ch.contentDocument).document, ci.write((c.compatMode === "CSS1Compat" ? "<!doctype html>" : "") + "<html><body>"), ci.close();
                d = ci.createElement(a), ci.body.appendChild(d), e = f.css(d, "display"), b.removeChild(ch)
            }
            cg[a] = e
        }
        return cg[a]
    }
    function cq(a, b) {
        var c = {};
        f.each(cm.concat.apply([], cm.slice(0, b)), function () {
            c[this] = a
        });
        return c
    }
    function cp() {
        cn = b
    }
    function co() {
        setTimeout(cp, 0);
        return cn = f.now()
    }
    function cf() {
        try {
            return new a.ActiveXObject("Microsoft.XMLHTTP")
        } catch (b) {}
    }
    function ce() {
        try {
            return new a.XMLHttpRequest
        } catch (b) {}
    }
    function b$(a, c) {
        a.dataFilter && (c = a.dataFilter(c, a.dataType));
        var d = a.dataTypes,
            e = {},
            g, h, i = d.length,
            j, k = d[0],
            l, m, n, o, p;
        for (g = 1; g < i; g++) {
            if (g === 1) for (h in a.converters) typeof h == "string" && (e[h.toLowerCase()] = a.converters[h]);
            l = k, k = d[g];
            if (k === "*") k = l;
            else if (l !== "*" && l !== k) {
                m = l + " " + k, n = e[m] || e["* " + k];
                if (!n) {
                    p = b;
                    for (o in e) {
                        j = o.split(" ");
                        if (j[0] === l || j[0] === "*") {
                            p = e[j[1] + " " + k];
                            if (p) {
                                o = e[o], o === !0 ? n = p : p === !0 && (n = o);
                                break
                            }
                        }
                    }
                }!n && !p && f.error("No conversion from " + m.replace(" ", " to ")), n !== !0 && (c = n ? n(c) : p(o(c)))
            }
        }
        return c
    }
    function bZ(a, c, d) {
        var e = a.contents,
            f = a.dataTypes,
            g = a.responseFields,
            h, i, j, k;
        for (i in g) i in d && (c[g[i]] = d[i]);
        while (f[0] === "*") f.shift(), h === b && (h = a.mimeType || c.getResponseHeader("content-type"));
        if (h) for (i in e) if (e[i] && e[i].test(h)) {
            f.unshift(i);
            break
        }
        if (f[0] in d) j = f[0];
        else {
            for (i in d) {
                if (!f[0] || a.converters[i + " " + f[0]]) {
                    j = i;
                    break
                }
                k || (k = i)
            }
            j = j || k
        }
        if (j) {
            j !== f[0] && f.unshift(j);
            return d[j]
        }
    }
    function bY(a, b, c, d) {
        if (f.isArray(b)) f.each(b, function (b, e) {
            c || bA.test(a) ? d(a, e) : bY(a + "[" + (typeof e == "object" || f.isArray(e) ? b : "") + "]", e, c, d)
        });
        else if (!c && b != null && typeof b == "object") for (var e in b) bY(a + "[" + e + "]", b[e], c, d);
        else d(a, b)
    }
    function bX(a, c) {
        var d, e, g = f.ajaxSettings.flatOptions || {};
        for (d in c) c[d] !== b && ((g[d] ? a : e || (e = {}))[d] = c[d]);
        e && f.extend(!0, a, e)
    }
    function bW(a, c, d, e, f, g) {
        f = f || c.dataTypes[0], g = g || {}, g[f] = !0;
        var h = a[f],
            i = 0,
            j = h ? h.length : 0,
            k = a === bP,
            l;
        for (; i < j && (k || !l); i++) l = h[i](c, d, e), typeof l == "string" && (!k || g[l] ? l = b : (c.dataTypes.unshift(l), l = bW(a, c, d, e, l, g)));
        (k || !l) && !g["*"] && (l = bW(a, c, d, e, "*", g));
        return l
    }
    function bV(a) {
        return function (b, c) {
            typeof b != "string" && (c = b, b = "*");
            if (f.isFunction(c)) {
                var d = b.toLowerCase().split(bL),
                    e = 0,
                    g = d.length,
                    h, i, j;
                for (; e < g; e++) h = d[e], j = /^\+/.test(h), j && (h = h.substr(1) || "*"), i = a[h] = a[h] || [], i[j ? "unshift" : "push"](c)
            }
        }
    }
    function by(a, b, c) {
        var d = b === "width" ? a.offsetWidth : a.offsetHeight,
            e = b === "width" ? bt : bu;
        if (d > 0) {
            c !== "border" && f.each(e, function () {
                c || (d -= parseFloat(f.css(a, "padding" + this)) || 0), c === "margin" ? d += parseFloat(f.css(a, c + this)) || 0 : d -= parseFloat(f.css(a, "border" + this + "Width")) || 0
            });
            return d + "px"
        }
        d = bv(a, b, b);
        if (d < 0 || d == null) d = a.style[b] || 0;
        d = parseFloat(d) || 0, c && f.each(e, function () {
            d += parseFloat(f.css(a, "padding" + this)) || 0, c !== "padding" && (d += parseFloat(f.css(a, "border" + this + "Width")) || 0), c === "margin" && (d += parseFloat(f.css(a, c + this)) || 0)
        });
        return d + "px"
    }
    function bl(a, b) {
        b.src ? f.ajax({
            url: b.src,
            async: !1,
            dataType: "script"
        }) : f.globalEval((b.text || b.textContent || b.innerHTML || "").replace(bd, "/*$0*/")), b.parentNode && b.parentNode.removeChild(b)
    }
    function bk(a) {
        f.nodeName(a, "input") ? bj(a) : "getElementsByTagName" in a && f.grep(a.getElementsByTagName("input"), bj)
    }
    function bj(a) {
        if (a.type === "checkbox" || a.type === "radio") a.defaultChecked = a.checked
    }
    function bi(a) {
        return "getElementsByTagName" in a ? a.getElementsByTagName("*") : "querySelectorAll" in a ? a.querySelectorAll("*") : []
    }
    function bh(a, b) {
        var c;
        if (b.nodeType === 1) {
            b.clearAttributes && b.clearAttributes(), b.mergeAttributes && b.mergeAttributes(a), c = b.nodeName.toLowerCase();
            if (c === "object") b.outerHTML = a.outerHTML;
            else if (c !== "input" || a.type !== "checkbox" && a.type !== "radio") {
                if (c === "option") b.selected = a.defaultSelected;
                else if (c === "input" || c === "textarea") b.defaultValue = a.defaultValue
            } else a.checked && (b.defaultChecked = b.checked = a.checked), b.value !== a.value && (b.value = a.value);
            b.removeAttribute(f.expando)
        }
    }
    function bg(a, b) {
        if (b.nodeType === 1 && !! f.hasData(a)) {
            var c = f.expando,
                d = f.data(a),
                e = f.data(b, d);
            if (d = d[c]) {
                var g = d.events;
                e = e[c] = f.extend({}, d);
                if (g) {
                    delete e.handle, e.events = {};
                    for (var h in g) for (var i = 0, j = g[h].length; i < j; i++) f.event.add(b, h + (g[h][i].namespace ? "." : "") + g[h][i].namespace, g[h][i], g[h][i].data)
                }
            }
        }
    }
    function bf(a, b) {
        return f.nodeName(a, "table") ? a.getElementsByTagName("tbody")[0] || a.appendChild(a.ownerDocument.createElement("tbody")) : a
    }
    function V(a, b, c) {
        b = b || 0;
        if (f.isFunction(b)) return f.grep(a, function (a, d) {
            var e = !! b.call(a, d, a);
            return e === c
        });
        if (b.nodeType) return f.grep(a, function (a, d) {
            return a === b === c
        });
        if (typeof b == "string") {
            var d = f.grep(a, function (a) {
                return a.nodeType === 1
            });
            if (Q.test(b)) return f.filter(b, d, !c);
            b = f.filter(b, d)
        }
        return f.grep(a, function (a, d) {
            return f.inArray(a, b) >= 0 === c
        })
    }
    function U(a) {
        return !a || !a.parentNode || a.parentNode.nodeType === 11
    }
    function M(a, b) {
        return (a && a !== "*" ? a + "." : "") + b.replace(y, "`").replace(z, "&")
    }
    function L(a) {
        var b, c, d, e, g, h, i, j, k, l, m, n, o, p = [],
            q = [],
            r = f._data(this, "events");
        if (!(a.liveFired === this || !r || !r.live || a.target.disabled || a.button && a.type === "click")) {
            a.namespace && (n = new RegExp("(^|\\.)" + a.namespace.split(".").join("\\.(?:.*\\.)?") + "(\\.|$)")), a.liveFired = this;
            var s = r.live.slice(0);
            for (i = 0; i < s.length; i++) g = s[i], g.origType.replace(w, "") === a.type ? q.push(g.selector) : s.splice(i--, 1);
            e = f(a.target).closest(q, a.currentTarget);
            for (j = 0, k = e.length; j < k; j++) {
                m = e[j];
                for (i = 0; i < s.length; i++) {
                    g = s[i];
                    if (m.selector === g.selector && (!n || n.test(g.namespace)) && !m.elem.disabled) {
                        h = m.elem, d = null;
                        if (g.preType === "mouseenter" || g.preType === "mouseleave") a.type = g.preType, d = f(a.relatedTarget).closest(g.selector)[0], d && f.contains(h, d) && (d = h);
                        (!d || d !== h) && p.push({
                            elem: h,
                            handleObj: g,
                            level: m.level
                        })
                    }
                }
            }
            for (j = 0, k = p.length; j < k; j++) {
                e = p[j];
                if (c && e.level > c) break;
                a.currentTarget = e.elem, a.data = e.handleObj.data, a.handleObj = e.handleObj, o = e.handleObj.origHandler.apply(e.elem, arguments);
                if (o === !1 || a.isPropagationStopped()) {
                    c = e.level, o === !1 && (b = !1);
                    if (a.isImmediatePropagationStopped()) break
                }
            }
            return b
        }
    }
    function J(a, c, d) {
        var e = f.extend({}, d[0]);
        e.type = a, e.originalEvent = {}, e.liveFired = b, f.event.handle.call(c, e), e.isDefaultPrevented() && d[0].preventDefault()
    }
    function D() {
        return !0
    }
    function C() {
        return !1
    }
    function m(a, c, d) {
        var e = c + "defer",
            g = c + "queue",
            h = c + "mark",
            i = f.data(a, e, b, !0);
        i && (d === "queue" || !f.data(a, g, b, !0)) && (d === "mark" || !f.data(a, h, b, !0)) && setTimeout(function () {
            !f.data(a, g, b, !0) && !f.data(a, h, b, !0) && (f.removeData(a, e, !0), i.resolve())
        }, 0)
    }
    function l(a) {
        for (var b in a) if (b !== "toJSON") return !1;
        return !0
    }
    function k(a, c, d) {
        if (d === b && a.nodeType === 1) {
            var e = "data-" + c.replace(j, "$1-$2").toLowerCase();
            d = a.getAttribute(e);
            if (typeof d == "string") {
                try {
                    d = d === "true" ? !0 : d === "false" ? !1 : d === "null" ? null : f.isNaN(d) ? i.test(d) ? f.parseJSON(d) : d : parseFloat(d)
                } catch (g) {}
                f.data(a, c, d)
            } else d = b
        }
        return d
    }
    var c = a.document,
        d = a.navigator,
        e = a.location,
        f = function () {
            function K() {
                if (!e.isReady) {
                    try {
                        c.documentElement.doScroll("left")
                    } catch (a) {
                        setTimeout(K, 1);
                        return
                    }
                    e.ready()
                }
            }
            var e = function (a, b) {
                    return new e.fn.init(a, b, h)
                },
                f = a.jQuery,
                g = a.$,
                h, i = /^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,
                j = /\S/,
                k = /^\s+/,
                l = /\s+$/,
                m = /\d/,
                n = /^<(\w+)\s*\/?>(?:<\/\1>)?$/,
                o = /^[\],:{}\s]*$/,
                p = /\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,
                q = /"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
                r = /(?:^|:|,)(?:\s*\[)+/g,
                s = /(webkit)[ \/]([\w.]+)/,
                t = /(opera)(?:.*version)?[ \/]([\w.]+)/,
                u = /(msie) ([\w.]+)/,
                v = /(mozilla)(?:.*? rv:([\w.]+))?/,
                w = /-([a-z]|[0-9])/ig,
                x = /^-ms-/,
                y = function (a, b) {
                    return (b + "").toUpperCase()
                },
                z = d.userAgent,
                A, B, C, D = Object.prototype.toString,
                E = Object.prototype.hasOwnProperty,
                F = Array.prototype.push,
                G = Array.prototype.slice,
                H = String.prototype.trim,
                I = Array.prototype.indexOf,
                J = {};
            e.fn = e.prototype = {
                constructor: e,
                init: function (a, d, f) {
                    var g, h, j, k;
                    if (!a) return this;
                    if (a.nodeType) {
                        this.context = this[0] = a, this.length = 1;
                        return this
                    }
                    if (a === "body" && !d && c.body) {
                        this.context = c, this[0] = c.body, this.selector = a, this.length = 1;
                        return this
                    }
                    if (typeof a == "string") {
                        a.charAt(0) !== "<" || a.charAt(a.length - 1) !== ">" || a.length < 3 ? g = i.exec(a) : g = [null, a, null];
                        if (g && (g[1] || !d)) {
                            if (g[1]) {
                                d = d instanceof e ? d[0] : d, k = d ? d.ownerDocument || d : c, j = n.exec(a), j ? e.isPlainObject(d) ? (a = [c.createElement(j[1])], e.fn.attr.call(a, d, !0)) : a = [k.createElement(j[1])] : (j = e.buildFragment([g[1]], [k]), a = (j.cacheable ? e.clone(j.fragment) : j.fragment).childNodes);
                                return e.merge(this, a)
                            }
                            h = c.getElementById(g[2]);
                            if (h && h.parentNode) {
                                if (h.id !== g[2]) return f.find(a);
                                this.length = 1, this[0] = h
                            }
                            this.context = c, this.selector = a;
                            return this
                        }
                        return !d || d.jquery ? (d || f).find(a) : this.constructor(d).find(a)
                    }
                    if (e.isFunction(a)) return f.ready(a);
                    a.selector !== b && (this.selector = a.selector, this.context = a.context);
                    return e.makeArray(a, this)
                },
                selector: "",
                jquery: "1.6.3",
                length: 0,
                size: function () {
                    return this.length
                },
                toArray: function () {
                    return G.call(this, 0)
                },
                get: function (a) {
                    return a == null ? this.toArray() : a < 0 ? this[this.length + a] : this[a]
                },
                pushStack: function (a, b, c) {
                    var d = this.constructor();
                    e.isArray(a) ? F.apply(d, a) : e.merge(d, a), d.prevObject = this, d.context = this.context, b === "find" ? d.selector = this.selector + (this.selector ? " " : "") + c : b && (d.selector = this.selector + "." + b + "(" + c + ")");
                    return d
                },
                each: function (a, b) {
                    return e.each(this, a, b)
                },
                ready: function (a) {
                    e.bindReady(), B.done(a);
                    return this
                },
                eq: function (a) {
                    return a === -1 ? this.slice(a) : this.slice(a, +a + 1)
                },
                first: function () {
                    return this.eq(0)
                },
                last: function () {
                    return this.eq(-1)
                },
                slice: function () {
                    return this.pushStack(G.apply(this, arguments), "slice", G.call(arguments).join(","))
                },
                map: function (a) {
                    return this.pushStack(e.map(this, function (b, c) {
                        return a.call(b, c, b)
                    }))
                },
                end: function () {
                    return this.prevObject || this.constructor(null)
                },
                push: F,
                sort: [].sort,
                splice: [].splice
            }, e.fn.init.prototype = e.fn, e.extend = e.fn.extend = function () {
                var a, c, d, f, g, h, i = arguments[0] || {},
                    j = 1,
                    k = arguments.length,
                    l = !1;
                typeof i == "boolean" && (l = i, i = arguments[1] || {}, j = 2), typeof i != "object" && !e.isFunction(i) && (i = {}), k === j && (i = this, --j);
                for (; j < k; j++) if ((a = arguments[j]) != null) for (c in a) {
                    d = i[c], f = a[c];
                    if (i === f) continue;
                    l && f && (e.isPlainObject(f) || (g = e.isArray(f))) ? (g ? (g = !1, h = d && e.isArray(d) ? d : []) : h = d && e.isPlainObject(d) ? d : {}, i[c] = e.extend(l, h, f)) : f !== b && (i[c] = f)
                }
                return i
            }, e.extend({
                noConflict: function (b) {
                    a.$ === e && (a.$ = g), b && a.jQuery === e && (a.jQuery = f);
                    return e
                },
                isReady: !1,
                readyWait: 1,
                holdReady: function (a) {
                    a ? e.readyWait++ : e.ready(!0)
                },
                ready: function (a) {
                    if (a === !0 && !--e.readyWait || a !== !0 && !e.isReady) {
                        if (!c.body) return setTimeout(e.ready, 1);
                        e.isReady = !0;
                        if (a !== !0 && --e.readyWait > 0) return;
                        B.resolveWith(c, [e]), e.fn.trigger && e(c).trigger("ready").unbind("ready")
                    }
                },
                bindReady: function () {
                    if (!B) {
                        B = e._Deferred();
                        if (c.readyState === "complete") return setTimeout(e.ready, 1);
                        if (c.addEventListener) c.addEventListener("DOMContentLoaded", C, !1), a.addEventListener("load", e.ready, !1);
                        else if (c.attachEvent) {
                            c.attachEvent("onreadystatechange", C), a.attachEvent("onload", e.ready);
                            var b = !1;
                            try {
                                b = a.frameElement == null
                            } catch (d) {}
                            c.documentElement.doScroll && b && K()
                        }
                    }
                },
                isFunction: function (a) {
                    return e.type(a) === "function"
                },
                isArray: Array.isArray ||
                function (a) {
                    return e.type(a) === "array"
                },
                isWindow: function (a) {
                    return a && typeof a == "object" && "setInterval" in a
                },
                isNaN: function (a) {
                    return a == null || !m.test(a) || isNaN(a)
                },
                type: function (a) {
                    return a == null ? String(a) : J[D.call(a)] || "object"
                },
                isPlainObject: function (a) {
                    if (!a || e.type(a) !== "object" || a.nodeType || e.isWindow(a)) return !1;
                    try {
                        if (a.constructor && !E.call(a, "constructor") && !E.call(a.constructor.prototype, "isPrototypeOf")) return !1
                    } catch (c) {
                        return !1
                    }
                    var d;
                    for (d in a);
                    return d === b || E.call(a, d)
                },
                isEmptyObject: function (a) {
                    for (var b in a) return !1;
                    return !0
                },
                error: function (a) {
                    throw a
                },
                parseJSON: function (b) {
                    if (typeof b != "string" || !b) return null;
                    b = e.trim(b);
                    if (a.JSON && a.JSON.parse) return a.JSON.parse(b);
                    if (o.test(b.replace(p, "@").replace(q, "]").replace(r, ""))) return (new Function("return " + b))();
                    e.error("Invalid JSON: " + b)
                },
                parseXML: function (c) {
                    var d, f;
                    try {
                        a.DOMParser ? (f = new DOMParser, d = f.parseFromString(c, "text/xml")) : (d = new ActiveXObject("Microsoft.XMLDOM"), d.async = "false", d.loadXML(c))
                    } catch (g) {
                        d = b
                    }(!d || !d.documentElement || d.getElementsByTagName("parsererror").length) && e.error("Invalid XML: " + c);
                    return d
                },
                noop: function () {},
                globalEval: function (b) {
                    b && j.test(b) && (a.execScript ||
                    function (b) {
                        a.eval.call(a, b)
                    })(b)
                },
                camelCase: function (a) {
                    return a.replace(x, "ms-").replace(w, y)
                },
                nodeName: function (a, b) {
                    return a.nodeName && a.nodeName.toUpperCase() === b.toUpperCase()
                },
                each: function (a, c, d) {
                    var f, g = 0,
                        h = a.length,
                        i = h === b || e.isFunction(a);
                    if (d) {
                        if (i) {
                            for (f in a) if (c.apply(a[f], d) === !1) break
                        } else for (; g < h;) if (c.apply(a[g++], d) === !1) break
                    } else if (i) {
                        for (f in a) if (c.call(a[f], f, a[f]) === !1) break
                    } else for (; g < h;) if (c.call(a[g], g, a[g++]) === !1) break;
                    return a
                },
                trim: H ?
                function (a) {
                    return a == null ? "" : H.call(a)
                } : function (a) {
                    return a == null ? "" : (a + "").replace(k, "").replace(l, "")
                },
                makeArray: function (a, b) {
                    var c = b || [];
                    if (a != null) {
                        var d = e.type(a);
                        a.length == null || d === "string" || d === "function" || d === "regexp" || e.isWindow(a) ? F.call(c, a) : e.merge(c, a)
                    }
                    return c
                },
                inArray: function (a, b) {
                    if (!b) return -1;
                    if (I) return I.call(b, a);
                    for (var c = 0, d = b.length; c < d; c++) if (b[c] === a) return c;
                    return -1
                },
                merge: function (a, c) {
                    var d = a.length,
                        e = 0;
                    if (typeof c.length == "number") for (var f = c.length; e < f; e++) a[d++] = c[e];
                    else while (c[e] !== b) a[d++] = c[e++];
                    a.length = d;
                    return a
                },
                grep: function (a, b, c) {
                    var d = [],
                        e;
                    c = !! c;
                    for (var f = 0, g = a.length; f < g; f++) e = !! b(a[f], f), c !== e && d.push(a[f]);
                    return d
                },
                map: function (a, c, d) {
                    var f, g, h = [],
                        i = 0,
                        j = a.length,
                        k = a instanceof e || j !== b && typeof j == "number" && (j > 0 && a[0] && a[j - 1] || j === 0 || e.isArray(a));
                    if (k) for (; i < j; i++) f = c(a[i], i, d), f != null && (h[h.length] = f);
                    else for (g in a) f = c(a[g], g, d), f != null && (h[h.length] = f);
                    return h.concat.apply([], h)
                },
                guid: 1,
                proxy: function (a, c) {
                    if (typeof c == "string") {
                        var d = a[c];
                        c = a, a = d
                    }
                    if (!e.isFunction(a)) return b;
                    var f = G.call(arguments, 2),
                        g = function () {
                            return a.apply(c, f.concat(G.call(arguments)))
                        };
                    g.guid = a.guid = a.guid || g.guid || e.guid++;
                    return g
                },
                access: function (a, c, d, f, g, h) {
                    var i = a.length;
                    if (typeof c == "object") {
                        for (var j in c) e.access(a, j, c[j], f, g, d);
                        return a
                    }
                    if (d !== b) {
                        f = !h && f && e.isFunction(d);
                        for (var k = 0; k < i; k++) g(a[k], c, f ? d.call(a[k], k, g(a[k], c)) : d, h);
                        return a
                    }
                    return i ? g(a[0], c) : b
                },
                now: function () {
                    return (new Date).getTime()
                },
                uaMatch: function (a) {
                    a = a.toLowerCase();
                    var b = s.exec(a) || t.exec(a) || u.exec(a) || a.indexOf("compatible") < 0 && v.exec(a) || [];
                    return {
                        browser: b[1] || "",
                        version: b[2] || "0"
                    }
                },
                sub: function () {
                    function a(b, c) {
                        return new a.fn.init(b, c)
                    }
                    e.extend(!0, a, this), a.superclass = this, a.fn = a.prototype = this(), a.fn.constructor = a, a.sub = this.sub, a.fn.init = function (d, f) {
                        f && f instanceof e && !(f instanceof a) && (f = a(f));
                        return e.fn.init.call(this, d, f, b)
                    }, a.fn.init.prototype = a.fn;
                    var b = a(c);
                    return a
                },
                browser: {}
            }), e.each("Boolean Number String Function Array Date RegExp Object".split(" "), function (a, b) {
                J["[object " + b + "]"] = b.toLowerCase()
            }), A = e.uaMatch(z), A.browser && (e.browser[A.browser] = !0, e.browser.version = A.version), e.browser.webkit && (e.browser.safari = !0), j.test("") && (k = /^[\s\xA0]+/, l = /[\s\xA0]+$/), h = e(c), c.addEventListener ? C = function () {
                c.removeEventListener("DOMContentLoaded", C, !1), e.ready()
            } : c.attachEvent && (C = function () {
                c.readyState === "complete" && (c.detachEvent("onreadystatechange", C), e.ready())
            });
            return e
        }(),
        g = "done fail isResolved isRejected promise then always pipe".split(" "),
        h = [].slice;
    f.extend({
        _Deferred: function () {
            var a = [],
                b, c, d, e = {
                    done: function () {
                        if (!d) {
                            var c = arguments,
                                g, h, i, j, k;
                            b && (k = b, b = 0);
                            for (g = 0, h = c.length; g < h; g++) i = c[g], j = f.type(i), j === "array" ? e.done.apply(e, i) : j === "function" && a.push(i);
                            k && e.resolveWith(k[0], k[1])
                        }
                        return this
                    },
                    resolveWith: function (e, f) {
                        if (!d && !b && !c) {
                            f = f || [], c = 1;
                            try {
                                while (a[0]) a.shift().apply(e, f)
                            } finally {
                                b = [e, f], c = 0
                            }
                        }
                        return this
                    },
                    resolve: function () {
                        e.resolveWith(this, arguments);
                        return this
                    },
                    isResolved: function () {
                        return !!c || !! b
                    },
                    cancel: function () {
                        d = 1, a = [];
                        return this
                    }
                };
            return e
        },
        Deferred: function (a) {
            var b = f._Deferred(),
                c = f._Deferred(),
                d;
            f.extend(b, {
                then: function (a, c) {
                    b.done(a).fail(c);
                    return this
                },
                always: function () {
                    return b.done.apply(b, arguments).fail.apply(this, arguments)
                },
                fail: c.done,
                rejectWith: c.resolveWith,
                reject: c.resolve,
                isRejected: c.isResolved,
                pipe: function (a, c) {
                    return f.Deferred(function (d) {
                        f.each({
                            done: [a, "resolve"],
                            fail: [c, "reject"]
                        }, function (a, c) {
                            var e = c[0],
                                g = c[1],
                                h;
                            f.isFunction(e) ? b[a](function () {
                                h = e.apply(this, arguments), h && f.isFunction(h.promise) ? h.promise().then(d.resolve, d.reject) : d[g + "With"](this === b ? d : this, [h])
                            }) : b[a](d[g])
                        })
                    }).promise()
                },
                promise: function (a) {
                    if (a == null) {
                        if (d) return d;
                        d = a = {}
                    }
                    var c = g.length;
                    while (c--) a[g[c]] = b[g[c]];
                    return a
                }
            }), b.done(c.cancel).fail(b.cancel), delete b.cancel, a && a.call(b, b);
            return b
        },
        when: function (a) {
            function i(a) {
                return function (c) {
                    b[a] = arguments.length > 1 ? h.call(arguments, 0) : c, --e || g.resolveWith(g, h.call(b, 0))
                }
            }
            var b = arguments,
                c = 0,
                d = b.length,
                e = d,
                g = d <= 1 && a && f.isFunction(a.promise) ? a : f.Deferred();
            if (d > 1) {
                for (; c < d; c++) b[c] && f.isFunction(b[c].promise) ? b[c].promise().then(i(c), g.reject) : --e;
                e || g.resolveWith(g, b)
            } else g !== a && g.resolveWith(g, d ? [a] : []);
            return g.promise()
        }
    }), f.support = function () {
        var a = c.createElement("div"),
            b = c.documentElement,
            d, e, g, h, i, j, k, l, m, n, o, p, q, r, s, t, u;
        a.setAttribute("className", "t"), a.innerHTML = "   <link><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type=checkbox>", d = a.getElementsByTagName("*"), e = a.getElementsByTagName("a")[0];
        if (!d || !d.length || !e) return {};
        g = c.createElement("select"), h = g.appendChild(c.createElement("option")), i = a.getElementsByTagName("input")[0], k = {
            leadingWhitespace: a.firstChild.nodeType === 3,
            tbody: !a.getElementsByTagName("tbody").length,
            htmlSerialize: !! a.getElementsByTagName("link").length,
            style: /top/.test(e.getAttribute("style")),
            hrefNormalized: e.getAttribute("href") === "/a",
            opacity: /^0.55$/.test(e.style.opacity),
            cssFloat: !! e.style.cssFloat,
            checkOn: i.value === "on",
            optSelected: h.selected,
            getSetAttribute: a.className !== "t",
            submitBubbles: !0,
            changeBubbles: !0,
            focusinBubbles: !1,
            deleteExpando: !0,
            noCloneEvent: !0,
            inlineBlockNeedsLayout: !1,
            shrinkWrapBlocks: !1,
            reliableMarginRight: !0
        }, i.checked = !0, k.noCloneChecked = i.cloneNode(!0).checked, g.disabled = !0, k.optDisabled = !h.disabled;
        try {
            delete a.test
        } catch (v) {
            k.deleteExpando = !1
        }!a.addEventListener && a.attachEvent && a.fireEvent && (a.attachEvent("onclick", function () {
            k.noCloneEvent = !1
        }), a.cloneNode(!0).fireEvent("onclick")), i = c.createElement("input"), i.value = "t", i.setAttribute("type", "radio"), k.radioValue = i.value === "t", i.setAttribute("checked", "checked"), a.appendChild(i), l = c.createDocumentFragment(), l.appendChild(a.firstChild), k.checkClone = l.cloneNode(!0).cloneNode(!0).lastChild.checked, a.innerHTML = "", a.style.width = a.style.paddingLeft = "1px", m = c.getElementsByTagName("body")[0], o = c.createElement(m ? "div" : "body"), p = {
            visibility: "hidden",
            width: 0,
            height: 0,
            border: 0,
            margin: 0,
            background: "none"
        }, m && f.extend(p, {
            position: "absolute",
            left: "-1000px",
            top: "-1000px"
        });
        for (t in p) o.style[t] = p[t];
        o.appendChild(a), n = m || b, n.insertBefore(o, n.firstChild), k.appendChecked = i.checked, k.boxModel = a.offsetWidth === 2, "zoom" in a.style && (a.style.display = "inline", a.style.zoom = 1, k.inlineBlockNeedsLayout = a.offsetWidth === 2, a.style.display = "", a.innerHTML = "<div style='width:4px;'></div>", k.shrinkWrapBlocks = a.offsetWidth !== 2), a.innerHTML = "<table><tr><td style='padding:0;border:0;display:none'></td><td>t</td></tr></table>", q = a.getElementsByTagName("td"), u = q[0].offsetHeight === 0, q[0].style.display = "", q[1].style.display = "none", k.reliableHiddenOffsets = u && q[0].offsetHeight === 0, a.innerHTML = "", c.defaultView && c.defaultView.getComputedStyle && (j = c.createElement("div"), j.style.width = "0", j.style.marginRight = "0", a.appendChild(j), k.reliableMarginRight = (parseInt((c.defaultView.getComputedStyle(j, null) || {
            marginRight: 0
        }).marginRight, 10) || 0) === 0), o.innerHTML = "", n.removeChild(o);
        if (a.attachEvent) for (t in {
            submit: 1,
            change: 1,
            focusin: 1
        }) s = "on" + t, u = s in a, u || (a.setAttribute(s, "return;"), u = typeof a[s] == "function"), k[t + "Bubbles"] = u;
        o = l = g = h = m = j = a = i = null;
        return k
    }(), f.boxModel = f.support.boxModel;
    var i = /^(?:\{.*\}|\[.*\])$/,
        j = /([a-z])([A-Z])/g;
    f.extend({
        cache: {},
        uuid: 0,
        expando: "jQuery" + (f.fn.jquery + Math.random()).replace(/\D/g, ""),
        noData: {
            embed: !0,
            object: "clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",
            applet: !0
        },
        hasData: function (a) {
            a = a.nodeType ? f.cache[a[f.expando]] : a[f.expando];
            return !!a && !l(a)
        },
        data: function (a, c, d, e) {
            if ( !! f.acceptData(a)) {
                var g, h, i = f.expando,
                    j = typeof c == "string",
                    k = a.nodeType,
                    l = k ? f.cache : a,
                    m = k ? a[f.expando] : a[f.expando] && f.expando;
                if ((!m || e && m && l[m] && !l[m][i]) && j && d === b) return;
                m || (k ? a[f.expando] = m = ++f.uuid : m = f.expando), l[m] || (l[m] = {}, k || (l[m].toJSON = f.noop));
                if (typeof c == "object" || typeof c == "function") e ? l[m][i] = f.extend(l[m][i], c) : l[m] = f.extend(l[m], c);
                g = l[m], e && (g[i] || (g[i] = {}), g = g[i]), d !== b && (g[f.camelCase(c)] = d);
                if (c === "events" && !g[c]) return g[i] && g[i].events;
                j ? (h = g[c], h == null && (h = g[f.camelCase(c)])) : h = g;
                return h
            }
        },
        removeData: function (a, b, c) {
            if ( !! f.acceptData(a)) {
                var d, e = f.expando,
                    g = a.nodeType,
                    h = g ? f.cache : a,
                    i = g ? a[f.expando] : f.expando;
                if (!h[i]) return;
                if (b) {
                    d = c ? h[i][e] : h[i];
                    if (d) {
                        d[b] || (b = f.camelCase(b)), delete d[b];
                        if (!l(d)) return
                    }
                }
                if (c) {
                    delete h[i][e];
                    if (!l(h[i])) return
                }
                var j = h[i][e];
                f.support.deleteExpando || !h.setInterval ? delete h[i] : h[i] = null, j ? (h[i] = {}, g || (h[i].toJSON = f.noop), h[i][e] = j) : g && (f.support.deleteExpando ? delete a[f.expando] : a.removeAttribute ? a.removeAttribute(f.expando) : a[f.expando] = null)
            }
        },
        _data: function (a, b, c) {
            return f.data(a, b, c, !0)
        },
        acceptData: function (a) {
            if (a.nodeName) {
                var b = f.noData[a.nodeName.toLowerCase()];
                if (b) return b !== !0 && a.getAttribute("classid") === b
            }
            return !0
        }
    }), f.fn.extend({
        data: function (a, c) {
            var d = null;
            if (typeof a == "undefined") {
                if (this.length) {
                    d = f.data(this[0]);
                    if (this[0].nodeType === 1) {
                        var e = this[0].attributes,
                            g;
                        for (var h = 0, i = e.length; h < i; h++) g = e[h].name, g.indexOf("data-") === 0 && (g = f.camelCase(g.substring(5)), k(this[0], g, d[g]))
                    }
                }
                return d
            }
            if (typeof a == "object") return this.each(function () {
                f.data(this, a)
            });
            var j = a.split(".");
            j[1] = j[1] ? "." + j[1] : "";
            if (c === b) {
                d = this.triggerHandler("getData" + j[1] + "!", [j[0]]), d === b && this.length && (d = f.data(this[0], a), d = k(this[0], a, d));
                return d === b && j[1] ? this.data(j[0]) : d
            }
            return this.each(function () {
                var b = f(this),
                    d = [j[0], c];
                b.triggerHandler("setData" + j[1] + "!", d), f.data(this, a, c), b.triggerHandler("changeData" + j[1] + "!", d)
            })
        },
        removeData: function (a) {
            return this.each(function () {
                f.removeData(this, a)
            })
        }
    }), f.extend({
        _mark: function (a, c) {
            a && (c = (c || "fx") + "mark", f.data(a, c, (f.data(a, c, b, !0) || 0) + 1, !0))
        },
        _unmark: function (a, c, d) {
            a !== !0 && (d = c, c = a, a = !1);
            if (c) {
                d = d || "fx";
                var e = d + "mark",
                    g = a ? 0 : (f.data(c, e, b, !0) || 1) - 1;
                g ? f.data(c, e, g, !0) : (f.removeData(c, e, !0), m(c, d, "mark"))
            }
        },
        queue: function (a, c, d) {
            if (a) {
                c = (c || "fx") + "queue";
                var e = f.data(a, c, b, !0);
                d && (!e || f.isArray(d) ? e = f.data(a, c, f.makeArray(d), !0) : e.push(d));
                return e || []
            }
        },
        dequeue: function (a, b) {
            b = b || "fx";
            var c = f.queue(a, b),
                d = c.shift(),
                e;
            d === "inprogress" && (d = c.shift()), d && (b === "fx" && c.unshift("inprogress"), d.call(a, function () {
                f.dequeue(a, b)
            })), c.length || (f.removeData(a, b + "queue", !0), m(a, b, "queue"))
        }
    }), f.fn.extend({
        queue: function (a, c) {
            typeof a != "string" && (c = a, a = "fx");
            if (c === b) return f.queue(this[0], a);
            return this.each(function () {
                var b = f.queue(this, a, c);
                a === "fx" && b[0] !== "inprogress" && f.dequeue(this, a)
            })
        },
        dequeue: function (a) {
            return this.each(function () {
                f.dequeue(this, a)
            })
        },
        delay: function (a, b) {
            a = f.fx ? f.fx.speeds[a] || a : a, b = b || "fx";
            return this.queue(b, function () {
                var c = this;
                setTimeout(function () {
                    f.dequeue(c, b)
                }, a)
            })
        },
        clearQueue: function (a) {
            return this.queue(a || "fx", [])
        },
        promise: function (a, c) {
            function m() {
                --h || d.resolveWith(e, [e])
            }
            typeof a != "string" && (c = a, a = b), a = a || "fx";
            var d = f.Deferred(),
                e = this,
                g = e.length,
                h = 1,
                i = a + "defer",
                j = a + "queue",
                k = a + "mark",
                l;
            while (g--) if (l = f.data(e[g], i, b, !0) || (f.data(e[g], j, b, !0) || f.data(e[g], k, b, !0)) && f.data(e[g], i, f._Deferred(), !0)) h++, l.done(m);
            m();
            return d.promise()
        }
    });
    var n = /[\n\t\r]/g,
        o = /\s+/,
        p = /\r/g,
        q = /^(?:button|input)$/i,
        r = /^(?:button|input|object|select|textarea)$/i,
        s = /^a(?:rea)?$/i,
        t = /^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,
        u, v;
    f.fn.extend({
        attr: function (a, b) {
            return f.access(this, a, b, !0, f.attr)
        },
        removeAttr: function (a) {
            return this.each(function () {
                f.removeAttr(this, a)
            })
        },
        prop: function (a, b) {
            return f.access(this, a, b, !0, f.prop)
        },
        removeProp: function (a) {
            a = f.propFix[a] || a;
            return this.each(function () {
                try {
                    this[a] = b, delete this[a]
                } catch (c) {}
            })
        },
        addClass: function (a) {
            var b, c, d, e, g, h, i;
            if (f.isFunction(a)) return this.each(function (b) {
                f(this).addClass(a.call(this, b, this.className))
            });
            if (a && typeof a == "string") {
                b = a.split(o);
                for (c = 0, d = this.length; c < d; c++) {
                    e = this[c];
                    if (e.nodeType === 1) if (!e.className && b.length === 1) e.className = a;
                    else {
                        g = " " + e.className + " ";
                        for (h = 0, i = b.length; h < i; h++)~g.indexOf(" " + b[h] + " ") || (g += b[h] + " ");
                        e.className = f.trim(g)
                    }
                }
            }
            return this
        },
        removeClass: function (a) {
            var c, d, e, g, h, i, j;
            if (f.isFunction(a)) return this.each(function (b) {
                f(this).removeClass(a.call(this, b, this.className))
            });
            if (a && typeof a == "string" || a === b) {
                c = (a || "").split(o);
                for (d = 0, e = this.length; d < e; d++) {
                    g = this[d];
                    if (g.nodeType === 1 && g.className) if (a) {
                        h = (" " + g.className + " ").replace(n, " ");
                        for (i = 0, j = c.length; i < j; i++) h = h.replace(" " + c[i] + " ", " ");
                        g.className = f.trim(h)
                    } else g.className = ""
                }
            }
            return this
        },
        toggleClass: function (a, b) {
            var c = typeof a,
                d = typeof b == "boolean";
            if (f.isFunction(a)) return this.each(function (c) {
                f(this).toggleClass(a.call(this, c, this.className, b), b)
            });
            return this.each(function () {
                if (c === "string") {
                    var e, g = 0,
                        h = f(this),
                        i = b,
                        j = a.split(o);
                    while (e = j[g++]) i = d ? i : !h.hasClass(e), h[i ? "addClass" : "removeClass"](e)
                } else if (c === "undefined" || c === "boolean") this.className && f._data(this, "__className__", this.className), this.className = this.className || a === !1 ? "" : f._data(this, "__className__") || ""
            })
        },
        hasClass: function (a) {
            var b = " " + a + " ";
            for (var c = 0, d = this.length; c < d; c++) if (this[c].nodeType === 1 && (" " + this[c].className + " ").replace(n, " ").indexOf(b) > -1) return !0;
            return !1
        },
        val: function (a) {
            var c, d, e = this[0];
            if (!arguments.length) {
                if (e) {
                    c = f.valHooks[e.nodeName.toLowerCase()] || f.valHooks[e.type];
                    if (c && "get" in c && (d = c.get(e, "value")) !== b) return d;
                    d = e.value;
                    return typeof d == "string" ? d.replace(p, "") : d == null ? "" : d
                }
                return b
            }
            var g = f.isFunction(a);
            return this.each(function (d) {
                var e = f(this),
                    h;
                if (this.nodeType === 1) {
                    g ? h = a.call(this, d, e.val()) : h = a, h == null ? h = "" : typeof h == "number" ? h += "" : f.isArray(h) && (h = f.map(h, function (a) {
                        return a == null ? "" : a + ""
                    })), c = f.valHooks[this.nodeName.toLowerCase()] || f.valHooks[this.type];
                    if (!c || !("set" in c) || c.set(this, h, "value") === b) this.value = h
                }
            })
        }
    }), f.extend({
        valHooks: {
            option: {
                get: function (a) {
                    var b = a.attributes.value;
                    return !b || b.specified ? a.value : a.text
                }
            },
            select: {
                get: function (a) {
                    var b, c = a.selectedIndex,
                        d = [],
                        e = a.options,
                        g = a.type === "select-one";
                    if (c < 0) return null;
                    for (var h = g ? c : 0, i = g ? c + 1 : e.length; h < i; h++) {
                        var j = e[h];
                        if (j.selected && (f.support.optDisabled ? !j.disabled : j.getAttribute("disabled") === null) && (!j.parentNode.disabled || !f.nodeName(j.parentNode, "optgroup"))) {
                            b = f(j).val();
                            if (g) return b;
                            d.push(b)
                        }
                    }
                    if (g && !d.length && e.length) return f(e[c]).val();
                    return d
                },
                set: function (a, b) {
                    var c = f.makeArray(b);
                    f(a).find("option").each(function () {
                        this.selected = f.inArray(f(this).val(), c) >= 0
                    }), c.length || (a.selectedIndex = -1);
                    return c
                }
            }
        },
        attrFn: {
            val: !0,
            css: !0,
            html: !0,
            text: !0,
            data: !0,
            width: !0,
            height: !0,
            offset: !0
        },
        attrFix: {
            tabindex: "tabIndex"
        },
        attr: function (a, c, d, e) {
            var g = a.nodeType;
            if (!a || g === 3 || g === 8 || g === 2) return b;
            if (e && c in f.attrFn) return f(a)[c](d);
            if (!("getAttribute" in a)) return f.prop(a, c, d);
            var h, i, j = g !== 1 || !f.isXMLDoc(a);
            j && (c = f.attrFix[c] || c, i = f.attrHooks[c], i || (t.test(c) ? i = v : u && (i = u)));
            if (d !== b) {
                if (d === null) {
                    f.removeAttr(a, c);
                    return b
                }
                if (i && "set" in i && j && (h = i.set(a, d, c)) !== b) return h;
                a.setAttribute(c, "" + d);
                return d
            }
            if (i && "get" in i && j && (h = i.get(a, c)) !== null) return h;
            h = a.getAttribute(c);
            return h === null ? b : h
        },
        removeAttr: function (a, b) {
            var c;
            a.nodeType === 1 && (b = f.attrFix[b] || b, f.attr(a, b, ""), a.removeAttribute(b), t.test(b) && (c = f.propFix[b] || b) in a && (a[c] = !1))
        },
        attrHooks: {
            type: {
                set: function (a, b) {
                    if (q.test(a.nodeName) && a.parentNode) f.error("type property can't be changed");
                    else if (!f.support.radioValue && b === "radio" && f.nodeName(a, "input")) {
                        var c = a.value;
                        a.setAttribute("type", b), c && (a.value = c);
                        return b
                    }
                }
            },
            value: {
                get: function (a, b) {
                    if (u && f.nodeName(a, "button")) return u.get(a, b);
                    return b in a ? a.value : null
                },
                set: function (a, b, c) {
                    if (u && f.nodeName(a, "button")) return u.set(a, b, c);
                    a.value = b
                }
            }
        },
        propFix: {
            tabindex: "tabIndex",
            readonly: "readOnly",
            "for": "htmlFor",
            "class": "className",
            maxlength: "maxLength",
            cellspacing: "cellSpacing",
            cellpadding: "cellPadding",
            rowspan: "rowSpan",
            colspan: "colSpan",
            usemap: "useMap",
            frameborder: "frameBorder",
            contenteditable: "contentEditable"
        },
        prop: function (a, c, d) {
            var e = a.nodeType;
            if (!a || e === 3 || e === 8 || e === 2) return b;
            var g, h, i = e !== 1 || !f.isXMLDoc(a);
            i && (c = f.propFix[c] || c, h = f.propHooks[c]);
            return d !== b ? h && "set" in h && (g = h.set(a, d, c)) !== b ? g : a[c] = d : h && "get" in h && (g = h.get(a, c)) !== null ? g : a[c]
        },
        propHooks: {
            tabIndex: {
                get: function (a) {
                    var c = a.getAttributeNode("tabindex");
                    return c && c.specified ? parseInt(c.value, 10) : r.test(a.nodeName) || s.test(a.nodeName) && a.href ? 0 : b
                }
            }
        }
    }), f.attrHooks.tabIndex = f.propHooks.tabIndex, v = {
        get: function (a, c) {
            var d;
            return f.prop(a, c) === !0 || (d = a.getAttributeNode(c)) && d.nodeValue !== !1 ? c.toLowerCase() : b
        },
        set: function (a, b, c) {
            var d;
            b === !1 ? f.removeAttr(a, c) : (d = f.propFix[c] || c, d in a && (a[d] = !0), a.setAttribute(c, c.toLowerCase()));
            return c
        }
    }, f.support.getSetAttribute || (u = f.valHooks.button = {
        get: function (a, c) {
            var d;
            d = a.getAttributeNode(c);
            return d && d.nodeValue !== "" ? d.nodeValue : b
        },
        set: function (a, b, d) {
            var e = a.getAttributeNode(d);
            e || (e = c.createAttribute(d), a.setAttributeNode(e));
            return e.nodeValue = b + ""
        }
    }, f.each(["width", "height"], function (a, b) {
        f.attrHooks[b] = f.extend(f.attrHooks[b], {
            set: function (a, c) {
                if (c === "") {
                    a.setAttribute(b, "auto");
                    return c
                }
            }
        })
    })), f.support.hrefNormalized || f.each(["href", "src", "width", "height"], function (a, c) {
        f.attrHooks[c] = f.extend(f.attrHooks[c], {
            get: function (a) {
                var d = a.getAttribute(c, 2);
                return d === null ? b : d
            }
        })
    }), f.support.style || (f.attrHooks.style = {
        get: function (a) {
            return a.style.cssText.toLowerCase() || b
        },
        set: function (a, b) {
            return a.style.cssText = "" + b
        }
    }), f.support.optSelected || (f.propHooks.selected = f.extend(f.propHooks.selected, {
        get: function (a) {
            var b = a.parentNode;
            b && (b.selectedIndex, b.parentNode && b.parentNode.selectedIndex);
            return null
        }
    })), f.support.checkOn || f.each(["radio", "checkbox"], function () {
        f.valHooks[this] = {
            get: function (a) {
                return a.getAttribute("value") === null ? "on" : a.value
            }
        }
    }), f.each(["radio", "checkbox"], function () {
        f.valHooks[this] = f.extend(f.valHooks[this], {
            set: function (a, b) {
                if (f.isArray(b)) return a.checked = f.inArray(f(a).val(), b) >= 0
            }
        })
    });
    var w = /\.(.*)$/,
        x = /^(?:textarea|input|select)$/i,
        y = /\./g,
        z = / /g,
        A = /[^\w\s.|`]/g,
        B = function (a) {
            return a.replace(A, "\\$&")
        };
    f.event = {
        add: function (a, c, d, e) {
            if (a.nodeType !== 3 && a.nodeType !== 8) {
                if (d === !1) d = C;
                else if (!d) return;
                var g, h;
                d.handler && (g = d, d = g.handler), d.guid || (d.guid = f.guid++);
                var i = f._data(a);
                if (!i) return;
                var j = i.events,
                    k = i.handle;
                j || (i.events = j = {}), k || (i.handle = k = function (a) {
                    return typeof f != "undefined" && (!a || f.event.triggered !== a.type) ? f.event.handle.apply(k.elem, arguments) : b
                }), k.elem = a, c = c.split(" ");
                var l, m = 0,
                    n;
                while (l = c[m++]) {
                    h = g ? f.extend({}, g) : {
                        handler: d,
                        data: e
                    }, l.indexOf(".") > -1 ? (n = l.split("."), l = n.shift(), h.namespace = n.slice(0).sort().join(".")) : (n = [], h.namespace = ""), h.type = l, h.guid || (h.guid = d.guid);
                    var o = j[l],
                        p = f.event.special[l] || {};
                    if (!o) {
                        o = j[l] = [];
                        if (!p.setup || p.setup.call(a, e, n, k) === !1) a.addEventListener ? a.addEventListener(l, k, !1) : a.attachEvent && a.attachEvent("on" + l, k)
                    }
                    p.add && (p.add.call(a, h), h.handler.guid || (h.handler.guid = d.guid)), o.push(h), f.event.global[l] = !0
                }
                a = null
            }
        },
        global: {},
        remove: function (a, c, d, e) {
            if (a.nodeType !== 3 && a.nodeType !== 8) {
                d === !1 && (d = C);
                var g, h, i, j, k = 0,
                    l, m, n, o, p, q, r, s = f.hasData(a) && f._data(a),
                    t = s && s.events;
                if (!s || !t) return;
                c && c.type && (d = c.handler, c = c.type);
                if (!c || typeof c == "string" && c.charAt(0) === ".") {
                    c = c || "";
                    for (h in t) f.event.remove(a, h + c);
                    return
                }
                c = c.split(" ");
                while (h = c[k++]) {
                    r = h, q = null, l = h.indexOf(".") < 0, m = [], l || (m = h.split("."), h = m.shift(), n = new RegExp("(^|\\.)" + f.map(m.slice(0).sort(), B).join("\\.(?:.*\\.)?") + "(\\.|$)")), p = t[h];
                    if (!p) continue;
                    if (!d) {
                        for (j = 0; j < p.length; j++) {
                            q = p[j];
                            if (l || n.test(q.namespace)) f.event.remove(a, r, q.handler, j), p.splice(j--, 1)
                        }
                        continue
                    }
                    o = f.event.special[h] || {};
                    for (j = e || 0; j < p.length; j++) {
                        q = p[j];
                        if (d.guid === q.guid) {
                            if (l || n.test(q.namespace)) e == null && p.splice(j--, 1), o.remove && o.remove.call(a, q);
                            if (e != null) break
                        }
                    }
                    if (p.length === 0 || e != null && p.length === 1)(!o.teardown || o.teardown.call(a, m) === !1) && f.removeEvent(a, h, s.handle), g = null, delete t[h]
                }
                if (f.isEmptyObject(t)) {
                    var u = s.handle;
                    u && (u.elem = null), delete s.events, delete s.handle, f.isEmptyObject(s) && f.removeData(a, b, !0)
                }
            }
        },
        customEvent: {
            getData: !0,
            setData: !0,
            changeData: !0
        },
        trigger: function (c, d, e, g) {
            var h = c.type || c,
                i = [],
                j;
            h.indexOf("!") >= 0 && (h = h.slice(0, -1), j = !0), h.indexOf(".") >= 0 && (i = h.split("."), h = i.shift(), i.sort());
            if ( !! e && !f.event.customEvent[h] || !! f.event.global[h]) {
                c = typeof c == "object" ? c[f.expando] ? c : new f.Event(h, c) : new f.Event(h), c.type = h, c.exclusive = j, c.namespace = i.join("."), c.namespace_re = new RegExp("(^|\\.)" + i.join("\\.(?:.*\\.)?") + "(\\.|$)");
                if (g || !e) c.preventDefault(), c.stopPropagation();
                if (!e) {
                    f.each(f.cache, function () {
                        var a = f.expando,
                            b = this[a];
                        b && b.events && b.events[h] && f.event.trigger(c, d, b.handle.elem)
                    });
                    return
                }
                if (e.nodeType === 3 || e.nodeType === 8) return;
                c.result = b, c.target = e, d = d != null ? f.makeArray(d) : [], d.unshift(c);
                var k = e,
                    l = h.indexOf(":") < 0 ? "on" + h : "";
                do {
                    var m = f._data(k, "handle");
                    c.currentTarget = k, m && m.apply(k, d), l && f.acceptData(k) && k[l] && k[l].apply(k, d) === !1 && (c.result = !1, c.preventDefault()), k = k.parentNode || k.ownerDocument || k === c.target.ownerDocument && a
                } while (k && !c.isPropagationStopped());
                if (!c.isDefaultPrevented()) {
                    var n, o = f.event.special[h] || {};
                    if ((!o._default || o._default.call(e.ownerDocument, c) === !1) && (h !== "click" || !f.nodeName(e, "a")) && f.acceptData(e)) {
                        try {
                            l && e[h] && (n = e[l], n && (e[l] = null), f.event.triggered = h, e[h]())
                        } catch (p) {}
                        n && (e[l] = n), f.event.triggered = b
                    }
                }
                return c.result
            }
        },
        handle: function (c) {
            c = f.event.fix(c || a.event);
            var d = ((f._data(this, "events") || {})[c.type] || []).slice(0),
                e = !c.exclusive && !c.namespace,
                g = Array.prototype.slice.call(arguments, 0);
            g[0] = c, c.currentTarget = this;
            for (var h = 0, i = d.length; h < i; h++) {
                var j = d[h];
                if (e || c.namespace_re.test(j.namespace)) {
                    c.handler = j.handler, c.data = j.data, c.handleObj = j;
                    var k = j.handler.apply(this, g);
                    k !== b && (c.result = k, k === !1 && (c.preventDefault(), c.stopPropagation()));
                    if (c.isImmediatePropagationStopped()) break
                }
            }
            return c.result
        },
        props: "altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" "),
        fix: function (a) {
            if (a[f.expando]) return a;
            var d = a;
            a = f.Event(d);
            for (var e = this.props.length, g; e;) g = this.props[--e], a[g] = d[g];
            a.target || (a.target = a.srcElement || c), a.target.nodeType === 3 && (a.target = a.target.parentNode), !a.relatedTarget && a.fromElement && (a.relatedTarget = a.fromElement === a.target ? a.toElement : a.fromElement);
            if (a.pageX == null && a.clientX != null) {
                var h = a.target.ownerDocument || c,
                    i = h.documentElement,
                    j = h.body;
                a.pageX = a.clientX + (i && i.scrollLeft || j && j.scrollLeft || 0) - (i && i.clientLeft || j && j.clientLeft || 0), a.pageY = a.clientY + (i && i.scrollTop || j && j.scrollTop || 0) - (i && i.clientTop || j && j.clientTop || 0)
            }
            a.which == null && (a.charCode != null || a.keyCode != null) && (a.which = a.charCode != null ? a.charCode : a.keyCode), !a.metaKey && a.ctrlKey && (a.metaKey = a.ctrlKey), !a.which && a.button !== b && (a.which = a.button & 1 ? 1 : a.button & 2 ? 3 : a.button & 4 ? 2 : 0);
            return a
        },
        guid: 1e8,
        proxy: f.proxy,
        special: {
            ready: {
                setup: f.bindReady,
                teardown: f.noop
            },
            live: {
                add: function (a) {
                    f.event.add(this, M(a.origType, a.selector), f.extend({}, a, {
                        handler: L,
                        guid: a.handler.guid
                    }))
                },
                remove: function (a) {
                    f.event.remove(this, M(a.origType, a.selector), a)
                }
            },
            beforeunload: {
                setup: function (a, b, c) {
                    f.isWindow(this) && (this.onbeforeunload = c)
                },
                teardown: function (a, b) {
                    this.onbeforeunload === b && (this.onbeforeunload = null)
                }
            }
        }
    }, f.removeEvent = c.removeEventListener ?
    function (a, b, c) {
        a.removeEventListener && a.removeEventListener(b, c, !1)
    } : function (a, b, c) {
        a.detachEvent && a.detachEvent("on" + b, c)
    }, f.Event = function (a, b) {
        if (!this.preventDefault) return new f.Event(a, b);
        a && a.type ? (this.originalEvent = a, this.type = a.type, this.isDefaultPrevented = a.defaultPrevented || a.returnValue === !1 || a.getPreventDefault && a.getPreventDefault() ? D : C) : this.type = a, b && f.extend(this, b), this.timeStamp = f.now(), this[f.expando] = !0
    }, f.Event.prototype = {
        preventDefault: function () {
            this.isDefaultPrevented = D;
            var a = this.originalEvent;
            !a || (a.preventDefault ? a.preventDefault() : a.returnValue = !1)
        },
        stopPropagation: function () {
            this.isPropagationStopped = D;
            var a = this.originalEvent;
            !a || (a.stopPropagation && a.stopPropagation(), a.cancelBubble = !0)
        },
        stopImmediatePropagation: function () {
            this.isImmediatePropagationStopped = D, this.stopPropagation()
        },
        isDefaultPrevented: C,
        isPropagationStopped: C,
        isImmediatePropagationStopped: C
    };
    var E = function (a) {
            var b = a.relatedTarget,
                c = !1,
                d = a.type;
            a.type = a.data, b !== this && (b && (c = f.contains(this, b)), c || (f.event.handle.apply(this, arguments), a.type = d))
        },
        F = function (a) {
            a.type = a.data, f.event.handle.apply(this, arguments)
        };
    f.each({
        mouseenter: "mouseover",
        mouseleave: "mouseout"
    }, function (a, b) {
        f.event.special[a] = {
            setup: function (c) {
                f.event.add(this, b, c && c.selector ? F : E, a)
            },
            teardown: function (a) {
                f.event.remove(this, b, a && a.selector ? F : E)
            }
        }
    }), f.support.submitBubbles || (f.event.special.submit = {
        setup: function (a, b) {
            if (!f.nodeName(this, "form")) f.event.add(this, "click.specialSubmit", function (a) {
                var b = a.target,
                    c = f.nodeName(b, "input") ? b.type : "";
                (c === "submit" || c === "image") && f(b).closest("form").length && J("submit", this, arguments)
            }), f.event.add(this, "keypress.specialSubmit", function (a) {
                var b = a.target,
                    c = f.nodeName(b, "input") ? b.type : "";
                (c === "text" || c === "password") && f(b).closest("form").length && a.keyCode === 13 && J("submit", this, arguments)
            });
            else return !1
        },
        teardown: function (a) {
            f.event.remove(this, ".specialSubmit")
        }
    });
    if (!f.support.changeBubbles) {
        var G, H = function (a) {
                var b = f.nodeName(a, "input") ? a.type : "",
                    c = a.value;
                b === "radio" || b === "checkbox" ? c = a.checked : b === "select-multiple" ? c = a.selectedIndex > -1 ? f.map(a.options, function (a) {
                    return a.selected
                }).join("-") : "" : f.nodeName(a, "select") && (c = a.selectedIndex);
                return c
            },
            I = function (c) {
                var d = c.target,
                    e, g;
                if ( !! x.test(d.nodeName) && !d.readOnly) {
                    e = f._data(d, "_change_data"), g = H(d), (c.type !== "focusout" || d.type !== "radio") && f._data(d, "_change_data", g);
                    if (e === b || g === e) return;
                    if (e != null || g) c.type = "change", c.liveFired = b, f.event.trigger(c, arguments[1], d)
                }
            };
        f.event.special.change = {
            filters: {
                focusout: I,
                beforedeactivate: I,
                click: function (a) {
                    var b = a.target,
                        c = f.nodeName(b, "input") ? b.type : "";
                    (c === "radio" || c === "checkbox" || f.nodeName(b, "select")) && I.call(this, a)
                },
                keydown: function (a) {
                    var b = a.target,
                        c = f.nodeName(b, "input") ? b.type : "";
                    (a.keyCode === 13 && !f.nodeName(b, "textarea") || a.keyCode === 32 && (c === "checkbox" || c === "radio") || c === "select-multiple") && I.call(this, a)
                },
                beforeactivate: function (a) {
                    var b = a.target;
                    f._data(b, "_change_data", H(b))
                }
            },
            setup: function (a, b) {
                if (this.type === "file") return !1;
                for (var c in G) f.event.add(this, c + ".specialChange", G[c]);
                return x.test(this.nodeName)
            },
            teardown: function (a) {
                f.event.remove(this, ".specialChange");
                return x.test(this.nodeName)
            }
        }, G = f.event.special.change.filters, G.focus = G.beforeactivate
    }
    f.support.focusinBubbles || f.each({
        focus: "focusin",
        blur: "focusout"
    }, function (a, b) {
        function e(a) {
            var c = f.event.fix(a);
            c.type = b, c.originalEvent = {}, f.event.trigger(c, null, c.target), c.isDefaultPrevented() && a.preventDefault()
        }
        var d = 0;
        f.event.special[b] = {
            setup: function () {
                d++ === 0 && c.addEventListener(a, e, !0)
            },
            teardown: function () {
                --d === 0 && c.removeEventListener(a, e, !0)
            }
        }
    }), f.each(["bind", "one"], function (a, c) {
        f.fn[c] = function (a, d, e) {
            var g;
            if (typeof a == "object") {
                for (var h in a) this[c](h, d, a[h], e);
                return this
            }
            if (arguments.length === 2 || d === !1) e = d, d = b;
            c === "one" ? (g = function (a) {
                f(this).unbind(a, g);
                return e.apply(this, arguments)
            }, g.guid = e.guid || f.guid++) : g = e;
            if (a === "unload" && c !== "one") this.one(a, d, e);
            else for (var i = 0, j = this.length; i < j; i++) f.event.add(this[i], a, g, d);
            return this
        }
    }), f.fn.extend({
        unbind: function (a, b) {
            if (typeof a == "object" && !a.preventDefault) for (var c in a) this.unbind(c, a[c]);
            else for (var d = 0, e = this.length; d < e; d++) f.event.remove(this[d], a, b);
            return this
        },
        delegate: function (a, b, c, d) {
            return this.live(b, c, d, a)
        },
        undelegate: function (a, b, c) {
            return arguments.length === 0 ? this.unbind("live") : this.die(b, null, c, a)
        },
        trigger: function (a, b) {
            return this.each(function () {
                f.event.trigger(a, b, this)
            })
        },
        triggerHandler: function (a, b) {
            if (this[0]) return f.event.trigger(a, b, this[0], !0)
        },
        toggle: function (a) {
            var b = arguments,
                c = a.guid || f.guid++,
                d = 0,
                e = function (c) {
                    var e = (f.data(this, "lastToggle" + a.guid) || 0) % d;
                    f.data(this, "lastToggle" + a.guid, e + 1), c.preventDefault();
                    return b[e].apply(this, arguments) || !1
                };
            e.guid = c;
            while (d < b.length) b[d++].guid = c;
            return this.click(e)
        },
        hover: function (a, b) {
            return this.mouseenter(a).mouseleave(b || a)
        }
    });
    var K = {
        focus: "focusin",
        blur: "focusout",
        mouseenter: "mouseover",
        mouseleave: "mouseout"
    };
    f.each(["live", "die"], function (a, c) {
        f.fn[c] = function (a, d, e, g) {
            var h, i = 0,
                j, k, l, m = g || this.selector,
                n = g ? this : f(this.context);
            if (typeof a == "object" && !a.preventDefault) {
                for (var o in a) n[c](o, d, a[o], m);
                return this
            }
            if (c === "die" && !a && g && g.charAt(0) === ".") {
                n.unbind(g);
                return this
            }
            if (d === !1 || f.isFunction(d)) e = d || C, d = b;
            a = (a || "").split(" ");
            while ((h = a[i++]) != null) {
                j = w.exec(h), k = "", j && (k = j[0], h = h.replace(w, ""));
                if (h === "hover") {
                    a.push("mouseenter" + k, "mouseleave" + k);
                    continue
                }
                l = h, K[h] ? (a.push(K[h] + k), h = h + k) : h = (K[h] || h) + k;
                if (c === "live") for (var p = 0, q = n.length; p < q; p++) f.event.add(n[p], "live." + M(h, m), {
                    data: d,
                    selector: m,
                    handler: e,
                    origType: h,
                    origHandler: e,
                    preType: l
                });
                else n.unbind("live." + M(h, m), e)
            }
            return this
        }
    }), f.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error".split(" "), function (a, b) {
        f.fn[b] = function (a, c) {
            c == null && (c = a, a = null);
            return arguments.length > 0 ? this.bind(b, a, c) : this.trigger(b)
        }, f.attrFn && (f.attrFn[b] = !0)
    }), function () {
        function u(a, b, c, d, e, f) {
            for (var g = 0, h = d.length; g < h; g++) {
                var i = d[g];
                if (i) {
                    var j = !1;
                    i = i[a];
                    while (i) {
                        if (i.sizcache === c) {
                            j = d[i.sizset];
                            break
                        }
                        if (i.nodeType === 1) {
                            f || (i.sizcache = c, i.sizset = g);
                            if (typeof b != "string") {
                                if (i === b) {
                                    j = !0;
                                    break
                                }
                            } else if (k.filter(b, [i]).length > 0) {
                                j = i;
                                break
                            }
                        }
                        i = i[a]
                    }
                    d[g] = j
                }
            }
        }
        function t(a, b, c, d, e, f) {
            for (var g = 0, h = d.length; g < h; g++) {
                var i = d[g];
                if (i) {
                    var j = !1;
                    i = i[a];
                    while (i) {
                        if (i.sizcache === c) {
                            j = d[i.sizset];
                            break
                        }
                        i.nodeType === 1 && !f && (i.sizcache = c, i.sizset = g);
                        if (i.nodeName.toLowerCase() === b) {
                            j = i;
                            break
                        }
                        i = i[a]
                    }
                    d[g] = j
                }
            }
        }
        var a = /((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,
            d = 0,
            e = Object.prototype.toString,
            g = !1,
            h = !0,
            i = /\\/g,
            j = /\W/;
        [0, 0].sort(function () {
            h = !1;
            return 0
        });
        var k = function (b, d, f, g) {
                f = f || [], d = d || c;
                var h = d;
                if (d.nodeType !== 1 && d.nodeType !== 9) return [];
                if (!b || typeof b != "string") return f;
                var i, j, n, o, q, r, s, t, u = !0,
                    w = k.isXML(d),
                    x = [],
                    y = b;
                do {
                    a.exec(""), i = a.exec(y);
                    if (i) {
                        y = i[3], x.push(i[1]);
                        if (i[2]) {
                            o = i[3];
                            break
                        }
                    }
                } while (i);
                if (x.length > 1 && m.exec(b)) if (x.length === 2 && l.relative[x[0]]) j = v(x[0] + x[1], d);
                else {
                    j = l.relative[x[0]] ? [d] : k(x.shift(), d);
                    while (x.length) b = x.shift(), l.relative[b] && (b += x.shift()), j = v(b, j)
                } else {
                    !g && x.length > 1 && d.nodeType === 9 && !w && l.match.ID.test(x[0]) && !l.match.ID.test(x[x.length - 1]) && (q = k.find(x.shift(), d, w), d = q.expr ? k.filter(q.expr, q.set)[0] : q.set[0]);
                    if (d) {
                        q = g ? {
                            expr: x.pop(),
                            set: p(g)
                        } : k.find(x.pop(), x.length === 1 && (x[0] === "~" || x[0] === "+") && d.parentNode ? d.parentNode : d, w), j = q.expr ? k.filter(q.expr, q.set) : q.set, x.length > 0 ? n = p(j) : u = !1;
                        while (x.length) r = x.pop(), s = r, l.relative[r] ? s = x.pop() : r = "", s == null && (s = d), l.relative[r](n, s, w)
                    } else n = x = []
                }
                n || (n = j), n || k.error(r || b);
                if (e.call(n) === "[object Array]") if (!u) f.push.apply(f, n);
                else if (d && d.nodeType === 1) for (t = 0; n[t] != null; t++) n[t] && (n[t] === !0 || n[t].nodeType === 1 && k.contains(d, n[t])) && f.push(j[t]);
                else for (t = 0; n[t] != null; t++) n[t] && n[t].nodeType === 1 && f.push(j[t]);
                else p(n, f);
                o && (k(o, h, f, g), k.uniqueSort(f));
                return f
            };
        k.uniqueSort = function (a) {
            if (r) {
                g = h, a.sort(r);
                if (g) for (var b = 1; b < a.length; b++) a[b] === a[b - 1] && a.splice(b--, 1)
            }
            return a
        }, k.matches = function (a, b) {
            return k(a, null, null, b)
        }, k.matchesSelector = function (a, b) {
            return k(b, null, null, [a]).length > 0
        }, k.find = function (a, b, c) {
            var d;
            if (!a) return [];
            for (var e = 0, f = l.order.length; e < f; e++) {
                var g, h = l.order[e];
                if (g = l.leftMatch[h].exec(a)) {
                    var j = g[1];
                    g.splice(1, 1);
                    if (j.substr(j.length - 1) !== "\\") {
                        g[1] = (g[1] || "").replace(i, ""), d = l.find[h](g, b, c);
                        if (d != null) {
                            a = a.replace(l.match[h], "");
                            break
                        }
                    }
                }
            }
            d || (d = typeof b.getElementsByTagName != "undefined" ? b.getElementsByTagName("*") : []);
            return {
                set: d,
                expr: a
            }
        }, k.filter = function (a, c, d, e) {
            var f, g, h = a,
                i = [],
                j = c,
                m = c && c[0] && k.isXML(c[0]);
            while (a && c.length) {
                for (var n in l.filter) if ((f = l.leftMatch[n].exec(a)) != null && f[2]) {
                    var o, p, q = l.filter[n],
                        r = f[1];
                    g = !1, f.splice(1, 1);
                    if (r.substr(r.length - 1) === "\\") continue;
                    j === i && (i = []);
                    if (l.preFilter[n]) {
                        f = l.preFilter[n](f, j, d, i, e, m);
                        if (!f) g = o = !0;
                        else if (f === !0) continue
                    }
                    if (f) for (var s = 0;
                    (p = j[s]) != null; s++) if (p) {
                        o = q(p, f, s, j);
                        var t = e ^ !! o;
                        d && o != null ? t ? g = !0 : j[s] = !1 : t && (i.push(p), g = !0)
                    }
                    if (o !== b) {
                        d || (j = i), a = a.replace(l.match[n], "");
                        if (!g) return [];
                        break
                    }
                }
                if (a === h) if (g == null) k.error(a);
                else break;
                h = a
            }
            return j
        }, k.error = function (a) {
            throw "Syntax error, unrecognized expression: " + a
        };
        var l = k.selectors = {
            order: ["ID", "NAME", "TAG"],
            match: {
                ID: /#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,
                CLASS: /\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,
                NAME: /\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,
                ATTR: /\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,
                TAG: /^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,
                CHILD: /:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,
                POS: /:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,
                PSEUDO: /:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/
            },
            leftMatch: {},
            attrMap: {
                "class": "className",
                "for": "htmlFor"
            },
            attrHandle: {
                href: function (a) {
                    return a.getAttribute("href")
                },
                type: function (a) {
                    return a.getAttribute("type")
                }
            },
            relative: {
                "+": function (a, b) {
                    var c = typeof b == "string",
                        d = c && !j.test(b),
                        e = c && !d;
                    d && (b = b.toLowerCase());
                    for (var f = 0, g = a.length, h; f < g; f++) if (h = a[f]) {
                        while ((h = h.previousSibling) && h.nodeType !== 1);
                        a[f] = e || h && h.nodeName.toLowerCase() === b ? h || !1 : h === b
                    }
                    e && k.filter(b, a, !0)
                },
                ">": function (a, b) {
                    var c, d = typeof b == "string",
                        e = 0,
                        f = a.length;
                    if (d && !j.test(b)) {
                        b = b.toLowerCase();
                        for (; e < f; e++) {
                            c = a[e];
                            if (c) {
                                var g = c.parentNode;
                                a[e] = g.nodeName.toLowerCase() === b ? g : !1
                            }
                        }
                    } else {
                        for (; e < f; e++) c = a[e], c && (a[e] = d ? c.parentNode : c.parentNode === b);
                        d && k.filter(b, a, !0)
                    }
                },
                "": function (a, b, c) {
                    var e, f = d++,
                        g = u;
                    typeof b == "string" && !j.test(b) && (b = b.toLowerCase(), e = b, g = t), g("parentNode", b, f, a, e, c)
                },
                "~": function (a, b, c) {
                    var e, f = d++,
                        g = u;
                    typeof b == "string" && !j.test(b) && (b = b.toLowerCase(), e = b, g = t), g("previousSibling", b, f, a, e, c)
                }
            },
            find: {
                ID: function (a, b, c) {
                    if (typeof b.getElementById != "undefined" && !c) {
                        var d = b.getElementById(a[1]);
                        return d && d.parentNode ? [d] : []
                    }
                },
                NAME: function (a, b) {
                    if (typeof b.getElementsByName != "undefined") {
                        var c = [],
                            d = b.getElementsByName(a[1]);
                        for (var e = 0, f = d.length; e < f; e++) d[e].getAttribute("name") === a[1] && c.push(d[e]);
                        return c.length === 0 ? null : c
                    }
                },
                TAG: function (a, b) {
                    if (typeof b.getElementsByTagName != "undefined") return b.getElementsByTagName(a[1])
                }
            },
            preFilter: {
                CLASS: function (a, b, c, d, e, f) {
                    a = " " + a[1].replace(i, "") + " ";
                    if (f) return a;
                    for (var g = 0, h;
                    (h = b[g]) != null; g++) h && (e ^ (h.className && (" " + h.className + " ").replace(/[\t\n\r]/g, " ").indexOf(a) >= 0) ? c || d.push(h) : c && (b[g] = !1));
                    return !1
                },
                ID: function (a) {
                    return a[1].replace(i, "")
                },
                TAG: function (a, b) {
                    return a[1].replace(i, "").toLowerCase()
                },
                CHILD: function (a) {
                    if (a[1] === "nth") {
                        a[2] || k.error(a[0]), a[2] = a[2].replace(/^\+|\s*/g, "");
                        var b = /(-?)(\d*)(?:n([+\-]?\d*))?/.exec(a[2] === "even" && "2n" || a[2] === "odd" && "2n+1" || !/\D/.test(a[2]) && "0n+" + a[2] || a[2]);
                        a[2] = b[1] + (b[2] || 1) - 0, a[3] = b[3] - 0
                    } else a[2] && k.error(a[0]);
                    a[0] = d++;
                    return a
                },
                ATTR: function (a, b, c, d, e, f) {
                    var g = a[1] = a[1].replace(i, "");
                    !f && l.attrMap[g] && (a[1] = l.attrMap[g]), a[4] = (a[4] || a[5] || "").replace(i, ""), a[2] === "~=" && (a[4] = " " + a[4] + " ");
                    return a
                },
                PSEUDO: function (b, c, d, e, f) {
                    if (b[1] === "not") if ((a.exec(b[3]) || "").length > 1 || /^\w/.test(b[3])) b[3] = k(b[3], null, null, c);
                    else {
                        var g = k.filter(b[3], c, d, !0 ^ f);
                        d || e.push.apply(e, g);
                        return !1
                    } else if (l.match.POS.test(b[0]) || l.match.CHILD.test(b[0])) return !0;
                    return b
                },
                POS: function (a) {
                    a.unshift(!0);
                    return a
                }
            },
            filters: {
                enabled: function (a) {
                    return a.disabled === !1 && a.type !== "hidden"
                },
                disabled: function (a) {
                    return a.disabled === !0
                },
                checked: function (a) {
                    return a.checked === !0
                },
                selected: function (a) {
                    a.parentNode && a.parentNode.selectedIndex;
                    return a.selected === !0
                },
                parent: function (a) {
                    return !!a.firstChild
                },
                empty: function (a) {
                    return !a.firstChild
                },
                has: function (a, b, c) {
                    return !!k(c[3], a).length
                },
                header: function (a) {
                    return /h\d/i.test(a.nodeName)
                },
                text: function (a) {
                    var b = a.getAttribute("type"),
                        c = a.type;
                    return a.nodeName.toLowerCase() === "input" && "text" === c && (b === c || b === null)
                },
                radio: function (a) {
                    return a.nodeName.toLowerCase() === "input" && "radio" === a.type
                },
                checkbox: function (a) {
                    return a.nodeName.toLowerCase() === "input" && "checkbox" === a.type
                },
                file: function (a) {
                    return a.nodeName.toLowerCase() === "input" && "file" === a.type
                },
                password: function (a) {
                    return a.nodeName.toLowerCase() === "input" && "password" === a.type
                },
                submit: function (a) {
                    var b = a.nodeName.toLowerCase();
                    return (b === "input" || b === "button") && "submit" === a.type
                },
                image: function (a) {
                    return a.nodeName.toLowerCase() === "input" && "image" === a.type
                },
                reset: function (a) {
                    var b = a.nodeName.toLowerCase();
                    return (b === "input" || b === "button") && "reset" === a.type
                },
                button: function (a) {
                    var b = a.nodeName.toLowerCase();
                    return b === "input" && "button" === a.type || b === "button"
                },
                input: function (a) {
                    return /input|select|textarea|button/i.test(a.nodeName)
                },
                focus: function (a) {
                    return a === a.ownerDocument.activeElement
                }
            },
            setFilters: {
                first: function (a, b) {
                    return b === 0
                },
                last: function (a, b, c, d) {
                    return b === d.length - 1
                },
                even: function (a, b) {
                    return b % 2 === 0
                },
                odd: function (a, b) {
                    return b % 2 === 1
                },
                lt: function (a, b, c) {
                    return b < c[3] - 0
                },
                gt: function (a, b, c) {
                    return b > c[3] - 0
                },
                nth: function (a, b, c) {
                    return c[3] - 0 === b
                },
                eq: function (a, b, c) {
                    return c[3] - 0 === b
                }
            },
            filter: {
                PSEUDO: function (a, b, c, d) {
                    var e = b[1],
                        f = l.filters[e];
                    if (f) return f(a, c, b, d);
                    if (e === "contains") return (a.textContent || a.innerText || k.getText([a]) || "").indexOf(b[3]) >= 0;
                    if (e === "not") {
                        var g = b[3];
                        for (var h = 0, i = g.length; h < i; h++) if (g[h] === a) return !1;
                        return !0
                    }
                    k.error(e)
                },
                CHILD: function (a, b) {
                    var c = b[1],
                        d = a;
                    switch (c) {
                    case "only":
                    case "first":
                        while (d = d.previousSibling) if (d.nodeType === 1) return !1;
                        if (c === "first") return !0;
                        d = a;
                    case "last":
                        while (d = d.nextSibling) if (d.nodeType === 1) return !1;
                        return !0;
                    case "nth":
                        var e = b[2],
                            f = b[3];
                        if (e === 1 && f === 0) return !0;
                        var g = b[0],
                            h = a.parentNode;
                        if (h && (h.sizcache !== g || !a.nodeIndex)) {
                            var i = 0;
                            for (d = h.firstChild; d; d = d.nextSibling) d.nodeType === 1 && (d.nodeIndex = ++i);
                            h.sizcache = g
                        }
                        var j = a.nodeIndex - f;
                        return e === 0 ? j === 0 : j % e === 0 && j / e >= 0
                    }
                },
                ID: function (a, b) {
                    return a.nodeType === 1 && a.getAttribute("id") === b
                },
                TAG: function (a, b) {
                    return b === "*" && a.nodeType === 1 || a.nodeName.toLowerCase() === b
                },
                CLASS: function (a, b) {
                    return (" " + (a.className || a.getAttribute("class")) + " ").indexOf(b) > -1
                },
                ATTR: function (a, b) {
                    var c = b[1],
                        d = l.attrHandle[c] ? l.attrHandle[c](a) : a[c] != null ? a[c] : a.getAttribute(c),
                        e = d + "",
                        f = b[2],
                        g = b[4];
                    return d == null ? f === "!=" : f === "=" ? e === g : f === "*=" ? e.indexOf(g) >= 0 : f === "~=" ? (" " + e + " ").indexOf(g) >= 0 : g ? f === "!=" ? e !== g : f === "^=" ? e.indexOf(g) === 0 : f === "$=" ? e.substr(e.length - g.length) === g : f === "|=" ? e === g || e.substr(0, g.length + 1) === g + "-" : !1 : e && d !== !1
                },
                POS: function (a, b, c, d) {
                    var e = b[2],
                        f = l.setFilters[e];
                    if (f) return f(a, c, b, d)
                }
            }
        },
            m = l.match.POS,
            n = function (a, b) {
                return "\\" + (b - 0 + 1)
            };
        for (var o in l.match) l.match[o] = new RegExp(l.match[o].source + /(?![^\[]*\])(?![^\(]*\))/.source), l.leftMatch[o] = new RegExp(/(^(?:.|\r|\n)*?)/.source + l.match[o].source.replace(/\\(\d+)/g, n));
        var p = function (a, b) {
                a = Array.prototype.slice.call(a, 0);
                if (b) {
                    b.push.apply(b, a);
                    return b
                }
                return a
            };
        try {
            Array.prototype.slice.call(c.documentElement.childNodes, 0)[0].nodeType
        } catch (q) {
            p = function (a, b) {
                var c = 0,
                    d = b || [];
                if (e.call(a) === "[object Array]") Array.prototype.push.apply(d, a);
                else if (typeof a.length == "number") for (var f = a.length; c < f; c++) d.push(a[c]);
                else for (; a[c]; c++) d.push(a[c]);
                return d
            }
        }
        var r, s;
        c.documentElement.compareDocumentPosition ? r = function (a, b) {
            if (a === b) {
                g = !0;
                return 0
            }
            if (!a.compareDocumentPosition || !b.compareDocumentPosition) return a.compareDocumentPosition ? -1 : 1;
            return a.compareDocumentPosition(b) & 4 ? -1 : 1
        } : (r = function (a, b) {
            if (a === b) {
                g = !0;
                return 0
            }
            if (a.sourceIndex && b.sourceIndex) return a.sourceIndex - b.sourceIndex;
            var c, d, e = [],
                f = [],
                h = a.parentNode,
                i = b.parentNode,
                j = h;
            if (h === i) return s(a, b);
            if (!h) return -1;
            if (!i) return 1;
            while (j) e.unshift(j), j = j.parentNode;
            j = i;
            while (j) f.unshift(j), j = j.parentNode;
            c = e.length, d = f.length;
            for (var k = 0; k < c && k < d; k++) if (e[k] !== f[k]) return s(e[k], f[k]);
            return k === c ? s(a, f[k], -1) : s(e[k], b, 1)
        }, s = function (a, b, c) {
            if (a === b) return c;
            var d = a.nextSibling;
            while (d) {
                if (d === b) return -1;
                d = d.nextSibling
            }
            return 1
        }), k.getText = function (a) {
            var b = "",
                c;
            for (var d = 0; a[d]; d++) c = a[d], c.nodeType === 3 || c.nodeType === 4 ? b += c.nodeValue : c.nodeType !== 8 && (b += k.getText(c.childNodes));
            return b
        }, function () {
            var a = c.createElement("div"),
                d = "script" + (new Date).getTime(),
                e = c.documentElement;
            a.innerHTML = "<a name='" + d + "'/>", e.insertBefore(a, e.firstChild), c.getElementById(d) && (l.find.ID = function (a, c, d) {
                if (typeof c.getElementById != "undefined" && !d) {
                    var e = c.getElementById(a[1]);
                    return e ? e.id === a[1] || typeof e.getAttributeNode != "undefined" && e.getAttributeNode("id").nodeValue === a[1] ? [e] : b : []
                }
            }, l.filter.ID = function (a, b) {
                var c = typeof a.getAttributeNode != "undefined" && a.getAttributeNode("id");
                return a.nodeType === 1 && c && c.nodeValue === b
            }), e.removeChild(a), e = a = null
        }(), function () {
            var a = c.createElement("div");
            a.appendChild(c.createComment("")), a.getElementsByTagName("*").length > 0 && (l.find.TAG = function (a, b) {
                var c = b.getElementsByTagName(a[1]);
                if (a[1] === "*") {
                    var d = [];
                    for (var e = 0; c[e]; e++) c[e].nodeType === 1 && d.push(c[e]);
                    c = d
                }
                return c
            }), a.innerHTML = "<a href='#'></a>", a.firstChild && typeof a.firstChild.getAttribute != "undefined" && a.firstChild.getAttribute("href") !== "#" && (l.attrHandle.href = function (a) {
                return a.getAttribute("href", 2)
            }), a = null
        }(), c.querySelectorAll &&
        function () {
            var a = k,
                b = c.createElement("div"),
                d = "__sizzle__";
            b.innerHTML = "<p class='TEST'></p>";
            if (!b.querySelectorAll || b.querySelectorAll(".TEST").length !== 0) {
                k = function (b, e, f, g) {
                    e = e || c;
                    if (!g && !k.isXML(e)) {
                        var h = /^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(b);
                        if (h && (e.nodeType === 1 || e.nodeType === 9)) {
                            if (h[1]) return p(e.getElementsByTagName(b), f);
                            if (h[2] && l.find.CLASS && e.getElementsByClassName) return p(e.getElementsByClassName(h[2]), f)
                        }
                        if (e.nodeType === 9) {
                            if (b === "body" && e.body) return p([e.body], f);
                            if (h && h[3]) {
                                var i = e.getElementById(h[3]);
                                if (!i || !i.parentNode) return p([], f);
                                if (i.id === h[3]) return p([i], f)
                            }
                            try {
                                return p(e.querySelectorAll(b), f)
                            } catch (j) {}
                        } else if (e.nodeType === 1 && e.nodeName.toLowerCase() !== "object") {
                            var m = e,
                                n = e.getAttribute("id"),
                                o = n || d,
                                q = e.parentNode,
                                r = /^\s*[+~]/.test(b);
                            n ? o = o.replace(/'/g, "\\$&") : e.setAttribute("id", o), r && q && (e = e.parentNode);
                            try {
                                if (!r || q) return p(e.querySelectorAll("[id='" + o + "'] " + b), f)
                            } catch (s) {} finally {
                                n || m.removeAttribute("id")
                            }
                        }
                    }
                    return a(b, e, f, g)
                };
                for (var e in a) k[e] = a[e];
                b = null
            }
        }(), function () {
            var a = c.documentElement,
                b = a.matchesSelector || a.mozMatchesSelector || a.webkitMatchesSelector || a.msMatchesSelector;
            if (b) {
                var d = !b.call(c.createElement("div"), "div"),
                    e = !1;
                try {
                    b.call(c.documentElement, "[test!='']:sizzle")
                } catch (f) {
                    e = !0
                }
                k.matchesSelector = function (a, c) {
                    c = c.replace(/\=\s*([^'"\]]*)\s*\]/g, "='$1']");
                    if (!k.isXML(a)) try {
                        if (e || !l.match.PSEUDO.test(c) && !/!=/.test(c)) {
                            var f = b.call(a, c);
                            if (f || !d || a.document && a.document.nodeType !== 11) return f
                        }
                    } catch (g) {}
                    return k(c, null, null, [a]).length > 0
                }
            }
        }(), function () {
            var a = c.createElement("div");
            a.innerHTML = "<div class='test e'></div><div class='test'></div>";
            if ( !! a.getElementsByClassName && a.getElementsByClassName("e").length !== 0) {
                a.lastChild.className = "e";
                if (a.getElementsByClassName("e").length === 1) return;
                l.order.splice(1, 0, "CLASS"), l.find.CLASS = function (a, b, c) {
                    if (typeof b.getElementsByClassName != "undefined" && !c) return b.getElementsByClassName(a[1])
                }, a = null
            }
        }(), c.documentElement.contains ? k.contains = function (a, b) {
            return a !== b && (a.contains ? a.contains(b) : !0)
        } : c.documentElement.compareDocumentPosition ? k.contains = function (a, b) {
            return !!(a.compareDocumentPosition(b) & 16)
        } : k.contains = function () {
            return !1
        }, k.isXML = function (a) {
            var b = (a ? a.ownerDocument || a : 0).documentElement;
            return b ? b.nodeName !== "HTML" : !1
        };
        var v = function (a, b) {
                var c, d = [],
                    e = "",
                    f = b.nodeType ? [b] : b;
                while (c = l.match.PSEUDO.exec(a)) e += c[0], a = a.replace(l.match.PSEUDO, "");
                a = l.relative[a] ? a + "*" : a;
                for (var g = 0, h = f.length; g < h; g++) k(a, f[g], d);
                return k.filter(e, d)
            };
        f.find = k, f.expr = k.selectors, f.expr[":"] = f.expr.filters, f.unique = k.uniqueSort, f.text = k.getText, f.isXMLDoc = k.isXML, f.contains = k.contains
    }();
    var N = /Until$/,
        O = /^(?:parents|prevUntil|prevAll)/,
        P = /,/,
        Q = /^.[^:#\[\.,]*$/,
        R = Array.prototype.slice,
        S = f.expr.match.POS,
        T = {
            children: !0,
            contents: !0,
            next: !0,
            prev: !0
        };
    f.fn.extend({
        find: function (a) {
            var b = this,
                c, d;
            if (typeof a != "string") return f(a).filter(function () {
                for (c = 0, d = b.length; c < d; c++) if (f.contains(b[c], this)) return !0
            });
            var e = this.pushStack("", "find", a),
                g, h, i;
            for (c = 0, d = this.length; c < d; c++) {
                g = e.length, f.find(a, this[c], e);
                if (c > 0) for (h = g; h < e.length; h++) for (i = 0; i < g; i++) if (e[i] === e[h]) {
                    e.splice(h--, 1);
                    break
                }
            }
            return e
        },
        has: function (a) {
            var b = f(a);
            return this.filter(function () {
                for (var a = 0, c = b.length; a < c; a++) if (f.contains(this, b[a])) return !0
            })
        },
        not: function (a) {
            return this.pushStack(V(this, a, !1), "not", a)
        },
        filter: function (a) {
            return this.pushStack(V(this, a, !0), "filter", a)
        },
        is: function (a) {
            return !!a && (typeof a == "string" ? f.filter(a, this).length > 0 : this.filter(a).length > 0)
        },
        closest: function (a, b) {
            var c = [],
                d, e, g = this[0];
            if (f.isArray(a)) {
                var h, i, j = {},
                    k = 1;
                if (g && a.length) {
                    for (d = 0, e = a.length; d < e; d++) i = a[d], j[i] || (j[i] = S.test(i) ? f(i, b || this.context) : i);
                    while (g && g.ownerDocument && g !== b) {
                        for (i in j) h = j[i], (h.jquery ? h.index(g) > -1 : f(g).is(h)) && c.push({
                            selector: i,
                            elem: g,
                            level: k
                        });
                        g = g.parentNode, k++
                    }
                }
                return c
            }
            var l = S.test(a) || typeof a != "string" ? f(a, b || this.context) : 0;
            for (d = 0, e = this.length; d < e; d++) {
                g = this[d];
                while (g) {
                    if (l ? l.index(g) > -1 : f.find.matchesSelector(g, a)) {
                        c.push(g);
                        break
                    }
                    g = g.parentNode;
                    if (!g || !g.ownerDocument || g === b || g.nodeType === 11) break
                }
            }
            c = c.length > 1 ? f.unique(c) : c;
            return this.pushStack(c, "closest", a)
        },
        index: function (a) {
            if (!a) return this[0] && this[0].parentNode ? this.prevAll().length : -1;
            if (typeof a == "string") return f.inArray(this[0], f(a));
            return f.inArray(a.jquery ? a[0] : a, this)
        },
        add: function (a, b) {
            var c = typeof a == "string" ? f(a, b) : f.makeArray(a && a.nodeType ? [a] : a),
                d = f.merge(this.get(), c);
            return this.pushStack(U(c[0]) || U(d[0]) ? d : f.unique(d))
        },
        andSelf: function () {
            return this.add(this.prevObject)
        }
    }), f.each({
        parent: function (a) {
            var b = a.parentNode;
            return b && b.nodeType !== 11 ? b : null
        },
        parents: function (a) {
            return f.dir(a, "parentNode")
        },
        parentsUntil: function (a, b, c) {
            return f.dir(a, "parentNode", c)
        },
        next: function (a) {
            return f.nth(a, 2, "nextSibling")
        },
        prev: function (a) {
            return f.nth(a, 2, "previousSibling")
        },
        nextAll: function (a) {
            return f.dir(a, "nextSibling")
        },
        prevAll: function (a) {
            return f.dir(a, "previousSibling")
        },
        nextUntil: function (a, b, c) {
            return f.dir(a, "nextSibling", c)
        },
        prevUntil: function (a, b, c) {
            return f.dir(a, "previousSibling", c)
        },
        siblings: function (a) {
            return f.sibling(a.parentNode.firstChild, a)
        },
        children: function (a) {
            return f.sibling(a.firstChild)
        },
        contents: function (a) {
            return f.nodeName(a, "iframe") ? a.contentDocument || a.contentWindow.document : f.makeArray(a.childNodes)
        }
    }, function (a, b) {
        f.fn[a] = function (c, d) {
            var e = f.map(this, b, c),
                g = R.call(arguments);
            N.test(a) || (d = c), d && typeof d == "string" && (e = f.filter(d, e)), e = this.length > 1 && !T[a] ? f.unique(e) : e, (this.length > 1 || P.test(d)) && O.test(a) && (e = e.reverse());
            return this.pushStack(e, a, g.join(","))
        }
    }), f.extend({
        filter: function (a, b, c) {
            c && (a = ":not(" + a + ")");
            return b.length === 1 ? f.find.matchesSelector(b[0], a) ? [b[0]] : [] : f.find.matches(a, b)
        },
        dir: function (a, c, d) {
            var e = [],
                g = a[c];
            while (g && g.nodeType !== 9 && (d === b || g.nodeType !== 1 || !f(g).is(d))) g.nodeType === 1 && e.push(g), g = g[c];
            return e
        },
        nth: function (a, b, c, d) {
            b = b || 1;
            var e = 0;
            for (; a; a = a[c]) if (a.nodeType === 1 && ++e === b) break;
            return a
        },
        sibling: function (a, b) {
            var c = [];
            for (; a; a = a.nextSibling) a.nodeType === 1 && a !== b && c.push(a);
            return c
        }
    });
    var W = / jQuery\d+="(?:\d+|null)"/g,
        X = /^\s+/,
        Y = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,
        Z = /<([\w:]+)/,
        $ = /<tbody/i,
        _ = /<|&#?\w+;/,
        ba = /<(?:script|object|embed|option|style)/i,
        bb = /checked\s*(?:[^=]|=\s*.checked.)/i,
        bc = /\/(java|ecma)script/i,
        bd = /^\s*<!(?:\[CDATA\[|\-\-)/,
        be = {
            option: [1, "<select multiple='multiple'>", "</select>"],
            legend: [1, "<fieldset>", "</fieldset>"],
            thead: [1, "<table>", "</table>"],
            tr: [2, "<table><tbody>", "</tbody></table>"],
            td: [3, "<table><tbody><tr>", "</tr></tbody></table>"],
            col: [2, "<table><tbody></tbody><colgroup>", "</colgroup></table>"],
            area: [1, "<map>", "</map>"],
            _default: [0, "", ""]
        };
    be.optgroup = be.option, be.tbody = be.tfoot = be.colgroup = be.caption = be.thead, be.th = be.td, f.support.htmlSerialize || (be._default = [1, "div<div>", "</div>"]), f.fn.extend({
        text: function (a) {
            if (f.isFunction(a)) return this.each(function (b) {
                var c = f(this);
                c.text(a.call(this, b, c.text()))
            });
            if (typeof a != "object" && a !== b) return this.empty().append((this[0] && this[0].ownerDocument || c).createTextNode(a));
            return f.text(this)
        },
        wrapAll: function (a) {
            if (f.isFunction(a)) return this.each(function (b) {
                f(this).wrapAll(a.call(this, b))
            });
            if (this[0]) {
                var b = f(a, this[0].ownerDocument).eq(0).clone(!0);
                this[0].parentNode && b.insertBefore(this[0]), b.map(function () {
                    var a = this;
                    while (a.firstChild && a.firstChild.nodeType === 1) a = a.firstChild;
                    return a
                }).append(this)
            }
            return this
        },
        wrapInner: function (a) {
            if (f.isFunction(a)) return this.each(function (b) {
                f(this).wrapInner(a.call(this, b))
            });
            return this.each(function () {
                var b = f(this),
                    c = b.contents();
                c.length ? c.wrapAll(a) : b.append(a)
            })
        },
        wrap: function (a) {
            return this.each(function () {
                f(this).wrapAll(a)
            })
        },
        unwrap: function () {
            return this.parent().each(function () {
                f.nodeName(this, "body") || f(this).replaceWith(this.childNodes)
            }).end()
        },
        append: function () {
            return this.domManip(arguments, !0, function (a) {
                this.nodeType === 1 && this.appendChild(a)
            })
        },
        prepend: function () {
            return this.domManip(arguments, !0, function (a) {
                this.nodeType === 1 && this.insertBefore(a, this.firstChild)
            })
        },
        before: function () {
            if (this[0] && this[0].parentNode) return this.domManip(arguments, !1, function (a) {
                this.parentNode.insertBefore(a, this)
            });
            if (arguments.length) {
                var a = f(arguments[0]);
                a.push.apply(a, this.toArray());
                return this.pushStack(a, "before", arguments)
            }
        },
        after: function () {
            if (this[0] && this[0].parentNode) return this.domManip(arguments, !1, function (a) {
                this.parentNode.insertBefore(a, this.nextSibling)
            });
            if (arguments.length) {
                var a = this.pushStack(this, "after", arguments);
                a.push.apply(a, f(arguments[0]).toArray());
                return a
            }
        },
        remove: function (a, b) {
            for (var c = 0, d;
            (d = this[c]) != null; c++) if (!a || f.filter(a, [d]).length)!b && d.nodeType === 1 && (f.cleanData(d.getElementsByTagName("*")), f.cleanData([d])), d.parentNode && d.parentNode.removeChild(d);
            return this
        },
        empty: function () {
            for (var a = 0, b;
            (b = this[a]) != null; a++) {
                b.nodeType === 1 && f.cleanData(b.getElementsByTagName("*"));
                while (b.firstChild) b.removeChild(b.firstChild)
            }
            return this
        },
        clone: function (a, b) {
            a = a == null ? !1 : a, b = b == null ? a : b;
            return this.map(function () {
                return f.clone(this, a, b)
            })
        },
        html: function (a) {
            if (a === b) return this[0] && this[0].nodeType === 1 ? this[0].innerHTML.replace(W, "") : null;
            if (typeof a == "string" && !ba.test(a) && (f.support.leadingWhitespace || !X.test(a)) && !be[(Z.exec(a) || ["", ""])[1].toLowerCase()]) {
                a = a.replace(Y, "<$1></$2>");
                try {
                    for (var c = 0, d = this.length; c < d; c++) this[c].nodeType === 1 && (f.cleanData(this[c].getElementsByTagName("*")), this[c].innerHTML = a)
                } catch (e) {
                    this.empty().append(a)
                }
            } else f.isFunction(a) ? this.each(function (b) {
                var c = f(this);
                c.html(a.call(this, b, c.html()))
            }) : this.empty().append(a);
            return this
        },
        replaceWith: function (a) {
            if (this[0] && this[0].parentNode) {
                if (f.isFunction(a)) return this.each(function (b) {
                    var c = f(this),
                        d = c.html();
                    c.replaceWith(a.call(this, b, d))
                });
                typeof a != "string" && (a = f(a).detach());
                return this.each(function () {
                    var b = this.nextSibling,
                        c = this.parentNode;
                    f(this).remove(), b ? f(b).before(a) : f(c).append(a)
                })
            }
            return this.length ? this.pushStack(f(f.isFunction(a) ? a() : a), "replaceWith", a) : this
        },
        detach: function (a) {
            return this.remove(a, !0)
        },
        domManip: function (a, c, d) {
            var e, g, h, i, j = a[0],
                k = [];
            if (!f.support.checkClone && arguments.length === 3 && typeof j == "string" && bb.test(j)) return this.each(function () {
                f(this).domManip(a, c, d, !0)
            });
            if (f.isFunction(j)) return this.each(function (e) {
                var g = f(this);
                a[0] = j.call(this, e, c ? g.html() : b), g.domManip(a, c, d)
            });
            if (this[0]) {
                i = j && j.parentNode, f.support.parentNode && i && i.nodeType === 11 && i.childNodes.length === this.length ? e = {
                    fragment: i
                } : e = f.buildFragment(a, this, k), h = e.fragment, h.childNodes.length === 1 ? g = h = h.firstChild : g = h.firstChild;
                if (g) {
                    c = c && f.nodeName(g, "tr");
                    for (var l = 0, m = this.length, n = m - 1; l < m; l++) d.call(c ? bf(this[l], g) : this[l], e.cacheable || m > 1 && l < n ? f.clone(h, !0, !0) : h)
                }
                k.length && f.each(k, bl)
            }
            return this
        }
    }), f.buildFragment = function (a, b, d) {
        var e, g, h, i;
        b && b[0] && (i = b[0].ownerDocument || b[0]), i.createDocumentFragment || (i = c), a.length === 1 && typeof a[0] == "string" && a[0].length < 512 && i === c && a[0].charAt(0) === "<" && !ba.test(a[0]) && (f.support.checkClone || !bb.test(a[0])) && (g = !0, h = f.fragments[a[0]], h && h !== 1 && (e = h)), e || (e = i.createDocumentFragment(), f.clean(a, i, e, d)), g && (f.fragments[a[0]] = h ? e : 1);
        return {
            fragment: e,
            cacheable: g
        }
    }, f.fragments = {}, f.each({
        appendTo: "append",
        prependTo: "prepend",
        insertBefore: "before",
        insertAfter: "after",
        replaceAll: "replaceWith"
    }, function (a, b) {
        f.fn[a] = function (c) {
            var d = [],
                e = f(c),
                g = this.length === 1 && this[0].parentNode;
            if (g && g.nodeType === 11 && g.childNodes.length === 1 && e.length === 1) {
                e[b](this[0]);
                return this
            }
            for (var h = 0, i = e.length; h < i; h++) {
                var j = (h > 0 ? this.clone(!0) : this).get();
                f(e[h])[b](j), d = d.concat(j)
            }
            return this.pushStack(d, a, e.selector)
        }
    }), f.extend({
        clone: function (a, b, c) {
            var d = a.cloneNode(!0),
                e, g, h;
            if ((!f.support.noCloneEvent || !f.support.noCloneChecked) && (a.nodeType === 1 || a.nodeType === 11) && !f.isXMLDoc(a)) {
                bh(a, d), e = bi(a), g = bi(d);
                for (h = 0; e[h]; ++h) g[h] && bh(e[h], g[h])
            }
            if (b) {
                bg(a, d);
                if (c) {
                    e = bi(a), g = bi(d);
                    for (h = 0; e[h]; ++h) bg(e[h], g[h])
                }
            }
            e = g = null;
            return d
        },
        clean: function (a, b, d, e) {
            var g;
            b = b || c, typeof b.createElement == "undefined" && (b = b.ownerDocument || b[0] && b[0].ownerDocument || c);
            var h = [],
                i;
            for (var j = 0, k;
            (k = a[j]) != null; j++) {
                typeof k == "number" && (k += "");
                if (!k) continue;
                if (typeof k == "string") if (!_.test(k)) k = b.createTextNode(k);
                else {
                    k = k.replace(Y, "<$1></$2>");
                    var l = (Z.exec(k) || ["", ""])[1].toLowerCase(),
                        m = be[l] || be._default,
                        n = m[0],
                        o = b.createElement("div");
                    o.innerHTML = m[1] + k + m[2];
                    while (n--) o = o.lastChild;
                    if (!f.support.tbody) {
                        var p = $.test(k),
                            q = l === "table" && !p ? o.firstChild && o.firstChild.childNodes : m[1] === "<table>" && !p ? o.childNodes : [];
                        for (i = q.length - 1; i >= 0; --i) f.nodeName(q[i], "tbody") && !q[i].childNodes.length && q[i].parentNode.removeChild(q[i])
                    }!f.support.leadingWhitespace && X.test(k) && o.insertBefore(b.createTextNode(X.exec(k)[0]), o.firstChild), k = o.childNodes
                }
                var r;
                if (!f.support.appendChecked) if (k[0] && typeof (r = k.length) == "number") for (i = 0; i < r; i++) bk(k[i]);
                else bk(k);
                k.nodeType ? h.push(k) : h = f.merge(h, k)
            }
            if (d) {
                g = function (a) {
                    return !a.type || bc.test(a.type)
                };
                for (j = 0; h[j]; j++) if (e && f.nodeName(h[j], "script") && (!h[j].type || h[j].type.toLowerCase() === "text/javascript")) e.push(h[j].parentNode ? h[j].parentNode.removeChild(h[j]) : h[j]);
                else {
                    if (h[j].nodeType === 1) {
                        var s = f.grep(h[j].getElementsByTagName("script"), g);
                        h.splice.apply(h, [j + 1, 0].concat(s))
                    }
                    d.appendChild(h[j])
                }
            }
            return h
        },
        cleanData: function (a) {
            var b, c, d = f.cache,
                e = f.expando,
                g = f.event.special,
                h = f.support.deleteExpando;
            for (var i = 0, j;
            (j = a[i]) != null; i++) {
                if (j.nodeName && f.noData[j.nodeName.toLowerCase()]) continue;
                c = j[f.expando];
                if (c) {
                    b = d[c] && d[c][e];
                    if (b && b.events) {
                        for (var k in b.events) g[k] ? f.event.remove(j, k) : f.removeEvent(j, k, b.handle);
                        b.handle && (b.handle.elem = null)
                    }
                    h ? delete j[f.expando] : j.removeAttribute && j.removeAttribute(f.expando), delete d[c]
                }
            }
        }
    });
    var bm = /alpha\([^)]*\)/i,
        bn = /opacity=([^)]*)/,
        bo = /([A-Z]|^ms)/g,
        bp = /^-?\d+(?:px)?$/i,
        bq = /^-?\d/,
        br = /^([\-+])=([\-+.\de]+)/,
        bs = {
            position: "absolute",
            visibility: "hidden",
            display: "block"
        },
        bt = ["Left", "Right"],
        bu = ["Top", "Bottom"],
        bv, bw, bx;
    f.fn.css = function (a, c) {
        if (arguments.length === 2 && c === b) return this;
        return f.access(this, a, c, !0, function (a, c, d) {
            return d !== b ? f.style(a, c, d) : f.css(a, c)
        })
    }, f.extend({
        cssHooks: {
            opacity: {
                get: function (a, b) {
                    if (b) {
                        var c = bv(a, "opacity", "opacity");
                        return c === "" ? "1" : c
                    }
                    return a.style.opacity
                }
            }
        },
        cssNumber: {
            fillOpacity: !0,
            fontWeight: !0,
            lineHeight: !0,
            opacity: !0,
            orphans: !0,
            widows: !0,
            zIndex: !0,
            zoom: !0
        },
        cssProps: {
            "float": f.support.cssFloat ? "cssFloat" : "styleFloat"
        },
        style: function (a, c, d, e) {
            if ( !! a && a.nodeType !== 3 && a.nodeType !== 8 && !! a.style) {
                var g, h, i = f.camelCase(c),
                    j = a.style,
                    k = f.cssHooks[i];
                c = f.cssProps[i] || i;
                if (d === b) {
                    if (k && "get" in k && (g = k.get(a, !1, e)) !== b) return g;
                    return j[c]
                }
                h = typeof d, h === "string" && (g = br.exec(d)) && (d = +(g[1] + 1) * +g[2] + parseFloat(f.css(a, c)), h = "number");
                if (d == null || h === "number" && isNaN(d)) return;
                h === "number" && !f.cssNumber[i] && (d += "px");
                if (!k || !("set" in k) || (d = k.set(a, d)) !== b) try {
                    j[c] = d
                } catch (l) {}
            }
        },
        css: function (a, c, d) {
            var e, g;
            c = f.camelCase(c), g = f.cssHooks[c], c = f.cssProps[c] || c, c === "cssFloat" && (c = "float");
            if (g && "get" in g && (e = g.get(a, !0, d)) !== b) return e;
            if (bv) return bv(a, c)
        },
        swap: function (a, b, c) {
            var d = {};
            for (var e in b) d[e] = a.style[e], a.style[e] = b[e];
            c.call(a);
            for (e in b) a.style[e] = d[e]
        }
    }), f.curCSS = f.css, f.each(["height", "width"], function (a, b) {
        f.cssHooks[b] = {
            get: function (a, c, d) {
                var e;
                if (c) {
                    if (a.offsetWidth !== 0) return by(a, b, d);
                    f.swap(a, bs, function () {
                        e = by(a, b, d)
                    });
                    return e
                }
            },
            set: function (a, b) {
                if (!bp.test(b)) return b;
                b = parseFloat(b);
                if (b >= 0) return b + "px"
            }
        }
    }), f.support.opacity || (f.cssHooks.opacity = {
        get: function (a, b) {
            return bn.test((b && a.currentStyle ? a.currentStyle.filter : a.style.filter) || "") ? parseFloat(RegExp.$1) / 100 + "" : b ? "1" : ""
        },
        set: function (a, b) {
            var c = a.style,
                d = a.currentStyle,
                e = f.isNaN(b) ? "" : "alpha(opacity=" + b * 100 + ")",
                g = d && d.filter || c.filter || "";
            c.zoom = 1;
            if (b >= 1 && f.trim(g.replace(bm, "")) === "") {
                c.removeAttribute("filter");
                if (d && !d.filter) return
            }
            c.filter = bm.test(g) ? g.replace(bm, e) : g + " " + e
        }
    }), f(function () {
        f.support.reliableMarginRight || (f.cssHooks.marginRight = {
            get: function (a, b) {
                var c;
                f.swap(a, {
                    display: "inline-block"
                }, function () {
                    b ? c = bv(a, "margin-right", "marginRight") : c = a.style.marginRight
                });
                return c
            }
        })
    }), c.defaultView && c.defaultView.getComputedStyle && (bw = function (a, c) {
        var d, e, g;
        c = c.replace(bo, "-$1").toLowerCase();
        if (!(e = a.ownerDocument.defaultView)) return b;
        if (g = e.getComputedStyle(a, null)) d = g.getPropertyValue(c), d === "" && !f.contains(a.ownerDocument.documentElement, a) && (d = f.style(a, c));
        return d
    }), c.documentElement.currentStyle && (bx = function (a, b) {
        var c, d = a.currentStyle && a.currentStyle[b],
            e = a.runtimeStyle && a.runtimeStyle[b],
            f = a.style;
        !bp.test(d) && bq.test(d) && (c = f.left, e && (a.runtimeStyle.left = a.currentStyle.left), f.left = b === "fontSize" ? "1em" : d || 0, d = f.pixelLeft + "px", f.left = c, e && (a.runtimeStyle.left = e));
        return d === "" ? "auto" : d
    }), bv = bw || bx, f.expr && f.expr.filters && (f.expr.filters.hidden = function (a) {
        var b = a.offsetWidth,
            c = a.offsetHeight;
        return b === 0 && c === 0 || !f.support.reliableHiddenOffsets && (a.style.display || f.css(a, "display")) === "none"
    }, f.expr.filters.visible = function (a) {
        return !f.expr.filters.hidden(a)
    });
    var bz = /%20/g,
        bA = /\[\]$/,
        bB = /\r?\n/g,
        bC = /#.*$/,
        bD = /^(.*?):[ \t]*([^\r\n]*)\r?$/mg,
        bE = /^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,
        bF = /^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,
        bG = /^(?:GET|HEAD)$/,
        bH = /^\/\//,
        bI = /\?/,
        bJ = /<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,
        bK = /^(?:select|textarea)/i,
        bL = /\s+/,
        bM = /([?&])_=[^&]*/,
        bN = /^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,
        bO = f.fn.load,
        bP = {},
        bQ = {},
        bR, bS, bT = ["*/"] + ["*"];
    try {
        bR = e.href
    } catch (bU) {
        bR = c.createElement("a"), bR.href = "", bR = bR.href
    }
    bS = bN.exec(bR.toLowerCase()) || [], f.fn.extend({
        load: function (a, c, d) {
            if (typeof a != "string" && bO) return bO.apply(this, arguments);
            if (!this.length) return this;
            var e = a.indexOf(" ");
            if (e >= 0) {
                var g = a.slice(e, a.length);
                a = a.slice(0, e)
            }
            var h = "GET";
            c && (f.isFunction(c) ? (d = c, c = b) : typeof c == "object" && (c = f.param(c, f.ajaxSettings.traditional), h = "POST"));
            var i = this;
            f.ajax({
                url: a,
                type: h,
                dataType: "html",
                data: c,
                complete: function (a, b, c) {
                    c = a.responseText, a.isResolved() && (a.done(function (a) {
                        c = a
                    }), i.html(g ? f("<div>").append(c.replace(bJ, "")).find(g) : c)), d && i.each(d, [c, b, a])
                }
            });
            return this
        },
        serialize: function () {
            return f.param(this.serializeArray())
        },
        serializeArray: function () {
            return this.map(function () {
                return this.elements ? f.makeArray(this.elements) : this
            }).filter(function () {
                return this.name && !this.disabled && (this.checked || bK.test(this.nodeName) || bE.test(this.type))
            }).map(function (a, b) {
                var c = f(this).val();
                return c == null ? null : f.isArray(c) ? f.map(c, function (a, c) {
                    return {
                        name: b.name,
                        value: a.replace(bB, "\r\n")
                    }
                }) : {
                    name: b.name,
                    value: c.replace(bB, "\r\n")
                }
            }).get()
        }
    }), f.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "), function (a, b) {
        f.fn[b] = function (a) {
            return this.bind(b, a)
        }
    }), f.each(["get", "post"], function (a, c) {
        f[c] = function (a, d, e, g) {
            f.isFunction(d) && (g = g || e, e = d, d = b);
            return f.ajax({
                type: c,
                url: a,
                data: d,
                success: e,
                dataType: g
            })
        }
    }), f.extend({
        getScript: function (a, c) {
            return f.get(a, b, c, "script")
        },
        getJSON: function (a, b, c) {
            return f.get(a, b, c, "json")
        },
        ajaxSetup: function (a, b) {
            b ? bX(a, f.ajaxSettings) : (b = a, a = f.ajaxSettings), bX(a, b);
            return a
        },
        ajaxSettings: {
            url: bR,
            isLocal: bF.test(bS[1]),
            global: !0,
            type: "GET",
            contentType: "application/x-www-form-urlencoded",
            processData: !0,
            async: !0,
            accepts: {
                xml: "application/xml, text/xml",
                html: "text/html",
                text: "text/plain",
                json: "application/json, text/javascript",
                "*": bT
            },
            contents: {
                xml: /xml/,
                html: /html/,
                json: /json/
            },
            responseFields: {
                xml: "responseXML",
                text: "responseText"
            },
            converters: {
                "* text": a.String,
                "text html": !0,
                "text json": f.parseJSON,
                "text xml": f.parseXML
            },
            flatOptions: {
                context: !0,
                url: !0
            }
        },
        ajaxPrefilter: bV(bP),
        ajaxTransport: bV(bQ),
        ajax: function (a, c) {
            function w(a, c, l, m) {
                if (s !== 2) {
                    s = 2, q && clearTimeout(q), p = b, n = m || "", v.readyState = a > 0 ? 4 : 0;
                    var o, r, u, w = c,
                        x = l ? bZ(d, v, l) : b,
                        y, z;
                    if (a >= 200 && a < 300 || a === 304) {
                        if (d.ifModified) {
                            if (y = v.getResponseHeader("Last-Modified")) f.lastModified[k] = y;
                            if (z = v.getResponseHeader("Etag")) f.etag[k] = z
                        }
                        if (a === 304) w = "notmodified", o = !0;
                        else try {
                            r = b$(d, x), w = "success", o = !0
                        } catch (A) {
                            w = "parsererror", u = A
                        }
                    } else {
                        u = w;
                        if (!w || a) w = "error", a < 0 && (a = 0)
                    }
                    v.status = a, v.statusText = "" + (c || w), o ? h.resolveWith(e, [r, w, v]) : h.rejectWith(e, [v, w, u]), v.statusCode(j), j = b, t && g.trigger("ajax" + (o ? "Success" : "Error"), [v, d, o ? r : u]), i.resolveWith(e, [v, w]), t && (g.trigger("ajaxComplete", [v, d]), --f.active || f.event.trigger("ajaxStop"))
                }
            }
            typeof a == "object" && (c = a, a = b), c = c || {};
            var d = f.ajaxSetup({}, c),
                e = d.context || d,
                g = e !== d && (e.nodeType || e instanceof f) ? f(e) : f.event,
                h = f.Deferred(),
                i = f._Deferred(),
                j = d.statusCode || {},
                k, l = {},
                m = {},
                n, o, p, q, r, s = 0,
                t, u, v = {
                    readyState: 0,
                    setRequestHeader: function (a, b) {
                        if (!s) {
                            var c = a.toLowerCase();
                            a = m[c] = m[c] || a, l[a] = b
                        }
                        return this
                    },
                    getAllResponseHeaders: function () {
                        return s === 2 ? n : null
                    },
                    getResponseHeader: function (a) {
                        var c;
                        if (s === 2) {
                            if (!o) {
                                o = {};
                                while (c = bD.exec(n)) o[c[1].toLowerCase()] = c[2]
                            }
                            c = o[a.toLowerCase()]
                        }
                        return c === b ? null : c
                    },
                    overrideMimeType: function (a) {
                        s || (d.mimeType = a);
                        return this
                    },
                    abort: function (a) {
                        a = a || "abort", p && p.abort(a), w(0, a);
                        return this
                    }
                };
            h.promise(v), v.success = v.done, v.error = v.fail, v.complete = i.done, v.statusCode = function (a) {
                if (a) {
                    var b;
                    if (s < 2) for (b in a) j[b] = [j[b], a[b]];
                    else b = a[v.status], v.then(b, b)
                }
                return this
            }, d.url = ((a || d.url) + "").replace(bC, "").replace(bH, bS[1] + "//"), d.dataTypes = f.trim(d.dataType || "*").toLowerCase().split(bL), d.crossDomain == null && (r = bN.exec(d.url.toLowerCase()), d.crossDomain = !(!r || r[1] == bS[1] && r[2] == bS[2] && (r[3] || (r[1] === "http:" ? 80 : 443)) == (bS[3] || (bS[1] === "http:" ? 80 : 443)))), d.data && d.processData && typeof d.data != "string" && (d.data = f.param(d.data, d.traditional)), bW(bP, d, c, v);
            if (s === 2) return !1;
            t = d.global, d.type = d.type.toUpperCase(), d.hasContent = !bG.test(d.type), t && f.active++ === 0 && f.event.trigger("ajaxStart");
            if (!d.hasContent) {
                d.data && (d.url += (bI.test(d.url) ? "&" : "?") + d.data, delete d.data), k = d.url;
                if (d.cache === !1) {
                    var x = f.now(),
                        y = d.url.replace(bM, "$1_=" + x);
                    d.url = y + (y === d.url ? (bI.test(d.url) ? "&" : "?") + "_=" + x : "")
                }
            }(d.data && d.hasContent && d.contentType !== !1 || c.contentType) && v.setRequestHeader("Content-Type", d.contentType), d.ifModified && (k = k || d.url, f.lastModified[k] && v.setRequestHeader("If-Modified-Since", f.lastModified[k]), f.etag[k] && v.setRequestHeader("If-None-Match", f.etag[k])), v.setRequestHeader("Accept", d.dataTypes[0] && d.accepts[d.dataTypes[0]] ? d.accepts[d.dataTypes[0]] + (d.dataTypes[0] !== "*" ? ", " + bT + "; q=0.01" : "") : d.accepts["*"]);
            for (u in d.headers) v.setRequestHeader(u, d.headers[u]);
            if (d.beforeSend && (d.beforeSend.call(e, v, d) === !1 || s === 2)) {
                v.abort();
                return !1
            }
            for (u in {
                success: 1,
                error: 1,
                complete: 1
            }) v[u](d[u]);
            p = bW(bQ, d, c, v);
            if (!p) w(-1, "No Transport");
            else {
                v.readyState = 1, t && g.trigger("ajaxSend", [v, d]), d.async && d.timeout > 0 && (q = setTimeout(function () {
                    v.abort("timeout")
                }, d.timeout));
                try {
                    s = 1, p.send(l, w)
                } catch (z) {
                    s < 2 ? w(-1, z) : f.error(z)
                }
            }
            return v
        },
        param: function (a, c) {
            var d = [],
                e = function (a, b) {
                    b = f.isFunction(b) ? b() : b, d[d.length] = encodeURIComponent(a) + "=" + encodeURIComponent(b)
                };
            c === b && (c = f.ajaxSettings.traditional);
            if (f.isArray(a) || a.jquery && !f.isPlainObject(a)) f.each(a, function () {
                e(this.name, this.value)
            });
            else for (var g in a) bY(g, a[g], c, e);
            return d.join("&").replace(bz, "+")
        }
    }), f.extend({
        active: 0,
        lastModified: {},
        etag: {}
    });
    var b_ = f.now(),
        ca = /(\=)\?(&|$)|\?\?/i;
    f.ajaxSetup({
        jsonp: "callback",
        jsonpCallback: function () {
            return f.expando + "_" + b_++
        }
    }), f.ajaxPrefilter("json jsonp", function (b, c, d) {
        var e = b.contentType === "application/x-www-form-urlencoded" && typeof b.data == "string";
        if (b.dataTypes[0] === "jsonp" || b.jsonp !== !1 && (ca.test(b.url) || e && ca.test(b.data))) {
            var g, h = b.jsonpCallback = f.isFunction(b.jsonpCallback) ? b.jsonpCallback() : b.jsonpCallback,
                i = a[h],
                j = b.url,
                k = b.data,
                l = "$1" + h + "$2";
            b.jsonp !== !1 && (j = j.replace(ca, l), b.url === j && (e && (k = k.replace(ca, l)), b.data === k && (j += (/\?/.test(j) ? "&" : "?") + b.jsonp + "=" + h))), b.url = j, b.data = k, a[h] = function (a) {
                g = [a]
            }, d.always(function () {
                a[h] = i, g && f.isFunction(i) && a[h](g[0])
            }), b.converters["script json"] = function () {
                g || f.error(h + " was not called");
                return g[0]
            }, b.dataTypes[0] = "json";
            return "script"
        }
    }), f.ajaxSetup({
        accepts: {
            script: "text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"
        },
        contents: {
            script: /javascript|ecmascript/
        },
        converters: {
            "text script": function (a) {
                f.globalEval(a);
                return a
            }
        }
    }), f.ajaxPrefilter("script", function (a) {
        a.cache === b && (a.cache = !1), a.crossDomain && (a.type = "GET", a.global = !1)
    }), f.ajaxTransport("script", function (a) {
        if (a.crossDomain) {
            var d, e = c.head || c.getElementsByTagName("head")[0] || c.documentElement;
            return {
                send: function (f, g) {
                    d = c.createElement("script"), d.async = "async", a.scriptCharset && (d.charset = a.scriptCharset), d.src = a.url, d.onload = d.onreadystatechange = function (a, c) {
                        if (c || !d.readyState || /loaded|complete/.test(d.readyState)) d.onload = d.onreadystatechange = null, e && d.parentNode && e.removeChild(d), d = b, c || g(200, "success")
                    }, e.insertBefore(d, e.firstChild)
                },
                abort: function () {
                    d && d.onload(0, 1)
                }
            }
        }
    });
    var cb = a.ActiveXObject ?
    function () {
        for (var a in cd) cd[a](0, 1)
    } : !1, cc = 0, cd;
    f.ajaxSettings.xhr = a.ActiveXObject ?
    function () {
        return !this.isLocal && ce() || cf()
    } : ce, function (a) {
        f.extend(f.support, {
            ajax: !! a,
            cors: !! a && "withCredentials" in a
        })
    }(f.ajaxSettings.xhr()), f.support.ajax && f.ajaxTransport(function (c) {
        if (!c.crossDomain || f.support.cors) {
            var d;
            return {
                send: function (e, g) {
                    var h = c.xhr(),
                        i, j;
                    c.username ? h.open(c.type, c.url, c.async, c.username, c.password) : h.open(c.type, c.url, c.async);
                    if (c.xhrFields) for (j in c.xhrFields) h[j] = c.xhrFields[j];
                    c.mimeType && h.overrideMimeType && h.overrideMimeType(c.mimeType), !c.crossDomain && !e["X-Requested-With"] && (e["X-Requested-With"] = "XMLHttpRequest");
                    try {
                        for (j in e) h.setRequestHeader(j, e[j])
                    } catch (k) {}
                    h.send(c.hasContent && c.data || null), d = function (a, e) {
                        var j, k, l, m, n;
                        try {
                            if (d && (e || h.readyState === 4)) {
                                d = b, i && (h.onreadystatechange = f.noop, cb && delete cd[i]);
                                if (e) h.readyState !== 4 && h.abort();
                                else {
                                    j = h.status, l = h.getAllResponseHeaders(), m = {}, n = h.responseXML, n && n.documentElement && (m.xml = n), m.text = h.responseText;
                                    try {
                                        k = h.statusText
                                    } catch (o) {
                                        k = ""
                                    }!j && c.isLocal && !c.crossDomain ? j = m.text ? 200 : 404 : j === 1223 && (j = 204)
                                }
                            }
                        } catch (p) {
                            e || g(-1, p)
                        }
                        m && g(j, k, m, l)
                    }, !c.async || h.readyState === 4 ? d() : (i = ++cc, cb && (cd || (cd = {}, f(a).unload(cb)), cd[i] = d), h.onreadystatechange = d)
                },
                abort: function () {
                    d && d(0, 1)
                }
            }
        }
    });
    var cg = {},
        ch, ci, cj = /^(?:toggle|show|hide)$/,
        ck = /^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,
        cl, cm = [
            ["height", "marginTop", "marginBottom", "paddingTop", "paddingBottom"],
            ["width", "marginLeft", "marginRight", "paddingLeft", "paddingRight"],
            ["opacity"]
        ],
        cn;
    f.fn.extend({
        show: function (a, b, c) {
            var d, e;
            if (a || a === 0) return this.animate(cq("show", 3), a, b, c);
            for (var g = 0, h = this.length; g < h; g++) d = this[g], d.style && (e = d.style.display, !f._data(d, "olddisplay") && e === "none" && (e = d.style.display = ""), e === "" && f.css(d, "display") === "none" && f._data(d, "olddisplay", cr(d.nodeName)));
            for (g = 0; g < h; g++) {
                d = this[g];
                if (d.style) {
                    e = d.style.display;
                    if (e === "" || e === "none") d.style.display = f._data(d, "olddisplay") || ""
                }
            }
            return this
        },
        hide: function (a, b, c) {
            if (a || a === 0) return this.animate(cq("hide", 3), a, b, c);
            for (var d = 0, e = this.length; d < e; d++) if (this[d].style) {
                var g = f.css(this[d], "display");
                g !== "none" && !f._data(this[d], "olddisplay") && f._data(this[d], "olddisplay", g)
            }
            for (d = 0; d < e; d++) this[d].style && (this[d].style.display = "none");
            return this
        },
        _toggle: f.fn.toggle,
        toggle: function (a, b, c) {
            var d = typeof a == "boolean";
            f.isFunction(a) && f.isFunction(b) ? this._toggle.apply(this, arguments) : a == null || d ? this.each(function () {
                var b = d ? a : f(this).is(":hidden");
                f(this)[b ? "show" : "hide"]()
            }) : this.animate(cq("toggle", 3), a, b, c);
            return this
        },
        fadeTo: function (a, b, c, d) {
            return this.filter(":hidden").css("opacity", 0).show().end().animate({
                opacity: b
            }, a, c, d)
        },
        animate: function (a, b, c, d) {
            var e = f.speed(b, c, d);
            if (f.isEmptyObject(a)) return this.each(e.complete, [!1]);
            a = f.extend({}, a);
            return this[e.queue === !1 ? "each" : "queue"](function () {
                e.queue === !1 && f._mark(this);
                var b = f.extend({}, e),
                    c = this.nodeType === 1,
                    d = c && f(this).is(":hidden"),
                    g, h, i, j, k, l, m, n, o;
                b.animatedProperties = {};
                for (i in a) {
                    g = f.camelCase(i), i !== g && (a[g] = a[i], delete a[i]), h = a[g], f.isArray(h) ? (b.animatedProperties[g] = h[1], h = a[g] = h[0]) : b.animatedProperties[g] = b.specialEasing && b.specialEasing[g] || b.easing || "swing";
                    if (h === "hide" && d || h === "show" && !d) return b.complete.call(this);
                    c && (g === "height" || g === "width") && (b.overflow = [this.style.overflow, this.style.overflowX, this.style.overflowY], f.css(this, "display") === "inline" && f.css(this, "float") === "none" && (f.support.inlineBlockNeedsLayout ? (j = cr(this.nodeName), j === "inline" ? this.style.display = "inline-block" : (this.style.display = "inline", this.style.zoom = 1)) : this.style.display = "inline-block"))
                }
                b.overflow != null && (this.style.overflow = "hidden");
                for (i in a) k = new f.fx(this, b, i), h = a[i], cj.test(h) ? k[h === "toggle" ? d ? "show" : "hide" : h]() : (l = ck.exec(h), m = k.cur(), l ? (n = parseFloat(l[2]), o = l[3] || (f.cssNumber[i] ? "" : "px"), o !== "px" && (f.style(this, i, (n || 1) + o), m = (n || 1) / k.cur() * m, f.style(this, i, m + o)), l[1] && (n = (l[1] === "-=" ? -1 : 1) * n + m), k.custom(m, n, o)) : k.custom(m, h, ""));
                return !0
            })
        },
        stop: function (a, b) {
            a && this.queue([]), this.each(function () {
                var a = f.timers,
                    c = a.length;
                b || f._unmark(!0, this);
                while (c--) a[c].elem === this && (b && a[c](!0), a.splice(c, 1))
            }), b || this.dequeue();
            return this
        }
    }), f.each({
        slideDown: cq("show", 1),
        slideUp: cq("hide", 1),
        slideToggle: cq("toggle", 1),
        fadeIn: {
            opacity: "show"
        },
        fadeOut: {
            opacity: "hide"
        },
        fadeToggle: {
            opacity: "toggle"
        }
    }, function (a, b) {
        f.fn[a] = function (a, c, d) {
            return this.animate(b, a, c, d)
        }
    }), f.extend({
        speed: function (a, b, c) {
            var d = a && typeof a == "object" ? f.extend({}, a) : {
                complete: c || !c && b || f.isFunction(a) && a,
                duration: a,
                easing: c && b || b && !f.isFunction(b) && b
            };
            d.duration = f.fx.off ? 0 : typeof d.duration == "number" ? d.duration : d.duration in f.fx.speeds ? f.fx.speeds[d.duration] : f.fx.speeds._default, d.old = d.complete, d.complete = function (a) {
                f.isFunction(d.old) && d.old.call(this), d.queue !== !1 ? f.dequeue(this) : a !== !1 && f._unmark(this)
            };
            return d
        },
        easing: {
            linear: function (a, b, c, d) {
                return c + d * a
            },
            swing: function (a, b, c, d) {
                return (-Math.cos(a * Math.PI) / 2 + .5) * d + c
            }
        },
        timers: [],
        fx: function (a, b, c) {
            this.options = b, this.elem = a, this.prop = c, b.orig = b.orig || {}
        }
    }), f.fx.prototype = {
        update: function () {
            this.options.step && this.options.step.call(this.elem, this.now, this), (f.fx.step[this.prop] || f.fx.step._default)(this)
        },
        cur: function () {
            if (this.elem[this.prop] != null && (!this.elem.style || this.elem.style[this.prop] == null)) return this.elem[this.prop];
            var a, b = f.css(this.elem, this.prop);
            return isNaN(a = parseFloat(b)) ? !b || b === "auto" ? 0 : b : a
        },
        custom: function (a, b, c) {
            function g(a) {
                return d.step(a)
            }
            var d = this,
                e = f.fx;
            this.startTime = cn || co(), this.start = a, this.end = b, this.unit = c || this.unit || (f.cssNumber[this.prop] ? "" : "px"), this.now = this.start, this.pos = this.state = 0, g.elem = this.elem, g() && f.timers.push(g) && !cl && (cl = setInterval(e.tick, e.interval))
        },
        show: function () {
            this.options.orig[this.prop] = f.style(this.elem, this.prop), this.options.show = !0, this.custom(this.prop === "width" || this.prop === "height" ? 1 : 0, this.cur()), f(this.elem).show()
        },
        hide: function () {
            this.options.orig[this.prop] = f.style(this.elem, this.prop), this.options.hide = !0, this.custom(this.cur(), 0)
        },
        step: function (a) {
            var b = cn || co(),
                c = !0,
                d = this.elem,
                e = this.options,
                g, h;
            if (a || b >= e.duration + this.startTime) {
                this.now = this.end, this.pos = this.state = 1, this.update(), e.animatedProperties[this.prop] = !0;
                for (g in e.animatedProperties) e.animatedProperties[g] !== !0 && (c = !1);
                if (c) {
                    e.overflow != null && !f.support.shrinkWrapBlocks && f.each(["", "X", "Y"], function (a, b) {
                        d.style["overflow" + b] = e.overflow[a]
                    }), e.hide && f(d).hide();
                    if (e.hide || e.show) for (var i in e.animatedProperties) f.style(d, i, e.orig[i]);
                    e.complete.call(d)
                }
                return !1
            }
            e.duration == Infinity ? this.now = b : (h = b - this.startTime, this.state = h / e.duration, this.pos = f.easing[e.animatedProperties[this.prop]](this.state, h, 0, 1, e.duration), this.now = this.start + (this.end - this.start) * this.pos), this.update();
            return !0
        }
    }, f.extend(f.fx, {
        tick: function () {
            for (var a = f.timers, b = 0; b < a.length; ++b) a[b]() || a.splice(b--, 1);
            a.length || f.fx.stop()
        },
        interval: 13,
        stop: function () {
            clearInterval(cl), cl = null
        },
        speeds: {
            slow: 600,
            fast: 200,
            _default: 400
        },
        step: {
            opacity: function (a) {
                f.style(a.elem, "opacity", a.now)
            },
            _default: function (a) {
                a.elem.style && a.elem.style[a.prop] != null ? a.elem.style[a.prop] = (a.prop === "width" || a.prop === "height" ? Math.max(0, a.now) : a.now) + a.unit : a.elem[a.prop] = a.now
            }
        }
    }), f.expr && f.expr.filters && (f.expr.filters.animated = function (a) {
        return f.grep(f.timers, function (b) {
            return a === b.elem
        }).length
    });
    var cs = /^t(?:able|d|h)$/i,
        ct = /^(?:body|html)$/i;
    "getBoundingClientRect" in c.documentElement ? f.fn.offset = function (a) {
        var b = this[0],
            c;
        if (a) return this.each(function (b) {
            f.offset.setOffset(this, a, b)
        });
        if (!b || !b.ownerDocument) return null;
        if (b === b.ownerDocument.body) return f.offset.bodyOffset(b);
        try {
            c = b.getBoundingClientRect()
        } catch (d) {}
        var e = b.ownerDocument,
            g = e.documentElement;
        if (!c || !f.contains(g, b)) return c ? {
            top: c.top,
            left: c.left
        } : {
            top: 0,
            left: 0
        };
        var h = e.body,
            i = cu(e),
            j = g.clientTop || h.clientTop || 0,
            k = g.clientLeft || h.clientLeft || 0,
            l = i.pageYOffset || f.support.boxModel && g.scrollTop || h.scrollTop,
            m = i.pageXOffset || f.support.boxModel && g.scrollLeft || h.scrollLeft,
            n = c.top + l - j,
            o = c.left + m - k;
        return {
            top: n,
            left: o
        }
    } : f.fn.offset = function (a) {
        var b = this[0];
        if (a) return this.each(function (b) {
            f.offset.setOffset(this, a, b)
        });
        if (!b || !b.ownerDocument) return null;
        if (b === b.ownerDocument.body) return f.offset.bodyOffset(b);
        f.offset.initialize();
        var c, d = b.offsetParent,
            e = b,
            g = b.ownerDocument,
            h = g.documentElement,
            i = g.body,
            j = g.defaultView,
            k = j ? j.getComputedStyle(b, null) : b.currentStyle,
            l = b.offsetTop,
            m = b.offsetLeft;
        while ((b = b.parentNode) && b !== i && b !== h) {
            if (f.offset.supportsFixedPosition && k.position === "fixed") break;
            c = j ? j.getComputedStyle(b, null) : b.currentStyle, l -= b.scrollTop, m -= b.scrollLeft, b === d && (l += b.offsetTop, m += b.offsetLeft, f.offset.doesNotAddBorder && (!f.offset.doesAddBorderForTableAndCells || !cs.test(b.nodeName)) && (l += parseFloat(c.borderTopWidth) || 0, m += parseFloat(c.borderLeftWidth) || 0), e = d, d = b.offsetParent), f.offset.subtractsBorderForOverflowNotVisible && c.overflow !== "visible" && (l += parseFloat(c.borderTopWidth) || 0, m += parseFloat(c.borderLeftWidth) || 0), k = c
        }
        if (k.position === "relative" || k.position === "static") l += i.offsetTop, m += i.offsetLeft;
        f.offset.supportsFixedPosition && k.position === "fixed" && (l += Math.max(h.scrollTop, i.scrollTop), m += Math.max(h.scrollLeft, i.scrollLeft));
        return {
            top: l,
            left: m
        }
    }, f.offset = {
        initialize: function () {
            var a = c.body,
                b = c.createElement("div"),
                d, e, g, h, i = parseFloat(f.css(a, "marginTop")) || 0,
                j = "<div style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;'><div></div></div><table style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>";
            f.extend(b.style, {
                position: "absolute",
                top: 0,
                left: 0,
                margin: 0,
                border: 0,
                width: "1px",
                height: "1px",
                visibility: "hidden"
            }), b.innerHTML = j, a.insertBefore(b, a.firstChild), d = b.firstChild, e = d.firstChild, h = d.nextSibling.firstChild.firstChild, this.doesNotAddBorder = e.offsetTop !== 5, this.doesAddBorderForTableAndCells = h.offsetTop === 5, e.style.position = "fixed", e.style.top = "20px", this.supportsFixedPosition = e.offsetTop === 20 || e.offsetTop === 15, e.style.position = e.style.top = "", d.style.overflow = "hidden", d.style.position = "relative", this.subtractsBorderForOverflowNotVisible = e.offsetTop === -5, this.doesNotIncludeMarginInBodyOffset = a.offsetTop !== i, a.removeChild(b), f.offset.initialize = f.noop
        },
        bodyOffset: function (a) {
            var b = a.offsetTop,
                c = a.offsetLeft;
            f.offset.initialize(), f.offset.doesNotIncludeMarginInBodyOffset && (b += parseFloat(f.css(a, "marginTop")) || 0, c += parseFloat(f.css(a, "marginLeft")) || 0);
            return {
                top: b,
                left: c
            }
        },
        setOffset: function (a, b, c) {
            var d = f.css(a, "position");
            d === "static" && (a.style.position = "relative");
            var e = f(a),
                g = e.offset(),
                h = f.css(a, "top"),
                i = f.css(a, "left"),
                j = (d === "absolute" || d === "fixed") && f.inArray("auto", [h, i]) > -1,
                k = {},
                l = {},
                m, n;
            j ? (l = e.position(), m = l.top, n = l.left) : (m = parseFloat(h) || 0, n = parseFloat(i) || 0), f.isFunction(b) && (b = b.call(a, c, g)), b.top != null && (k.top = b.top - g.top + m), b.left != null && (k.left = b.left - g.left + n), "using" in b ? b.using.call(a, k) : e.css(k)
        }
    }, f.fn.extend({
        position: function () {
            if (!this[0]) return null;
            var a = this[0],
                b = this.offsetParent(),
                c = this.offset(),
                d = ct.test(b[0].nodeName) ? {
                    top: 0,
                    left: 0
                } : b.offset();
            c.top -= parseFloat(f.css(a, "marginTop")) || 0, c.left -= parseFloat(f.css(a, "marginLeft")) || 0, d.top += parseFloat(f.css(b[0], "borderTopWidth")) || 0, d.left += parseFloat(f.css(b[0], "borderLeftWidth")) || 0;
            return {
                top: c.top - d.top,
                left: c.left - d.left
            }
        },
        offsetParent: function () {
            return this.map(function () {
                var a = this.offsetParent || c.body;
                while (a && !ct.test(a.nodeName) && f.css(a, "position") === "static") a = a.offsetParent;
                return a
            })
        }
    }), f.each(["Left", "Top"], function (a, c) {
        var d = "scroll" + c;
        f.fn[d] = function (c) {
            var e, g;
            if (c === b) {
                e = this[0];
                if (!e) return null;
                g = cu(e);
                return g ? "pageXOffset" in g ? g[a ? "pageYOffset" : "pageXOffset"] : f.support.boxModel && g.document.documentElement[d] || g.document.body[d] : e[d]
            }
            return this.each(function () {
                g = cu(this), g ? g.scrollTo(a ? f(g).scrollLeft() : c, a ? c : f(g).scrollTop()) : this[d] = c
            })
        }
    }), f.each(["Height", "Width"], function (a, c) {
        var d = c.toLowerCase();
        f.fn["inner" + c] = function () {
            var a = this[0];
            return a && a.style ? parseFloat(f.css(a, d, "padding")) : null
        }, f.fn["outer" + c] = function (a) {
            var b = this[0];
            return b && b.style ? parseFloat(f.css(b, d, a ? "margin" : "border")) : null
        }, f.fn[d] = function (a) {
            var e = this[0];
            if (!e) return a == null ? null : this;
            if (f.isFunction(a)) return this.each(function (b) {
                var c = f(this);
                c[d](a.call(this, b, c[d]()))
            });
            if (f.isWindow(e)) {
                var g = e.document.documentElement["client" + c],
                    h = e.document.body;
                return e.document.compatMode === "CSS1Compat" && g || h && h["client" + c] || g
            }
            if (e.nodeType === 9) return Math.max(e.documentElement["client" + c], e.body["scroll" + c], e.documentElement["scroll" + c], e.body["offset" + c], e.documentElement["offset" + c]);
            if (a === b) {
                var i = f.css(e, d),
                    j = parseFloat(i);
                return f.isNaN(j) ? i : j
            }
            return this.css(d, typeof a == "string" ? a : a + "px")
        }
    }), a.jQuery = a.$ = f
})(window);

/*!
 * jQuery UI 1.8.11
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI
 */
(function (c, j) {
    function k(a) {
        return !c(a).parents().andSelf().filter(function () {
            return c.curCSS(this, "visibility") === "hidden" || c.expr.filters.hidden(this)
        }).length
    }
    c.ui = c.ui || {};
    if (!c.ui.version) {
        c.extend(c.ui, {
            version: "1.8.11",
            keyCode: {
                ALT: 18,
                BACKSPACE: 8,
                CAPS_LOCK: 20,
                COMMA: 188,
                COMMAND: 91,
                COMMAND_LEFT: 91,
                COMMAND_RIGHT: 93,
                CONTROL: 17,
                DELETE: 46,
                DOWN: 40,
                END: 35,
                ENTER: 13,
                ESCAPE: 27,
                HOME: 36,
                INSERT: 45,
                LEFT: 37,
                MENU: 93,
                NUMPAD_ADD: 107,
                NUMPAD_DECIMAL: 110,
                NUMPAD_DIVIDE: 111,
                NUMPAD_ENTER: 108,
                NUMPAD_MULTIPLY: 106,
                NUMPAD_SUBTRACT: 109,
                PAGE_DOWN: 34,
                PAGE_UP: 33,
                PERIOD: 190,
                RIGHT: 39,
                SHIFT: 16,
                SPACE: 32,
                TAB: 9,
                UP: 38,
                WINDOWS: 91
            }
        });
        c.fn.extend({
            _focus: c.fn.focus,
            focus: function (a, b) {
                return typeof a === "number" ? this.each(function () {
                    var d = this;
                    setTimeout(function () {
                        c(d).focus();
                        b && b.call(d)
                    }, a)
                }) : this._focus.apply(this, arguments)
            },
            scrollParent: function () {
                var a;
                a = c.browser.msie && /(static|relative)/.test(this.css("position")) || /absolute/.test(this.css("position")) ? this.parents().filter(function () {
                    return /(relative|absolute|fixed)/.test(c.curCSS(this, "position", 1)) && /(auto|scroll)/.test(c.curCSS(this, "overflow", 1) + c.curCSS(this, "overflow-y", 1) + c.curCSS(this, "overflow-x", 1))
                }).eq(0) : this.parents().filter(function () {
                    return /(auto|scroll)/.test(c.curCSS(this, "overflow", 1) + c.curCSS(this, "overflow-y", 1) + c.curCSS(this, "overflow-x", 1))
                }).eq(0);
                return /fixed/.test(this.css("position")) || !a.length ? c(document) : a
            },
            zIndex: function (a) {
                if (a !== j) return this.css("zIndex", a);
                if (this.length) {
                    a = c(this[0]);
                    for (var b; a.length && a[0] !== document;) {
                        b = a.css("position");
                        if (b === "absolute" || b === "relative" || b === "fixed") {
                            b = parseInt(a.css("zIndex"), 10);
                            if (!isNaN(b) && b !== 0) return b
                        }
                        a = a.parent()
                    }
                }
                return 0
            },
            disableSelection: function () {
                return this.bind((c.support.selectstart ? "selectstart" : "mousedown") + ".ui-disableSelection", function (a) {
                    a.preventDefault()
                })
            },
            enableSelection: function () {
                return this.unbind(".ui-disableSelection")
            }
        });
        c.each(["Width", "Height"], function (a, b) {
            function d(f, g, l, m) {
                c.each(e, function () {
                    g -= parseFloat(c.curCSS(f, "padding" + this, true)) || 0;
                    if (l) g -= parseFloat(c.curCSS(f, "border" + this + "Width", true)) || 0;
                    if (m) g -= parseFloat(c.curCSS(f, "margin" + this, true)) || 0
                });
                return g
            }
            var e = b === "Width" ? ["Left", "Right"] : ["Top", "Bottom"],
                h = b.toLowerCase(),
                i = {
                    innerWidth: c.fn.innerWidth,
                    innerHeight: c.fn.innerHeight,
                    outerWidth: c.fn.outerWidth,
                    outerHeight: c.fn.outerHeight
                };
            c.fn["inner" + b] = function (f) {
                if (f === j) return i["inner" + b].call(this);
                return this.each(function () {
                    c(this).css(h, d(this, f) + "px")
                })
            };
            c.fn["outer" + b] = function (f, g) {
                if (typeof f !== "number") return i["outer" + b].call(this, f);
                return this.each(function () {
                    c(this).css(h, d(this, f, true, g) + "px")
                })
            }
        });
        c.extend(c.expr[":"], {
            data: function (a, b, d) {
                return !!c.data(a, d[3])
            },
            focusable: function (a) {
                var b = a.nodeName.toLowerCase(),
                    d = c.attr(a, "tabindex");
                if ("area" === b) {
                    b = a.parentNode;
                    d = b.name;
                    if (!a.href || !d || b.nodeName.toLowerCase() !== "map") return false;
                    a = c("img[usemap=#" + d + "]")[0];
                    return !!a && k(a)
                }
                return (/input|select|textarea|button|object/.test(b) ? !a.disabled : "a" == b ? a.href || !isNaN(d) : !isNaN(d)) && k(a)
            },
            tabbable: function (a) {
                var b = c.attr(a, "tabindex");
                return (isNaN(b) || b >= 0) && c(a).is(":focusable")
            }
        });
        c(function () {
            var a = document.body,
                b = a.appendChild(b = document.createElement("div"));
            c.extend(b.style, {
                minHeight: "100px",
                height: "auto",
                padding: 0,
                borderWidth: 0
            });
            c.support.minHeight = b.offsetHeight === 100;
            c.support.selectstart = "onselectstart" in b;
            a.removeChild(b).style.display = "none"
        });
        c.extend(c.ui, {
            plugin: {
                add: function (a, b, d) {
                    a = c.ui[a].prototype;
                    for (var e in d) {
                        a.plugins[e] = a.plugins[e] || [];
                        a.plugins[e].push([b, d[e]])
                    }
                },
                call: function (a, b, d) {
                    if ((b = a.plugins[b]) && a.element[0].parentNode) for (var e = 0; e < b.length; e++) a.options[b[e][0]] && b[e][1].apply(a.element, d)
                }
            },
            contains: function (a, b) {
                return document.compareDocumentPosition ? a.compareDocumentPosition(b) & 16 : a !== b && a.contains(b)
            },
            hasScroll: function (a, b) {
                if (c(a).css("overflow") === "hidden") return false;
                b = b && b === "left" ? "scrollLeft" : "scrollTop";
                var d = false;
                if (a[b] > 0) return true;
                a[b] = 1;
                d = a[b] > 0;
                a[b] = 0;
                return d
            },
            isOverAxis: function (a, b, d) {
                return a > b && a < b + d
            },
            isOver: function (a, b, d, e, h, i) {
                return c.ui.isOverAxis(a, d, h) && c.ui.isOverAxis(b, e, i)
            }
        })
    }
})(jQuery);;
/*!
 * jQuery UI Widget 1.8.11
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Widget
 */
(function (b, j) {
    if (b.cleanData) {
        var k = b.cleanData;
        b.cleanData = function (a) {
            for (var c = 0, d;
            (d = a[c]) != null; c++) b(d).triggerHandler("remove");
            k(a)
        }
    } else {
        var l = b.fn.remove;
        b.fn.remove = function (a, c) {
            return this.each(function () {
                if (!c) if (!a || b.filter(a, [this]).length) b("*", this).add([this]).each(function () {
                    b(this).triggerHandler("remove")
                });
                return l.call(b(this), a, c)
            })
        }
    }
    b.widget = function (a, c, d) {
        var e = a.split(".")[0],
            f;
        a = a.split(".")[1];
        f = e + "-" + a;
        if (!d) {
            d = c;
            c = b.Widget
        }
        b.expr[":"][f] = function (h) {
            return !!b.data(h, a)
        };
        b[e] = b[e] || {};
        b[e][a] = function (h, g) {
            arguments.length && this._createWidget(h, g)
        };
        c = new c;
        c.options = b.extend(true, {}, c.options);
        b[e][a].prototype = b.extend(true, c, {
            namespace: e,
            widgetName: a,
            widgetEventPrefix: b[e][a].prototype.widgetEventPrefix || a,
            widgetBaseClass: f
        }, d);
        b.widget.bridge(a, b[e][a])
    };
    b.widget.bridge = function (a, c) {
        b.fn[a] = function (d) {
            var e = typeof d === "string",
                f = Array.prototype.slice.call(arguments, 1),
                h = this;
            d = !e && f.length ? b.extend.apply(null, [true, d].concat(f)) : d;
            if (e && d.charAt(0) === "_") return h;
            e ? this.each(function () {
                var g = b.data(this, a),
                    i = g && b.isFunction(g[d]) ? g[d].apply(g, f) : g;
                if (i !== g && i !== j) {
                    h = i;
                    return false
                }
            }) : this.each(function () {
                var g = b.data(this, a);
                g ? g.option(d || {})._init() : b.data(this, a, new c(d, this))
            });
            return h
        }
    };
    b.Widget = function (a, c) {
        arguments.length && this._createWidget(a, c)
    };
    b.Widget.prototype = {
        widgetName: "widget",
        widgetEventPrefix: "",
        options: {
            disabled: false
        },
        _createWidget: function (a, c) {
            b.data(c, this.widgetName, this);
            this.element = b(c);
            this.options = b.extend(true, {}, this.options, this._getCreateOptions(), a);
            var d = this;
            this.element.bind("remove." + this.widgetName, function () {
                d.destroy()
            });
            this._create();
            this._trigger("create");
            this._init()
        },
        _getCreateOptions: function () {
            return b.metadata && b.metadata.get(this.element[0])[this.widgetName]
        },
        _create: function () {},
        _init: function () {},
        destroy: function () {
            this.element.unbind("." + this.widgetName).removeData(this.widgetName);
            this.widget().unbind("." + this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass + "-disabled ui-state-disabled")
        },
        widget: function () {
            return this.element
        },
        option: function (a, c) {
            var d = a;
            if (arguments.length === 0) return b.extend({}, this.options);
            if (typeof a === "string") {
                if (c === j) return this.options[a];
                d = {};
                d[a] = c
            }
            this._setOptions(d);
            return this
        },
        _setOptions: function (a) {
            var c = this;
            b.each(a, function (d, e) {
                c._setOption(d, e)
            });
            return this
        },
        _setOption: function (a, c) {
            this.options[a] = c;
            if (a === "disabled") this.widget()[c ? "addClass" : "removeClass"](this.widgetBaseClass + "-disabled ui-state-disabled").attr("aria-disabled", c);
            return this
        },
        enable: function () {
            return this._setOption("disabled", false)
        },
        disable: function () {
            return this._setOption("disabled", true)
        },
        _trigger: function (a, c, d) {
            var e = this.options[a];
            c = b.Event(c);
            c.type = (a === this.widgetEventPrefix ? a : this.widgetEventPrefix + a).toLowerCase();
            d = d || {};
            if (c.originalEvent) {
                a = b.event.props.length;
                for (var f; a;) {
                    f = b.event.props[--a];
                    c[f] = c.originalEvent[f]
                }
            }
            this.element.trigger(c, d);
            return !(b.isFunction(e) && e.call(this.element[0], c, d) === false || c.isDefaultPrevented())
        }
    }
})(jQuery);;
/*!
 * jQuery UI Mouse 1.8.11
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Mouse
 *
 * Depends:
 *	jquery.ui.widget.js
 */
(function (b) {
    b.widget("ui.mouse", {
        options: {
            cancel: ":input,option",
            distance: 1,
            delay: 0
        },
        _mouseInit: function () {
            var a = this;
            this.element.bind("mousedown." + this.widgetName, function (c) {
                return a._mouseDown(c)
            }).bind("click." + this.widgetName, function (c) {
                if (true === b.data(c.target, a.widgetName + ".preventClickEvent")) {
                    b.removeData(c.target, a.widgetName + ".preventClickEvent");
                    c.stopImmediatePropagation();
                    return false
                }
            });
            this.started = false
        },
        _mouseDestroy: function () {
            this.element.unbind("." + this.widgetName)
        },
        _mouseDown: function (a) {
            a.originalEvent = a.originalEvent || {};
            if (!a.originalEvent.mouseHandled) {
                this._mouseStarted && this._mouseUp(a);
                this._mouseDownEvent = a;
                var c = this,
                    e = a.which == 1,
                    f = typeof this.options.cancel == "string" ? b(a.target).parents().add(a.target).filter(this.options.cancel).length : false;
                if (!e || f || !this._mouseCapture(a)) return true;
                this.mouseDelayMet = !this.options.delay;
                if (!this.mouseDelayMet) this._mouseDelayTimer = setTimeout(function () {
                    c.mouseDelayMet = true
                }, this.options.delay);
                if (this._mouseDistanceMet(a) && this._mouseDelayMet(a)) {
                    this._mouseStarted = this._mouseStart(a) !== false;
                    if (!this._mouseStarted) {
                        a.preventDefault();
                        return true
                    }
                }
                true === b.data(a.target, this.widgetName + ".preventClickEvent") && b.removeData(a.target, this.widgetName + ".preventClickEvent");
                this._mouseMoveDelegate = function (d) {
                    return c._mouseMove(d)
                };
                this._mouseUpDelegate = function (d) {
                    return c._mouseUp(d)
                };
                b(document).bind("mousemove." + this.widgetName, this._mouseMoveDelegate).bind("mouseup." + this.widgetName, this._mouseUpDelegate);
                a.preventDefault();
                return a.originalEvent.mouseHandled = true
            }
        },
        _mouseMove: function (a) {
            if (b.browser.msie && !(document.documentMode >= 9) && !a.button) return this._mouseUp(a);
            if (this._mouseStarted) {
                this._mouseDrag(a);
                return a.preventDefault()
            }
            if (this._mouseDistanceMet(a) && this._mouseDelayMet(a))(this._mouseStarted = this._mouseStart(this._mouseDownEvent, a) !== false) ? this._mouseDrag(a) : this._mouseUp(a);
            return !this._mouseStarted
        },
        _mouseUp: function (a) {
            b(document).unbind("mousemove." + this.widgetName, this._mouseMoveDelegate).unbind("mouseup." + this.widgetName, this._mouseUpDelegate);
            if (this._mouseStarted) {
                this._mouseStarted = false;
                a.target == this._mouseDownEvent.target && b.data(a.target, this.widgetName + ".preventClickEvent", true);
                this._mouseStop(a)
            }
            return false
        },
        _mouseDistanceMet: function (a) {
            return Math.max(Math.abs(this._mouseDownEvent.pageX - a.pageX), Math.abs(this._mouseDownEvent.pageY - a.pageY)) >= this.options.distance
        },
        _mouseDelayMet: function () {
            return this.mouseDelayMet
        },
        _mouseStart: function () {},
        _mouseDrag: function () {},
        _mouseStop: function () {},
        _mouseCapture: function () {
            return true
        }
    })
})(jQuery);;
/*
 * jQuery UI Position 1.8.11
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Position
 */
(function (c) {
    c.ui = c.ui || {};
    var n = /left|center|right/,
        o = /top|center|bottom/,
        t = c.fn.position,
        u = c.fn.offset;
    c.fn.position = function (b) {
        if (!b || !b.of) return t.apply(this, arguments);
        b = c.extend({}, b);
        var a = c(b.of),
            d = a[0],
            g = (b.collision || "flip").split(" "),
            e = b.offset ? b.offset.split(" ") : [0, 0],
            h, k, j;
        if (d.nodeType === 9) {
            h = a.width();
            k = a.height();
            j = {
                top: 0,
                left: 0
            }
        } else if (d.setTimeout) {
            h = a.width();
            k = a.height();
            j = {
                top: a.scrollTop(),
                left: a.scrollLeft()
            }
        } else if (d.preventDefault) {
            b.at = "left top";
            h = k = 0;
            j = {
                top: b.of.pageY,
                left: b.of.pageX
            }
        } else {
            h = a.outerWidth();
            k = a.outerHeight();
            j = a.offset()
        }
        c.each(["my", "at"], function () {
            var f = (b[this] || "").split(" ");
            if (f.length === 1) f = n.test(f[0]) ? f.concat(["center"]) : o.test(f[0]) ? ["center"].concat(f) : ["center", "center"];
            f[0] = n.test(f[0]) ? f[0] : "center";
            f[1] = o.test(f[1]) ? f[1] : "center";
            b[this] = f
        });
        if (g.length === 1) g[1] = g[0];
        e[0] = parseInt(e[0], 10) || 0;
        if (e.length === 1) e[1] = e[0];
        e[1] = parseInt(e[1], 10) || 0;
        if (b.at[0] === "right") j.left += h;
        else if (b.at[0] === "center") j.left += h / 2;
        if (b.at[1] === "bottom") j.top += k;
        else if (b.at[1] === "center") j.top += k / 2;
        j.left += e[0];
        j.top += e[1];
        return this.each(function () {
            var f = c(this),
                l = f.outerWidth(),
                m = f.outerHeight(),
                p = parseInt(c.curCSS(this, "marginLeft", true)) || 0,
                q = parseInt(c.curCSS(this, "marginTop", true)) || 0,
                v = l + p + (parseInt(c.curCSS(this, "marginRight", true)) || 0),
                w = m + q + (parseInt(c.curCSS(this, "marginBottom", true)) || 0),
                i = c.extend({}, j),
                r;
            if (b.my[0] === "right") i.left -= l;
            else if (b.my[0] === "center") i.left -= l / 2;
            if (b.my[1] === "bottom") i.top -= m;
            else if (b.my[1] === "center") i.top -= m / 2;
            i.left = Math.round(i.left);
            i.top = Math.round(i.top);
            r = {
                left: i.left - p,
                top: i.top - q
            };
            c.each(["left", "top"], function (s, x) {
                c.ui.position[g[s]] && c.ui.position[g[s]][x](i, {
                    targetWidth: h,
                    targetHeight: k,
                    elemWidth: l,
                    elemHeight: m,
                    collisionPosition: r,
                    collisionWidth: v,
                    collisionHeight: w,
                    offset: e,
                    my: b.my,
                    at: b.at
                })
            });
            c.fn.bgiframe && f.bgiframe();
            f.offset(c.extend(i, {
                using: b.using
            }))
        })
    };
    c.ui.position = {
        fit: {
            left: function (b, a) {
                var d = c(window);
                d = a.collisionPosition.left + a.collisionWidth - d.width() - d.scrollLeft();
                b.left = d > 0 ? b.left - d : Math.max(b.left - a.collisionPosition.left, b.left)
            },
            top: function (b, a) {
                var d = c(window);
                d = a.collisionPosition.top + a.collisionHeight - d.height() - d.scrollTop();
                b.top = d > 0 ? b.top - d : Math.max(b.top - a.collisionPosition.top, b.top)
            }
        },
        flip: {
            left: function (b, a) {
                if (a.at[0] !== "center") {
                    var d = c(window);
                    d = a.collisionPosition.left + a.collisionWidth - d.width() - d.scrollLeft();
                    var g = a.my[0] === "left" ? -a.elemWidth : a.my[0] === "right" ? a.elemWidth : 0,
                        e = a.at[0] === "left" ? a.targetWidth : -a.targetWidth,
                        h = -2 * a.offset[0];
                    b.left += a.collisionPosition.left < 0 ? g + e + h : d > 0 ? g + e + h : 0
                }
            },
            top: function (b, a) {
                if (a.at[1] !== "center") {
                    var d = c(window);
                    d = a.collisionPosition.top + a.collisionHeight - d.height() - d.scrollTop();
                    var g = a.my[1] === "top" ? -a.elemHeight : a.my[1] === "bottom" ? a.elemHeight : 0,
                        e = a.at[1] === "top" ? a.targetHeight : -a.targetHeight,
                        h = -2 * a.offset[1];
                    b.top += a.collisionPosition.top < 0 ? g + e + h : d > 0 ? g + e + h : 0
                }
            }
        }
    };
    if (!c.offset.setOffset) {
        c.offset.setOffset = function (b, a) {
            if (/static/.test(c.curCSS(b, "position"))) b.style.position = "relative";
            var d = c(b),
                g = d.offset(),
                e = parseInt(c.curCSS(b, "top", true), 10) || 0,
                h = parseInt(c.curCSS(b, "left", true), 10) || 0;
            g = {
                top: a.top - g.top + e,
                left: a.left - g.left + h
            };
            "using" in a ? a.using.call(b, g) : d.css(g)
        };
        c.fn.offset = function (b) {
            var a = this[0];
            if (!a || !a.ownerDocument) return null;
            if (b) return this.each(function () {
                c.offset.setOffset(this, b)
            });
            return u.call(this)
        }
    }
})(jQuery);;
/*
 * jQuery UI Draggable 1.8.11
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Draggables
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.mouse.js
 *	jquery.ui.widget.js
 */
(function (d) {
    d.widget("ui.draggable", d.ui.mouse, {
        widgetEventPrefix: "drag",
        options: {
            addClasses: true,
            appendTo: "parent",
            axis: false,
            connectToSortable: false,
            containment: false,
            cursor: "auto",
            cursorAt: false,
            grid: false,
            handle: false,
            helper: "original",
            iframeFix: false,
            opacity: false,
            refreshPositions: false,
            revert: false,
            revertDuration: 500,
            scope: "default",
            scroll: true,
            scrollSensitivity: 20,
            scrollSpeed: 20,
            snap: false,
            snapMode: "both",
            snapTolerance: 20,
            stack: false,
            zIndex: false
        },
        _create: function () {
            if (this.options.helper == "original" && !/^(?:r|a|f)/.test(this.element.css("position"))) this.element[0].style.position = "relative";
            this.options.addClasses && this.element.addClass("ui-draggable");
            this.options.disabled && this.element.addClass("ui-draggable-disabled");
            this._mouseInit()
        },
        destroy: function () {
            if (this.element.data("draggable")) {
                this.element.removeData("draggable").unbind(".draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");
                this._mouseDestroy();
                return this
            }
        },
        _mouseCapture: function (a) {
            var b = this.options;
            if (this.helper || b.disabled || d(a.target).is(".ui-resizable-handle")) return false;
            this.handle = this._getHandle(a);
            if (!this.handle) return false;
            return true
        },
        _mouseStart: function (a) {
            var b = this.options;
            this.helper = this._createHelper(a);
            this._cacheHelperProportions();
            if (d.ui.ddmanager) d.ui.ddmanager.current = this;
            this._cacheMargins();
            this.cssPosition = this.helper.css("position");
            this.scrollParent = this.helper.scrollParent();
            this.offset = this.positionAbs = this.element.offset();
            this.offset = {
                top: this.offset.top - this.margins.top,
                left: this.offset.left - this.margins.left
            };
            d.extend(this.offset, {
                click: {
                    left: a.pageX - this.offset.left,
                    top: a.pageY - this.offset.top
                },
                parent: this._getParentOffset(),
                relative: this._getRelativeOffset()
            });
            this.originalPosition = this.position = this._generatePosition(a);
            this.originalPageX = a.pageX;
            this.originalPageY = a.pageY;
            b.cursorAt && this._adjustOffsetFromHelper(b.cursorAt);
            b.containment && this._setContainment();
            if (this._trigger("start", a) === false) {
                this._clear();
                return false
            }
            this._cacheHelperProportions();
            d.ui.ddmanager && !b.dropBehaviour && d.ui.ddmanager.prepareOffsets(this, a);
            this.helper.addClass("ui-draggable-dragging");
            this._mouseDrag(a, true);
            return true
        },
        _mouseDrag: function (a, b) {
            this.position = this._generatePosition(a);
            this.positionAbs = this._convertPositionTo("absolute");
            if (!b) {
                b = this._uiHash();
                if (this._trigger("drag", a, b) === false) {
                    this._mouseUp({});
                    return false
                }
                this.position = b.position
            }
            if (!this.options.axis || this.options.axis != "y") this.helper[0].style.left = this.position.left + "px";
            if (!this.options.axis || this.options.axis != "x") this.helper[0].style.top = this.position.top + "px";
            d.ui.ddmanager && d.ui.ddmanager.drag(this, a);
            return false
        },
        _mouseStop: function (a) {
            var b = false;
            if (d.ui.ddmanager && !this.options.dropBehaviour) b = d.ui.ddmanager.drop(this, a);
            if (this.dropped) {
                b = this.dropped;
                this.dropped = false
            }
            if ((!this.element[0] || !this.element[0].parentNode) && this.options.helper == "original") return false;
            if (this.options.revert == "invalid" && !b || this.options.revert == "valid" && b || this.options.revert === true || d.isFunction(this.options.revert) && this.options.revert.call(this.element, b)) {
                var c = this;
                d(this.helper).animate(this.originalPosition, parseInt(this.options.revertDuration, 10), function () {
                    c._trigger("stop", a) !== false && c._clear()
                })
            } else this._trigger("stop", a) !== false && this._clear();
            return false
        },
        cancel: function () {
            this.helper.is(".ui-draggable-dragging") ? this._mouseUp({}) : this._clear();
            return this
        },
        _getHandle: function (a) {
            var b = !this.options.handle || !d(this.options.handle, this.element).length ? true : false;
            d(this.options.handle, this.element).find("*").andSelf().each(function () {
                if (this == a.target) b = true
            });
            return b
        },
        _createHelper: function (a) {
            var b = this.options;
            a = d.isFunction(b.helper) ? d(b.helper.apply(this.element[0], [a])) : b.helper == "clone" ? this.element.clone() : this.element;
            a.parents("body").length || a.appendTo(b.appendTo == "parent" ? this.element[0].parentNode : b.appendTo);
            a[0] != this.element[0] && !/(fixed|absolute)/.test(a.css("position")) && a.css("position", "absolute");
            return a
        },
        _adjustOffsetFromHelper: function (a) {
            if (typeof a == "string") a = a.split(" ");
            if (d.isArray(a)) a = {
                left: +a[0],
                top: +a[1] || 0
            };
            if ("left" in a) this.offset.click.left = a.left + this.margins.left;
            if ("right" in a) this.offset.click.left = this.helperProportions.width - a.right + this.margins.left;
            if ("top" in a) this.offset.click.top = a.top + this.margins.top;
            if ("bottom" in a) this.offset.click.top = this.helperProportions.height - a.bottom + this.margins.top
        },
        _getParentOffset: function () {
            this.offsetParent = this.helper.offsetParent();
            var a = this.offsetParent.offset();
            if (this.cssPosition == "absolute" && this.scrollParent[0] != document && d.ui.contains(this.scrollParent[0], this.offsetParent[0])) {
                a.left += this.scrollParent.scrollLeft();
                a.top += this.scrollParent.scrollTop()
            }
            if (this.offsetParent[0] == document.body || this.offsetParent[0].tagName && this.offsetParent[0].tagName.toLowerCase() == "html" && d.browser.msie) a = {
                top: 0,
                left: 0
            };
            return {
                top: a.top + (parseInt(this.offsetParent.css("borderTopWidth"), 10) || 0),
                left: a.left + (parseInt(this.offsetParent.css("borderLeftWidth"), 10) || 0)
            }
        },
        _getRelativeOffset: function () {
            if (this.cssPosition == "relative") {
                var a = this.element.position();
                return {
                    top: a.top - (parseInt(this.helper.css("top"), 10) || 0) + this.scrollParent.scrollTop(),
                    left: a.left - (parseInt(this.helper.css("left"), 10) || 0) + this.scrollParent.scrollLeft()
                }
            } else return {
                top: 0,
                left: 0
            }
        },
        _cacheMargins: function () {
            this.margins = {
                left: parseInt(this.element.css("marginLeft"), 10) || 0,
                top: parseInt(this.element.css("marginTop"), 10) || 0,
                right: parseInt(this.element.css("marginRight"), 10) || 0,
                bottom: parseInt(this.element.css("marginBottom"), 10) || 0
            }
        },
        _cacheHelperProportions: function () {
            this.helperProportions = {
                width: this.helper.outerWidth(),
                height: this.helper.outerHeight()
            }
        },
        _setContainment: function () {
            var a = this.options;
            if (a.containment == "parent") a.containment = this.helper[0].parentNode;
            if (a.containment == "document" || a.containment == "window") this.containment = [(a.containment == "document" ? 0 : d(window).scrollLeft()) - this.offset.relative.left - this.offset.parent.left, (a.containment == "document" ? 0 : d(window).scrollTop()) - this.offset.relative.top - this.offset.parent.top, (a.containment == "document" ? 0 : d(window).scrollLeft()) + d(a.containment == "document" ? document : window).width() - this.helperProportions.width - this.margins.left, (a.containment == "document" ? 0 : d(window).scrollTop()) + (d(a.containment == "document" ? document : window).height() || document.body.parentNode.scrollHeight) - this.helperProportions.height - this.margins.top];
            if (!/^(document|window|parent)$/.test(a.containment) && a.containment.constructor != Array) {
                var b = d(a.containment)[0];
                if (b) {
                    a = d(a.containment).offset();
                    var c = d(b).css("overflow") != "hidden";
                    this.containment = [a.left + (parseInt(d(b).css("borderLeftWidth"), 10) || 0) + (parseInt(d(b).css("paddingLeft"), 10) || 0), a.top + (parseInt(d(b).css("borderTopWidth"), 10) || 0) + (parseInt(d(b).css("paddingTop"), 10) || 0), a.left + (c ? Math.max(b.scrollWidth, b.offsetWidth) : b.offsetWidth) - (parseInt(d(b).css("borderLeftWidth"), 10) || 0) - (parseInt(d(b).css("paddingRight"), 10) || 0) - this.helperProportions.width - this.margins.left - this.margins.right, a.top + (c ? Math.max(b.scrollHeight, b.offsetHeight) : b.offsetHeight) - (parseInt(d(b).css("borderTopWidth"), 10) || 0) - (parseInt(d(b).css("paddingBottom"), 10) || 0) - this.helperProportions.height - this.margins.top - this.margins.bottom]
                }
            } else if (a.containment.constructor == Array) this.containment = a.containment
        },
        _convertPositionTo: function (a, b) {
            if (!b) b = this.position;
            a = a == "absolute" ? 1 : -1;
            var c = this.cssPosition == "absolute" && !(this.scrollParent[0] != document && d.ui.contains(this.scrollParent[0], this.offsetParent[0])) ? this.offsetParent : this.scrollParent,
                f = /(html|body)/i.test(c[0].tagName);
            return {
                top: b.top + this.offset.relative.top * a + this.offset.parent.top * a - (d.browser.safari && d.browser.version < 526 && this.cssPosition == "fixed" ? 0 : (this.cssPosition == "fixed" ? -this.scrollParent.scrollTop() : f ? 0 : c.scrollTop()) * a),
                left: b.left + this.offset.relative.left * a + this.offset.parent.left * a - (d.browser.safari && d.browser.version < 526 && this.cssPosition == "fixed" ? 0 : (this.cssPosition == "fixed" ? -this.scrollParent.scrollLeft() : f ? 0 : c.scrollLeft()) * a)
            }
        },
        _generatePosition: function (a) {
            var b = this.options,
                c = this.cssPosition == "absolute" && !(this.scrollParent[0] != document && d.ui.contains(this.scrollParent[0], this.offsetParent[0])) ? this.offsetParent : this.scrollParent,
                f = /(html|body)/i.test(c[0].tagName),
                e = a.pageX,
                g = a.pageY;
            if (this.originalPosition) {
                if (this.containment) {
                    if (a.pageX - this.offset.click.left < this.containment[0]) e = this.containment[0] + this.offset.click.left;
                    if (a.pageY - this.offset.click.top < this.containment[1]) g = this.containment[1] + this.offset.click.top;
                    if (a.pageX - this.offset.click.left > this.containment[2]) e = this.containment[2] + this.offset.click.left;
                    if (a.pageY - this.offset.click.top > this.containment[3]) g = this.containment[3] + this.offset.click.top
                }
                if (b.grid) {
                    g = this.originalPageY + Math.round((g - this.originalPageY) / b.grid[1]) * b.grid[1];
                    g = this.containment ? !(g - this.offset.click.top < this.containment[1] || g - this.offset.click.top > this.containment[3]) ? g : !(g - this.offset.click.top < this.containment[1]) ? g - b.grid[1] : g + b.grid[1] : g;
                    e = this.originalPageX + Math.round((e - this.originalPageX) / b.grid[0]) * b.grid[0];
                    e = this.containment ? !(e - this.offset.click.left < this.containment[0] || e - this.offset.click.left > this.containment[2]) ? e : !(e - this.offset.click.left < this.containment[0]) ? e - b.grid[0] : e + b.grid[0] : e
                }
            }
            return {
                top: g - this.offset.click.top - this.offset.relative.top - this.offset.parent.top + (d.browser.safari && d.browser.version < 526 && this.cssPosition == "fixed" ? 0 : this.cssPosition == "fixed" ? -this.scrollParent.scrollTop() : f ? 0 : c.scrollTop()),
                left: e - this.offset.click.left - this.offset.relative.left - this.offset.parent.left + (d.browser.safari && d.browser.version < 526 && this.cssPosition == "fixed" ? 0 : this.cssPosition == "fixed" ? -this.scrollParent.scrollLeft() : f ? 0 : c.scrollLeft())
            }
        },
        _clear: function () {
            this.helper.removeClass("ui-draggable-dragging");
            this.helper[0] != this.element[0] && !this.cancelHelperRemoval && this.helper.remove();
            this.helper = null;
            this.cancelHelperRemoval = false
        },
        _trigger: function (a, b, c) {
            c = c || this._uiHash();
            d.ui.plugin.call(this, a, [b, c]);
            if (a == "drag") this.positionAbs = this._convertPositionTo("absolute");
            return d.Widget.prototype._trigger.call(this, a, b, c)
        },
        plugins: {},
        _uiHash: function () {
            return {
                helper: this.helper,
                position: this.position,
                originalPosition: this.originalPosition,
                offset: this.positionAbs
            }
        }
    });
    d.extend(d.ui.draggable, {
        version: "1.8.11"
    });
    d.ui.plugin.add("draggable", "connectToSortable", {
        start: function (a, b) {
            var c = d(this).data("draggable"),
                f = c.options,
                e = d.extend({}, b, {
                    item: c.element
                });
            c.sortables = [];
            d(f.connectToSortable).each(function () {
                var g = d.data(this, "sortable");
                if (g && !g.options.disabled) {
                    c.sortables.push({
                        instance: g,
                        shouldRevert: g.options.revert
                    });
                    g.refreshPositions();
                    g._trigger("activate", a, e)
                }
            })
        },
        stop: function (a, b) {
            var c = d(this).data("draggable"),
                f = d.extend({}, b, {
                    item: c.element
                });
            d.each(c.sortables, function () {
                if (this.instance.isOver) {
                    this.instance.isOver = 0;
                    c.cancelHelperRemoval = true;
                    this.instance.cancelHelperRemoval = false;
                    if (this.shouldRevert) this.instance.options.revert = true;
                    this.instance._mouseStop(a);
                    this.instance.options.helper = this.instance.options._helper;
                    c.options.helper == "original" && this.instance.currentItem.css({
                        top: "auto",
                        left: "auto"
                    })
                } else {
                    this.instance.cancelHelperRemoval = false;
                    this.instance._trigger("deactivate", a, f)
                }
            })
        },
        drag: function (a, b) {
            var c = d(this).data("draggable"),
                f = this;
            d.each(c.sortables, function () {
                this.instance.positionAbs = c.positionAbs;
                this.instance.helperProportions = c.helperProportions;
                this.instance.offset.click = c.offset.click;
                if (this.instance._intersectsWith(this.instance.containerCache)) {
                    if (!this.instance.isOver) {
                        this.instance.isOver = 1;
                        this.instance.currentItem = d(f).clone().appendTo(this.instance.element).data("sortable-item", true);
                        this.instance.options._helper = this.instance.options.helper;
                        this.instance.options.helper = function () {
                            return b.helper[0]
                        };
                        a.target = this.instance.currentItem[0];
                        this.instance._mouseCapture(a, true);
                        this.instance._mouseStart(a, true, true);
                        this.instance.offset.click.top = c.offset.click.top;
                        this.instance.offset.click.left = c.offset.click.left;
                        this.instance.offset.parent.left -= c.offset.parent.left - this.instance.offset.parent.left;
                        this.instance.offset.parent.top -= c.offset.parent.top - this.instance.offset.parent.top;
                        c._trigger("toSortable", a);
                        c.dropped = this.instance.element;
                        c.currentItem = c.element;
                        this.instance.fromOutside = c
                    }
                    this.instance.currentItem && this.instance._mouseDrag(a)
                } else if (this.instance.isOver) {
                    this.instance.isOver = 0;
                    this.instance.cancelHelperRemoval = true;
                    this.instance.options.revert = false;
                    this.instance._trigger("out", a, this.instance._uiHash(this.instance));
                    this.instance._mouseStop(a, true);
                    this.instance.options.helper = this.instance.options._helper;
                    this.instance.currentItem.remove();
                    this.instance.placeholder && this.instance.placeholder.remove();
                    c._trigger("fromSortable", a);
                    c.dropped = false
                }
            })
        }
    });
    d.ui.plugin.add("draggable", "cursor", {
        start: function () {
            var a = d("body"),
                b = d(this).data("draggable").options;
            if (a.css("cursor")) b._cursor = a.css("cursor");
            a.css("cursor", b.cursor)
        },
        stop: function () {
            var a = d(this).data("draggable").options;
            a._cursor && d("body").css("cursor", a._cursor)
        }
    });
    d.ui.plugin.add("draggable", "iframeFix", {
        start: function () {
            var a = d(this).data("draggable").options;
            d(a.iframeFix === true ? "iframe" : a.iframeFix).each(function () {
                d('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({
                    width: this.offsetWidth + "px",
                    height: this.offsetHeight + "px",
                    position: "absolute",
                    opacity: "0.001",
                    zIndex: 1E3
                }).css(d(this).offset()).appendTo("body")
            })
        },
        stop: function () {
            d("div.ui-draggable-iframeFix").each(function () {
                this.parentNode.removeChild(this)
            })
        }
    });
    d.ui.plugin.add("draggable", "opacity", {
        start: function (a, b) {
            a = d(b.helper);
            b = d(this).data("draggable").options;
            if (a.css("opacity")) b._opacity = a.css("opacity");
            a.css("opacity", b.opacity)
        },
        stop: function (a, b) {
            a = d(this).data("draggable").options;
            a._opacity && d(b.helper).css("opacity", a._opacity)
        }
    });
    d.ui.plugin.add("draggable", "scroll", {
        start: function () {
            var a = d(this).data("draggable");
            if (a.scrollParent[0] != document && a.scrollParent[0].tagName != "HTML") a.overflowOffset = a.scrollParent.offset()
        },
        drag: function (a) {
            var b = d(this).data("draggable"),
                c = b.options,
                f = false;
            if (b.scrollParent[0] != document && b.scrollParent[0].tagName != "HTML") {
                if (!c.axis || c.axis != "x") if (b.overflowOffset.top + b.scrollParent[0].offsetHeight - a.pageY < c.scrollSensitivity) b.scrollParent[0].scrollTop = f = b.scrollParent[0].scrollTop + c.scrollSpeed;
                else if (a.pageY - b.overflowOffset.top < c.scrollSensitivity) b.scrollParent[0].scrollTop = f = b.scrollParent[0].scrollTop - c.scrollSpeed;
                if (!c.axis || c.axis != "y") if (b.overflowOffset.left + b.scrollParent[0].offsetWidth - a.pageX < c.scrollSensitivity) b.scrollParent[0].scrollLeft = f = b.scrollParent[0].scrollLeft + c.scrollSpeed;
                else if (a.pageX - b.overflowOffset.left < c.scrollSensitivity) b.scrollParent[0].scrollLeft = f = b.scrollParent[0].scrollLeft - c.scrollSpeed
            } else {
                if (!c.axis || c.axis != "x") if (a.pageY - d(document).scrollTop() < c.scrollSensitivity) f = d(document).scrollTop(d(document).scrollTop() - c.scrollSpeed);
                else if (d(window).height() - (a.pageY - d(document).scrollTop()) < c.scrollSensitivity) f = d(document).scrollTop(d(document).scrollTop() + c.scrollSpeed);
                if (!c.axis || c.axis != "y") if (a.pageX - d(document).scrollLeft() < c.scrollSensitivity) f = d(document).scrollLeft(d(document).scrollLeft() - c.scrollSpeed);
                else if (d(window).width() - (a.pageX - d(document).scrollLeft()) < c.scrollSensitivity) f = d(document).scrollLeft(d(document).scrollLeft() + c.scrollSpeed)
            }
            f !== false && d.ui.ddmanager && !c.dropBehaviour && d.ui.ddmanager.prepareOffsets(b, a)
        }
    });
    d.ui.plugin.add("draggable", "snap", {
        start: function () {
            var a = d(this).data("draggable"),
                b = a.options;
            a.snapElements = [];
            d(b.snap.constructor != String ? b.snap.items || ":data(draggable)" : b.snap).each(function () {
                var c = d(this),
                    f = c.offset();
                this != a.element[0] && a.snapElements.push({
                    item: this,
                    width: c.outerWidth(),
                    height: c.outerHeight(),
                    top: f.top,
                    left: f.left
                })
            })
        },
        drag: function (a, b) {
            for (var c = d(this).data("draggable"), f = c.options, e = f.snapTolerance, g = b.offset.left, n = g + c.helperProportions.width, m = b.offset.top, o = m + c.helperProportions.height, h = c.snapElements.length - 1; h >= 0; h--) {
                var i = c.snapElements[h].left,
                    k = i + c.snapElements[h].width,
                    j = c.snapElements[h].top,
                    l = j + c.snapElements[h].height;
                if (i - e < g && g < k + e && j - e < m && m < l + e || i - e < g && g < k + e && j - e < o && o < l + e || i - e < n && n < k + e && j - e < m && m < l + e || i - e < n && n < k + e && j - e < o && o < l + e) {
                    if (f.snapMode != "inner") {
                        var p = Math.abs(j - o) <= e,
                            q = Math.abs(l - m) <= e,
                            r = Math.abs(i - n) <= e,
                            s = Math.abs(k - g) <= e;
                        if (p) b.position.top = c._convertPositionTo("relative", {
                            top: j - c.helperProportions.height,
                            left: 0
                        }).top - c.margins.top;
                        if (q) b.position.top = c._convertPositionTo("relative", {
                            top: l,
                            left: 0
                        }).top - c.margins.top;
                        if (r) b.position.left = c._convertPositionTo("relative", {
                            top: 0,
                            left: i - c.helperProportions.width
                        }).left - c.margins.left;
                        if (s) b.position.left = c._convertPositionTo("relative", {
                            top: 0,
                            left: k
                        }).left - c.margins.left
                    }
                    var t = p || q || r || s;
                    if (f.snapMode != "outer") {
                        p = Math.abs(j - m) <= e;
                        q = Math.abs(l - o) <= e;
                        r = Math.abs(i - g) <= e;
                        s = Math.abs(k - n) <= e;
                        if (p) b.position.top = c._convertPositionTo("relative", {
                            top: j,
                            left: 0
                        }).top - c.margins.top;
                        if (q) b.position.top = c._convertPositionTo("relative", {
                            top: l - c.helperProportions.height,
                            left: 0
                        }).top - c.margins.top;
                        if (r) b.position.left = c._convertPositionTo("relative", {
                            top: 0,
                            left: i
                        }).left - c.margins.left;
                        if (s) b.position.left = c._convertPositionTo("relative", {
                            top: 0,
                            left: k - c.helperProportions.width
                        }).left - c.margins.left
                    }
                    if (!c.snapElements[h].snapping && (p || q || r || s || t)) c.options.snap.snap && c.options.snap.snap.call(c.element, a, d.extend(c._uiHash(), {
                        snapItem: c.snapElements[h].item
                    }));
                    c.snapElements[h].snapping = p || q || r || s || t
                } else {
                    c.snapElements[h].snapping && c.options.snap.release && c.options.snap.release.call(c.element, a, d.extend(c._uiHash(), {
                        snapItem: c.snapElements[h].item
                    }));
                    c.snapElements[h].snapping = false
                }
            }
        }
    });
    d.ui.plugin.add("draggable", "stack", {
        start: function () {
            var a = d(this).data("draggable").options;
            a = d.makeArray(d(a.stack)).sort(function (c, f) {
                return (parseInt(d(c).css("zIndex"), 10) || 0) - (parseInt(d(f).css("zIndex"), 10) || 0)
            });
            if (a.length) {
                var b = parseInt(a[0].style.zIndex) || 0;
                d(a).each(function (c) {
                    this.style.zIndex = b + c
                });
                this[0].style.zIndex = b + a.length
            }
        }
    });
    d.ui.plugin.add("draggable", "zIndex", {
        start: function (a, b) {
            a = d(b.helper);
            b = d(this).data("draggable").options;
            if (a.css("zIndex")) b._zIndex = a.css("zIndex");
            a.css("zIndex", b.zIndex)
        },
        stop: function (a, b) {
            a = d(this).data("draggable").options;
            a._zIndex && d(b.helper).css("zIndex", a._zIndex)
        }
    })
})(jQuery);;
/*
 * jQuery UI Effects 1.8.11
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Effects/
 */
jQuery.effects ||
function (f, j) {
    function n(c) {
        var a;
        if (c && c.constructor == Array && c.length == 3) return c;
        if (a = /rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(c)) return [parseInt(a[1], 10), parseInt(a[2], 10), parseInt(a[3], 10)];
        if (a = /rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(c)) return [parseFloat(a[1]) * 2.55, parseFloat(a[2]) * 2.55, parseFloat(a[3]) * 2.55];
        if (a = /#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(c)) return [parseInt(a[1], 16), parseInt(a[2], 16), parseInt(a[3], 16)];
        if (a = /#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(c)) return [parseInt(a[1] + a[1], 16), parseInt(a[2] + a[2], 16), parseInt(a[3] + a[3], 16)];
        if (/rgba\(0, 0, 0, 0\)/.exec(c)) return o.transparent;
        return o[f.trim(c).toLowerCase()]
    }
    function s(c, a) {
        var b;
        do {
            b = f.curCSS(c, a);
            if (b != "" && b != "transparent" || f.nodeName(c, "body")) break;
            a = "backgroundColor"
        } while (c = c.parentNode);
        return n(b)
    }
    function p() {
        var c = document.defaultView ? document.defaultView.getComputedStyle(this, null) : this.currentStyle,
            a = {},
            b, d;
        if (c && c.length && c[0] && c[c[0]]) for (var e = c.length; e--;) {
            b = c[e];
            if (typeof c[b] == "string") {
                d = b.replace(/\-(\w)/g, function (g, h) {
                    return h.toUpperCase()
                });
                a[d] = c[b]
            }
        } else for (b in c) if (typeof c[b] === "string") a[b] = c[b];
        return a
    }
    function q(c) {
        var a, b;
        for (a in c) {
            b = c[a];
            if (b == null || f.isFunction(b) || a in t || /scrollbar/.test(a) || !/color/i.test(a) && isNaN(parseFloat(b))) delete c[a]
        }
        return c
    }
    function u(c, a) {
        var b = {
            _: 0
        },
            d;
        for (d in a) if (c[d] != a[d]) b[d] = a[d];
        return b
    }
    function k(c, a, b, d) {
        if (typeof c == "object") {
            d = a;
            b = null;
            a = c;
            c = a.effect
        }
        if (f.isFunction(a)) {
            d = a;
            b = null;
            a = {}
        }
        if (typeof a == "number" || f.fx.speeds[a]) {
            d = b;
            b = a;
            a = {}
        }
        if (f.isFunction(b)) {
            d = b;
            b = null
        }
        a = a || {};
        b = b || a.duration;
        b = f.fx.off ? 0 : typeof b == "number" ? b : b in f.fx.speeds ? f.fx.speeds[b] : f.fx.speeds._default;
        d = d || a.complete;
        return [c, a, b, d]
    }
    function m(c) {
        if (!c || typeof c === "number" || f.fx.speeds[c]) return true;
        if (typeof c === "string" && !f.effects[c]) return true;
        return false
    }
    f.effects = {};
    f.each(["backgroundColor", "borderBottomColor", "borderLeftColor", "borderRightColor", "borderTopColor", "borderColor", "color", "outlineColor"], function (c, a) {
        f.fx.step[a] = function (b) {
            if (!b.colorInit) {
                b.start = s(b.elem, a);
                b.end = n(b.end);
                b.colorInit = true
            }
            b.elem.style[a] = "rgb(" + Math.max(Math.min(parseInt(b.pos * (b.end[0] - b.start[0]) + b.start[0], 10), 255), 0) + "," + Math.max(Math.min(parseInt(b.pos * (b.end[1] - b.start[1]) + b.start[1], 10), 255), 0) + "," + Math.max(Math.min(parseInt(b.pos * (b.end[2] - b.start[2]) + b.start[2], 10), 255), 0) + ")"
        }
    });
    var o = {
        aqua: [0, 255, 255],
        azure: [240, 255, 255],
        beige: [245, 245, 220],
        black: [0, 0, 0],
        blue: [0, 0, 255],
        brown: [165, 42, 42],
        cyan: [0, 255, 255],
        darkblue: [0, 0, 139],
        darkcyan: [0, 139, 139],
        darkgrey: [169, 169, 169],
        darkgreen: [0, 100, 0],
        darkkhaki: [189, 183, 107],
        darkmagenta: [139, 0, 139],
        darkolivegreen: [85, 107, 47],
        darkorange: [255, 140, 0],
        darkorchid: [153, 50, 204],
        darkred: [139, 0, 0],
        darksalmon: [233, 150, 122],
        darkviolet: [148, 0, 211],
        fuchsia: [255, 0, 255],
        gold: [255, 215, 0],
        green: [0, 128, 0],
        indigo: [75, 0, 130],
        khaki: [240, 230, 140],
        lightblue: [173, 216, 230],
        lightcyan: [224, 255, 255],
        lightgreen: [144, 238, 144],
        lightgrey: [211, 211, 211],
        lightpink: [255, 182, 193],
        lightyellow: [255, 255, 224],
        lime: [0, 255, 0],
        magenta: [255, 0, 255],
        maroon: [128, 0, 0],
        navy: [0, 0, 128],
        olive: [128, 128, 0],
        orange: [255, 165, 0],
        pink: [255, 192, 203],
        purple: [128, 0, 128],
        violet: [128, 0, 128],
        red: [255, 0, 0],
        silver: [192, 192, 192],
        white: [255, 255, 255],
        yellow: [255, 255, 0],
        transparent: [255, 255, 255]
    },
        r = ["add", "remove", "toggle"],
        t = {
            border: 1,
            borderBottom: 1,
            borderColor: 1,
            borderLeft: 1,
            borderRight: 1,
            borderTop: 1,
            borderWidth: 1,
            margin: 1,
            padding: 1
        };
    f.effects.animateClass = function (c, a, b, d) {
        if (f.isFunction(b)) {
            d = b;
            b = null
        }
        return this.queue("fx", function () {
            var e = f(this),
                g = e.attr("style") || " ",
                h = q(p.call(this)),
                l, v = e.attr("className");
            f.each(r, function (w, i) {
                c[i] && e[i + "Class"](c[i])
            });
            l = q(p.call(this));
            e.attr("className", v);
            e.animate(u(h, l), a, b, function () {
                f.each(r, function (w, i) {
                    c[i] && e[i + "Class"](c[i])
                });
                if (typeof e.attr("style") == "object") {
                    e.attr("style").cssText = "";
                    e.attr("style").cssText = g
                } else e.attr("style", g);
                d && d.apply(this, arguments)
            });
            h = f.queue(this);
            l = h.splice(h.length - 1, 1)[0];
            h.splice(1, 0, l);
            f.dequeue(this)
        })
    };
    f.fn.extend({
        _addClass: f.fn.addClass,
        addClass: function (c, a, b, d) {
            return a ? f.effects.animateClass.apply(this, [{
                add: c
            },
            a, b, d]) : this._addClass(c)
        },
        _removeClass: f.fn.removeClass,
        removeClass: function (c, a, b, d) {
            return a ? f.effects.animateClass.apply(this, [{
                remove: c
            },
            a, b, d]) : this._removeClass(c)
        },
        _toggleClass: f.fn.toggleClass,
        toggleClass: function (c, a, b, d, e) {
            return typeof a == "boolean" || a === j ? b ? f.effects.animateClass.apply(this, [a ? {
                add: c
            } : {
                remove: c
            },
            b, d, e]) : this._toggleClass(c, a) : f.effects.animateClass.apply(this, [{
                toggle: c
            },
            a, b, d])
        },
        switchClass: function (c, a, b, d, e) {
            return f.effects.animateClass.apply(this, [{
                add: a,
                remove: c
            },
            b, d, e])
        }
    });
    f.extend(f.effects, {
        version: "1.8.11",
        save: function (c, a) {
            for (var b = 0; b < a.length; b++) a[b] !== null && c.data("ec.storage." + a[b], c[0].style[a[b]])
        },
        restore: function (c, a) {
            for (var b = 0; b < a.length; b++) a[b] !== null && c.css(a[b], c.data("ec.storage." + a[b]))
        },
        setMode: function (c, a) {
            if (a == "toggle") a = c.is(":hidden") ? "show" : "hide";
            return a
        },
        getBaseline: function (c, a) {
            var b;
            switch (c[0]) {
            case "top":
                b = 0;
                break;
            case "middle":
                b = 0.5;
                break;
            case "bottom":
                b = 1;
                break;
            default:
                b = c[0] / a.height
            }
            switch (c[1]) {
            case "left":
                c = 0;
                break;
            case "center":
                c = 0.5;
                break;
            case "right":
                c = 1;
                break;
            default:
                c = c[1] / a.width
            }
            return {
                x: c,
                y: b
            }
        },
        createWrapper: function (c) {
            if (c.parent().is(".ui-effects-wrapper")) return c.parent();
            var a = {
                width: c.outerWidth(true),
                height: c.outerHeight(true),
                "float": c.css("float")
            },
                b = f("<div></div>").addClass("ui-effects-wrapper").css({
                    fontSize: "100%",
                    background: "transparent",
                    border: "none",
                    margin: 0,
                    padding: 0
                });
            c.wrap(b);
            b = c.parent();
            if (c.css("position") == "static") {
                b.css({
                    position: "relative"
                });
                c.css({
                    position: "relative"
                })
            } else {
                f.extend(a, {
                    position: c.css("position"),
                    zIndex: c.css("z-index")
                });
                f.each(["top", "left", "bottom", "right"], function (d, e) {
                    a[e] = c.css(e);
                    if (isNaN(parseInt(a[e], 10))) a[e] = "auto"
                });
                c.css({
                    position: "relative",
                    top: 0,
                    left: 0,
                    right: "auto",
                    bottom: "auto"
                })
            }
            return b.css(a).show()
        },
        removeWrapper: function (c) {
            if (c.parent().is(".ui-effects-wrapper")) return c.parent().replaceWith(c);
            return c
        },
        setTransition: function (c, a, b, d) {
            d = d || {};
            f.each(a, function (e, g) {
                unit = c.cssUnit(g);
                if (unit[0] > 0) d[g] = unit[0] * b + unit[1]
            });
            return d
        }
    });
    f.fn.extend({
        effect: function (c) {
            var a = k.apply(this, arguments),
                b = {
                    options: a[1],
                    duration: a[2],
                    callback: a[3]
                };
            a = b.options.mode;
            var d = f.effects[c];
            if (f.fx.off || !d) return a ? this[a](b.duration, b.callback) : this.each(function () {
                b.callback && b.callback.call(this)
            });
            return d.call(this, b)
        },
        _show: f.fn.show,
        show: function (c) {
            if (m(c)) return this._show.apply(this, arguments);
            else {
                var a = k.apply(this, arguments);
                a[1].mode = "show";
                return this.effect.apply(this, a)
            }
        },
        _hide: f.fn.hide,
        hide: function (c) {
            if (m(c)) return this._hide.apply(this, arguments);
            else {
                var a = k.apply(this, arguments);
                a[1].mode = "hide";
                return this.effect.apply(this, a)
            }
        },
        __toggle: f.fn.toggle,
        toggle: function (c) {
            if (m(c) || typeof c === "boolean" || f.isFunction(c)) return this.__toggle.apply(this, arguments);
            else {
                var a = k.apply(this, arguments);
                a[1].mode = "toggle";
                return this.effect.apply(this, a)
            }
        },
        cssUnit: function (c) {
            var a = this.css(c),
                b = [];
            f.each(["em", "px", "%", "pt"], function (d, e) {
                if (a.indexOf(e) > 0) b = [parseFloat(a), e]
            });
            return b
        }
    });
    f.easing.jswing = f.easing.swing;
    f.extend(f.easing, {
        def: "easeOutQuad",
        swing: function (c, a, b, d, e) {
            return f.easing[f.easing.def](c, a, b, d, e)
        },
        easeInQuad: function (c, a, b, d, e) {
            return d * (a /= e) * a + b
        },
        easeOutQuad: function (c, a, b, d, e) {
            return -d * (a /= e) * (a - 2) + b
        },
        easeInOutQuad: function (c, a, b, d, e) {
            if ((a /= e / 2) < 1) return d / 2 * a * a + b;
            return -d / 2 * (--a * (a - 2) - 1) + b
        },
        easeInCubic: function (c, a, b, d, e) {
            return d * (a /= e) * a * a + b
        },
        easeOutCubic: function (c, a, b, d, e) {
            return d * ((a = a / e - 1) * a * a + 1) + b
        },
        easeInOutCubic: function (c, a, b, d, e) {
            if ((a /= e / 2) < 1) return d / 2 * a * a * a + b;
            return d / 2 * ((a -= 2) * a * a + 2) + b
        },
        easeInQuart: function (c, a, b, d, e) {
            return d * (a /= e) * a * a * a + b
        },
        easeOutQuart: function (c, a, b, d, e) {
            return -d * ((a = a / e - 1) * a * a * a - 1) + b
        },
        easeInOutQuart: function (c, a, b, d, e) {
            if ((a /= e / 2) < 1) return d / 2 * a * a * a * a + b;
            return -d / 2 * ((a -= 2) * a * a * a - 2) + b
        },
        easeInQuint: function (c, a, b, d, e) {
            return d * (a /= e) * a * a * a * a + b
        },
        easeOutQuint: function (c, a, b, d, e) {
            return d * ((a = a / e - 1) * a * a * a * a + 1) + b
        },
        easeInOutQuint: function (c, a, b, d, e) {
            if ((a /= e / 2) < 1) return d / 2 * a * a * a * a * a + b;
            return d / 2 * ((a -= 2) * a * a * a * a + 2) + b
        },
        easeInSine: function (c, a, b, d, e) {
            return -d * Math.cos(a / e * (Math.PI / 2)) + d + b
        },
        easeOutSine: function (c, a, b, d, e) {
            return d * Math.sin(a / e * (Math.PI / 2)) + b
        },
        easeInOutSine: function (c, a, b, d, e) {
            return -d / 2 * (Math.cos(Math.PI * a / e) - 1) + b
        },
        easeInExpo: function (c, a, b, d, e) {
            return a == 0 ? b : d * Math.pow(2, 10 * (a / e - 1)) + b
        },
        easeOutExpo: function (c, a, b, d, e) {
            return a == e ? b + d : d * (-Math.pow(2, -10 * a / e) + 1) + b
        },
        easeInOutExpo: function (c, a, b, d, e) {
            if (a == 0) return b;
            if (a == e) return b + d;
            if ((a /= e / 2) < 1) return d / 2 * Math.pow(2, 10 * (a - 1)) + b;
            return d / 2 * (-Math.pow(2, -10 * --a) + 2) + b
        },
        easeInCirc: function (c, a, b, d, e) {
            return -d * (Math.sqrt(1 - (a /= e) * a) - 1) + b
        },
        easeOutCirc: function (c, a, b, d, e) {
            return d * Math.sqrt(1 - (a = a / e - 1) * a) + b
        },
        easeInOutCirc: function (c, a, b, d, e) {
            if ((a /= e / 2) < 1) return -d / 2 * (Math.sqrt(1 - a * a) - 1) + b;
            return d / 2 * (Math.sqrt(1 - (a -= 2) * a) + 1) + b
        },
        easeInElastic: function (c, a, b, d, e) {
            c = 1.70158;
            var g = 0,
                h = d;
            if (a == 0) return b;
            if ((a /= e) == 1) return b + d;
            g || (g = e * 0.3);
            if (h < Math.abs(d)) {
                h = d;
                c = g / 4
            } else c = g / (2 * Math.PI) * Math.asin(d / h);
            return -(h * Math.pow(2, 10 * (a -= 1)) * Math.sin((a * e - c) * 2 * Math.PI / g)) + b
        },
        easeOutElastic: function (c, a, b, d, e) {
            c = 1.70158;
            var g = 0,
                h = d;
            if (a == 0) return b;
            if ((a /= e) == 1) return b + d;
            g || (g = e * 0.3);
            if (h < Math.abs(d)) {
                h = d;
                c = g / 4
            } else c = g / (2 * Math.PI) * Math.asin(d / h);
            return h * Math.pow(2, -10 * a) * Math.sin((a * e - c) * 2 * Math.PI / g) + d + b
        },
        easeInOutElastic: function (c, a, b, d, e) {
            c = 1.70158;
            var g = 0,
                h = d;
            if (a == 0) return b;
            if ((a /= e / 2) == 2) return b + d;
            g || (g = e * 0.3 * 1.5);
            if (h < Math.abs(d)) {
                h = d;
                c = g / 4
            } else c = g / (2 * Math.PI) * Math.asin(d / h);
            if (a < 1) return -0.5 * h * Math.pow(2, 10 * (a -= 1)) * Math.sin((a * e - c) * 2 * Math.PI / g) + b;
            return h * Math.pow(2, -10 * (a -= 1)) * Math.sin((a * e - c) * 2 * Math.PI / g) * 0.5 + d + b
        },
        easeInBack: function (c, a, b, d, e, g) {
            if (g == j) g = 1.70158;
            return d * (a /= e) * a * ((g + 1) * a - g) + b
        },
        easeOutBack: function (c, a, b, d, e, g) {
            if (g == j) g = 1.70158;
            return d * ((a = a / e - 1) * a * ((g + 1) * a + g) + 1) + b
        },
        easeInOutBack: function (c, a, b, d, e, g) {
            if (g == j) g = 1.70158;
            if ((a /= e / 2) < 1) return d / 2 * a * a * (((g *= 1.525) + 1) * a - g) + b;
            return d / 2 * ((a -= 2) * a * (((g *= 1.525) + 1) * a + g) + 2) + b
        },
        easeInBounce: function (c, a, b, d, e) {
            return d - f.easing.easeOutBounce(c, e - a, 0, d, e) + b
        },
        easeOutBounce: function (c, a, b, d, e) {
            return (a /= e) < 1 / 2.75 ? d * 7.5625 * a * a + b : a < 2 / 2.75 ? d * (7.5625 * (a -= 1.5 / 2.75) * a + 0.75) + b : a < 2.5 / 2.75 ? d * (7.5625 * (a -= 2.25 / 2.75) * a + 0.9375) + b : d * (7.5625 * (a -= 2.625 / 2.75) * a + 0.984375) + b
        },
        easeInOutBounce: function (c, a, b, d, e) {
            if (a < e / 2) return f.easing.easeInBounce(c, a * 2, 0, d, e) * 0.5 + b;
            return f.easing.easeOutBounce(c, a * 2 - e, 0, d, e) * 0.5 + d * 0.5 + b
        }
    })
}(jQuery);;

(function (d, Ka, I) {
    d.fn.jScrollPane = function (J) {
        function za(g, P) {
            function ha(a) {
                var b, c, f, h, i;
                e = a;
                if (l === I) {
                    h = g.scrollTop();
                    i = g.scrollLeft();
                    g.css({
                        overflow: "hidden",
                        padding: 0
                    });
                    n = g.innerWidth() + K;
                    m = g.innerHeight();
                    g.width(n);
                    l = d('<div class="jspPane" />').css("padding", qa).append(g.children());
                    k = d('<div class="jspContainer" />').css({
                        width: n + "px",
                        height: m + "px"
                    }).append(l).appendTo(g)
                } else {
                    g.css("width", "");
                    if (a = g.innerWidth() + K != n || g.outerHeight() != m) {
                        n = g.innerWidth() + K;
                        m = g.innerHeight();
                        k.css({
                            width: n + "px",
                            height: m + "px"
                        })
                    }
                    if (!a && ra == x && l.outerHeight() == t) {
                        g.width(n);
                        return
                    }
                    ra = x;
                    l.css("width", "");
                    g.width(n);
                    k.find(">.jspVerticalBar,>.jspHorizontalBar").remove().end()
                }
                a = l.clone().css("position", "absolute");
                b = d('<div style="width:1px; position: relative;" />').append(a);
                d("body").append(b);
                x = Math.max(l.outerWidth(), a.outerWidth());
                b.remove();
                t = l.outerHeight();
                ia = x / n;
                $ = t / m;
                y = $ > 1;
                if ((z = ia > 1) || y) {
                    g.addClass("jspScrollable");
                    if (a = e.maintainPosition && (q || r)) {
                        c = L();
                        f = M()
                    }
                    Aa();
                    Ba();
                    Ca();
                    if (a) {
                        Q(c, false);
                        D(f, false)
                    }
                    Da();
                    Ea();
                    Fa();
                    e.enableKeyboardNavigation && Ga();
                    e.clickOnTrack && Ha();
                    Ia();
                    e.hijackInternalLinks && sa()
                } else {
                    g.removeClass("jspScrollable");
                    l.css({
                        top: 0,
                        width: k.width() - K
                    });
                    k.unbind(ja);
                    l.find(":input,a").unbind("focus.jsp");
                    g.attr("tabindex", "-1").removeAttr("tabindex").unbind("keydown.jsp keypress.jsp");
                    ta();
                    ua()
                }
                if (e.autoReinitialise && !aa) aa = setInterval(function () {
                    ha(e)
                }, e.autoReinitialiseDelay);
                else!e.autoReinitialise && aa && clearInterval(aa);
                h && g.scrollTop(0) && D(h, false);
                i && g.scrollLeft(0) && Q(i, false);
                g.trigger("jsp-initialised", [z || y])
            }
            function Aa() {
                if (y) {
                    k.append(d('<div class="jspVerticalBar" />').append(d('<div class="jspCap jspCapTop" />'), d('<div class="jspTrack" />').append(d('<div class="jspDrag" />').append(d('<div class="jspDragTop" />'), d('<div class="jspDragBottom" />'))), d('<div class="jspCap jspCapBottom" />')));
                    ka = k.find(">.jspVerticalBar");
                    A = ka.find(">.jspTrack");
                    u = A.find(">.jspDrag");
                    if (e.showArrows) {
                        U = d('<a class="jspArrow jspArrowUp" />').bind("mousedown.jsp", E(0, -1)).bind("click.jsp", R);
                        V = d('<a class="jspArrow jspArrowDown" />').bind("mousedown.jsp", E(0, 1)).bind("click.jsp", R);
                        if (e.arrowScrollOnHover) {
                            U.bind("mouseover.jsp", E(0, -1, U));
                            V.bind("mouseover.jsp", E(0, 1, V))
                        }
                        va(A, e.verticalArrowPositions, U, V)
                    }
                    W = m;
                    k.find(">.jspVerticalBar>.jspCap:visible,>.jspVerticalBar>.jspArrow").each(function () {
                        W -= d(this).outerHeight()
                    });
                    u.hover(function () {
                        u.addClass("jspHover")
                    }, function () {
                        u.removeClass("jspHover")
                    }).bind("mousedown.jsp", function (a) {
                        d("html").bind("dragstart.jsp selectstart.jsp", R);
                        u.addClass("jspActive");
                        var b = a.pageY - u.position().top;
                        d("html").bind("mousemove.jsp", function (c) {
                            S(c.pageY - b, false)
                        }).bind("mouseup.jsp mouseleave.jsp", wa);
                        return false
                    });
                    xa()
                }
            }
            function xa() {
                A.height(W + "px");
                q = 0;
                la = e.verticalGutter + A.outerWidth();
                l.width(n - la - K);
                ka.position().left === 0 && l.css("margin-left", la + "px")
            }
            function Ba() {
                if (z) {
                    k.append(d('<div class="jspHorizontalBar" />').append(d('<div class="jspCap jspCapLeft" />'), d('<div class="jspTrack" />').append(d('<div class="jspDrag" />').append(d('<div class="jspDragLeft" />'), d('<div class="jspDragRight" />'))), d('<div class="jspCap jspCapRight" />')));
                    ma = k.find(">.jspHorizontalBar");
                    B = ma.find(">.jspTrack");
                    v = B.find(">.jspDrag");
                    if (e.showArrows) {
                        X = d('<a class="jspArrow jspArrowLeft" />').bind("mousedown.jsp", E(-1, 0)).bind("click.jsp", R);
                        Y = d('<a class="jspArrow jspArrowRight" />').bind("mousedown.jsp", E(1, 0)).bind("click.jsp", R);
                        if (e.arrowScrollOnHover) {
                            X.bind("mouseover.jsp", E(-1, 0, X));
                            Y.bind("mouseover.jsp", E(1, 0, Y))
                        }
                        va(B, e.horizontalArrowPositions, X, Y)
                    }
                    v.hover(function () {
                        v.addClass("jspHover")
                    }, function () {
                        v.removeClass("jspHover")
                    }).bind("mousedown.jsp", function (a) {
                        d("html").bind("dragstart.jsp selectstart.jsp", R);
                        v.addClass("jspActive");
                        var b = a.pageX - v.position().left;
                        d("html").bind("mousemove.jsp", function (c) {
                            N(c.pageX - b, false)
                        }).bind("mouseup.jsp mouseleave.jsp", wa);
                        return false
                    });
                    O = k.innerWidth();
                    ya()
                }
            }
            function ya() {
                k.find(">.jspHorizontalBar>.jspCap:visible,>.jspHorizontalBar>.jspArrow").each(function () {
                    O -= d(this).outerWidth()
                });
                B.width(O + "px");
                r = 0
            }
            function Ca() {
                if (z && y) {
                    var a = B.outerHeight(),
                        b = A.outerWidth();
                    d(ma).find(">.jspCap:visible,>.jspArrow").each(function () {
                        O += d(this).outerWidth()
                    });
                    O -= b;
                    m -= b;
                    n -= a;
                    B.parent().append(d('<div class="jspCorner" />').css("width", a + "px"));
                    xa();
                    ya()
                }
                z && l.width(k.outerWidth() - K + "px");
                t = l.outerHeight();
                $ = t / m;
                if (z) {
                    F = Math.ceil(1 / ia * O);
                    if (F > e.horizontalDragMaxWidth) F = e.horizontalDragMaxWidth;
                    else if (F < e.horizontalDragMinWidth) F = e.horizontalDragMinWidth;
                    v.width(F + "px");
                    G = O - F;
                    na(r)
                }
                if (y) {
                    H = Math.ceil(1 / $ * W);
                    if (H > e.verticalDragMaxHeight) H = e.verticalDragMaxHeight;
                    else if (H < e.verticalDragMinHeight) H = e.verticalDragMinHeight;
                    u.height(H + "px");
                    C = W - H;
                    oa(q)
                }
            }
            function va(a, b, c, f) {
                var h = "before",
                    i = "after";
                if (b == "os") b = /Mac/.test(navigator.platform) ? "after" : "split";
                if (b == h) i = b;
                else if (b == i) {
                    h = b;
                    b = c;
                    c = f;
                    f = b
                }
                a[h](c)[i](f)
            }
            function E(a, b, c) {
                return function () {
                    Ja(a, b, this, c);
                    this.blur();
                    return false
                }
            }
            function Ja(a, b, c, f) {
                c = d(c).addClass("jspActive");
                var h, i, j = true,
                    s = function () {
                        a !== 0 && p.scrollByX(a * e.arrowButtonSpeed);
                        b !== 0 && p.scrollByY(b * e.arrowButtonSpeed);
                        i = setTimeout(s, j ? e.initialDelay : e.arrowRepeatFreq);
                        j = false
                    };
                s();
                h = f ? "mouseout.jsp" : "mouseup.jsp";
                f = f || d("html");
                f.bind(h, function () {
                    c.removeClass("jspActive");
                    i && clearTimeout(i);
                    i = null;
                    f.unbind(h);
                    ba()
                })
            }
            function Ha() {
                ta();
                y && A.bind("mousedown.jsp", function (a) {
                    if (a.originalTarget === I || a.originalTarget == a.currentTarget) {
                        var b = d(this),
                            c = b.offset(),
                            f = a.pageY - c.top - q,
                            h, i = true,
                            j = function () {
                                var o = b.offset();
                                o = a.pageY - o.top - H / 2;
                                var w = m * e.scrollPagePercent,
                                    T = C * w / (t - m);
                                if (f < 0) q - T > o ? p.scrollByY(-w) : S(o);
                                else if (f > 0) q + T < o ? p.scrollByY(w) : S(o);
                                else {
                                    s();
                                    return
                                }
                                h = setTimeout(j, i ? e.initialDelay : e.trackClickRepeatFreq);
                                i = false
                            },
                            s = function () {
                                h && clearTimeout(h);
                                h = null;
                                d(document).unbind("mouseup.jsp", s);
                                ba()
                            };
                        j();
                        d(document).bind("mouseup.jsp", s);
                        return false
                    }
                });
                z && B.bind("mousedown.jsp", function (a) {
                    if (a.originalTarget === I || a.originalTarget == a.currentTarget) {
                        var b = d(this),
                            c = b.offset(),
                            f = a.pageX - c.left - r,
                            h, i = true,
                            j = function () {
                                var o = b.offset();
                                o = a.pageX - o.left - F / 2;
                                var w = n * e.scrollPagePercent,
                                    T = G * w / (x - n);
                                if (f < 0) r - T > o ? p.scrollByX(-w) : N(o);
                                else if (f > 0) r + T < o ? p.scrollByX(w) : N(o);
                                else {
                                    s();
                                    return
                                }
                                h = setTimeout(j, i ? e.initialDelay : e.trackClickRepeatFreq);
                                i = false
                            },
                            s = function () {
                                h && clearTimeout(h);
                                h = null;
                                d(document).unbind("mouseup.jsp", s);
                                ba()
                            };
                        j();
                        d(document).bind("mouseup.jsp", s);
                        return false
                    }
                })
            }
            function ta() {
                B && B.unbind("mousedown.jsp");
                A && A.unbind("mousedown.jsp")
            }
            function wa() {
                d("html").unbind("dragstart.jsp selectstart.jsp mousemove.jsp mouseup.jsp mouseleave.jsp");
                u && u.removeClass("jspActive");
                v && v.removeClass("jspActive");
                ba()
            }

            function S(a, b) {
                if (y) {
                    if (a < 0) a = 0;
                    else if (a > C) a = C;
                    if (b === I) b = e.animateScroll;
                    if (b) p.animate(u, "top", a, oa);
                    else {
                        u.css("top", a);
                        oa(a)
                    }
                }
            }
            function oa(a) {
                if (a === I) a = u.position().top;
                k.scrollTop(0);
                q = a;
                var b = q === 0,
                    c = q == C;
                a = -(a / C) * (t - m);
                if (ca != b || da != c) {
                    ca = b;
                    da = c;
                    g.trigger("jsp-arrow-change", [ca, da, ea, fa])
                }
                if (e.showArrows) {
                    U[b ? "addClass" : "removeClass"]("jspDisabled");
                    V[c ? "addClass" : "removeClass"]("jspDisabled")
                }
                l.css("top", a);
                g.trigger("jsp-scroll-y", [-a, b, c]).trigger("scroll")
            }
            function N(a, b) {
                if (z) {
                    if (a < 0) a = 0;
                    else if (a > G) a = G;
                    if (b === I) b = e.animateScroll;
                    if (b) p.animate(v, "left", a, na);
                    else {
                        v.css("left", a);
                        na(a)
                    }
                }
            }
            function na(a) {
                if (a === I) a = v.position().left;
                k.scrollTop(0);
                r = a;
                var b = r === 0,
                    c = r == G;
                a = -(a / G) * (x - n);
                if (ea != b || fa != c) {
                    ea = b;
                    fa = c;
                    g.trigger("jsp-arrow-change", [ca, da, ea, fa])
                }
                if (e.showArrows) {
                    X[b ? "addClass" : "removeClass"]("jspDisabled");
                    Y[c ? "addClass" : "removeClass"]("jspDisabled")
                }
                l.css("left", a);
                g.trigger("jsp-scroll-x", [-a, b, c]).trigger("scroll")
            }
            function D(a, b) {
                S(a / (t - m) * C, b)
            }
            function Q(a, b) {
                N(a / (x - n) * G, b)
            }
            function Z(a, b, c) {
                var f, h, i = 0,
                    j = 0,
                    s, o, w;
                try {
                    f = d(a)
                } catch (T) {
                    return
                }
                h = f.outerHeight();
                a = f.outerWidth();
                k.scrollTop(0);
                for (k.scrollLeft(0); !f.is(".jspPane");) {
                    i += f.position().top;
                    j += f.position().left;
                    f = f.offsetParent();
                    if (/^body|html$/i.test(f[0].nodeName)) return
                }
                f = M();
                s = f + m;
                if (i < f || b) o = i - e.verticalGutter;
                else if (i + h > s) o = i - m + h + e.verticalGutter;
                o && D(o, c);
                viewportLeft = L();
                i = viewportLeft + n;
                if (j < viewportLeft || b) w = j - e.horizontalGutter;
                else if (j + a > i) w = j - n + a + e.horizontalGutter;
                w && Q(w, c)
            }
            function L() {
                return -l.position().left
            }

            function M() {
                return -l.position().top
            }
            function Ea() {
                k.unbind(ja).bind(ja, function (a, b, c, f) {
                    a = r;
                    b = q;
                    p.scrollBy(c * e.mouseWheelSpeed, -f * e.mouseWheelSpeed, false);
                    return a == r && b == q
                })
            }
            function R() {
                return false
            }
            function Da() {
                l.find(":input,a").unbind("focus.jsp").bind("focus.jsp", function (a) {
                    Z(a.target, false)
                })
            }
            function Ga() {
                function a() {
                    var f = r,
                        h = q;
                    switch (b) {
                    case 40:
                        p.scrollByY(e.keyboardSpeed, false);
                        break;
                    case 38:
                        p.scrollByY(-e.keyboardSpeed, false);
                        break;
                    case 34:
                    case 32:
                        p.scrollByY(m * e.scrollPagePercent, false);
                        break;
                    case 33:
                        p.scrollByY(-m * e.scrollPagePercent, false);
                        break;
                    case 39:
                        p.scrollByX(e.keyboardSpeed, false);
                        break;
                    case 37:
                        p.scrollByX(-e.keyboardSpeed, false)
                    }
                    return c = f != r || h != q
                }
                var b, c;
                l.focus(function () {
                    g.focus()
                });
                g.attr("tabindex", 0).unbind("keydown.jsp keypress.jsp").bind("keydown.jsp", function (f) {
                    if (f.target === this) {
                        var h = r,
                            i = q;
                        switch (f.keyCode) {
                        case 40:
                        case 38:
                        case 34:
                        case 32:
                        case 33:
                        case 39:
                        case 37:
                            b = f.keyCode;
                            a();
                            break;
                        case 35:
                            D(t - m);
                            b = null;
                            break;
                        case 36:
                            D(0);
                            b = null
                        }
                        c = f.keyCode == b && h != r || i != q;
                        return !c
                    }
                }).bind("keypress.jsp", function (f) {
                    f.keyCode == b && a();
                    return !c
                });
                if (e.hideFocus) {
                    g.css("outline", "none");
                    "hideFocus" in k[0] && g.attr("hideFocus", true)
                } else {
                    g.css("outline", "");
                    "hideFocus" in k[0] && g.attr("hideFocus", false)
                }
            }
            function Ia() {
                if (location.hash && location.hash.length > 1) {
                    var a, b;
                    try {
                        a = d(location.hash)
                    } catch (c) {
                        return
                    }
                    if (a.length && l.find(location.hash)) if (k.scrollTop() === 0) b = setInterval(function () {
                        if (k.scrollTop() > 0) {
                            Z(location.hash, true);
                            d(document).scrollTop(k.position().top);
                            clearInterval(b)
                        }
                    }, 50);
                    else {
                        Z(location.hash, true);
                        d(document).scrollTop(k.position().top)
                    }
                }
            }
            function ua() {
                d("a.jspHijack").unbind("click.jsp-hijack").removeClass("jspHijack")
            }
            function sa() {
                ua();
                d("a[href^=#]").addClass("jspHijack").bind("click.jsp-hijack", function () {
                    var a = this.href.split("#");
                    if (a.length > 1) {
                        a = a[1];
                        if (a.length > 0 && l.find("#" + a).length > 0) {
                            Z("#" + a, true);
                            return false
                        }
                    }
                })
            }
            function ba() {
                d(":focus").length || g.focus()
            }
            function Fa() {
                var a, b, c, f, h, i = false;
                k.unbind("touchstart.jsp touchmove.jsp touchend.jsp click.jsp-touchclick").bind("touchstart.jsp", function (j) {
                    j = j.originalEvent.touches[0];
                    a = L();
                    b = M();
                    c = j.pageX;
                    f = j.pageY;
                    h = false;
                    i = true
                }).bind("touchmove.jsp", function (j) {
                    if (i) {
                        j = j.originalEvent.touches[0];
                        var s = r,
                            o = q;
                        p.scrollTo(a + c - j.pageX, b + f - j.pageY);
                        h = h || Math.abs(c - j.pageX) > 5 || Math.abs(f - j.pageY) > 5;
                        return s == r && o == q
                    }
                }).bind("touchend.jsp", function () {
                    i = false
                }).bind("click.jsp-touchclick", function () {
                    if (h) return h = false
                })
            }
            var e, p = this,
                l, n, m, k, x, t, ia, $, y, z, u, C, q, v, G, r, ka, A, la, W, H, U, V, ma, B, O, F, X, Y, aa, qa, K, ra, ca = true,
                ea = true,
                da = false,
                fa = false,
                pa = g.clone().empty(),
                ja = d.fn.mwheelIntent ? "mwheelIntent.jsp" : "mousewheel.jsp";
            qa = g.css("paddingTop") + " " + g.css("paddingRight") + " " + g.css("paddingBottom") + " " + g.css("paddingLeft");
            K = (parseInt(g.css("paddingLeft"), 10) || 0) + (parseInt(g.css("paddingRight"), 10) || 0);
            d.extend(p, {
                reinitialise: function (a) {
                    a = d.extend({}, e, a);
                    ha(a)
                },
                scrollToElement: function (a, b, c) {
                    Z(a, b, c)
                },
                scrollTo: function (a, b, c) {
                    Q(a, c);
                    D(b, c)
                },
                scrollToX: function (a, b) {
                    Q(a, b)
                },
                scrollToY: function (a, b) {
                    D(a, b)
                },
                scrollToPercentX: function (a, b) {
                    Q(a * (x - n), b)
                },
                scrollToPercentY: function (a, b) {
                    D(a * (t - m), b)
                },
                scrollBy: function (a, b, c) {
                    p.scrollByX(a, c);
                    p.scrollByY(b, c)
                },
                scrollByX: function (a, b) {
                    var c = (L() + a) / (x - n);
                    N(c * G, b)
                },
                scrollByY: function (a, b) {
                    var c = (M() + a) / (t - m);
                    S(c * C, b)
                },
                positionDragX: function (a, b) {
                    N(a, b)
                },
                positionDragY: function (a, b) {
                    N(a, b)
                },
                animate: function (a, b, c, f) {
                    var h = {};
                    h[b] = c;
                    a.animate(h, {
                        duration: e.animateDuration,
                        ease: e.animateEase,
                        queue: false,
                        step: f
                    })
                },
                getContentPositionX: function () {
                    return L()
                },
                getContentPositionY: function () {
                    return M()
                },
                getContentWidth: function () {
                    return x()
                },
                getContentHeight: function () {
                    return t()
                },
                getPercentScrolledX: function () {
                    return L() / (x - n)
                },
                getPercentScrolledY: function () {
                    return M() / (t - m)
                },
                getIsScrollableH: function () {
                    return z
                },
                getIsScrollableV: function () {
                    return y
                },
                getContentPane: function () {
                    return l
                },
                scrollToBottom: function (a) {
                    S(C, a)
                },
                hijackInternalLinks: function () {
                    sa()
                },
                destroy: function () {
                    var a = M(),
                        b = L();
                    g.removeClass("jspScrollable").unbind(".jsp");
                    g.replaceWith(pa.append(l.children()));
                    pa.scrollTop(a);
                    pa.scrollLeft(b)
                }
            });
            ha(P)
        }
        J = d.extend({}, d.fn.jScrollPane.defaults, J);
        d.each(["mouseWheelSpeed", "arrowButtonSpeed", "trackClickSpeed", "keyboardSpeed"], function () {
            J[this] = J[this] || J.speed
        });
        var ga;
        this.each(function () {
            var g = d(this),
                P = g.data("jsp");
            if (P) P.reinitialise(J);
            else {
                P = new za(g, J);
                g.data("jsp", P)
            }
            ga = ga ? ga.add(g) : g
        });
        return ga
    };
    d.fn.jScrollPane.defaults = {
        showArrows: false,
        maintainPosition: true,
        clickOnTrack: true,
        autoReinitialise: false,
        autoReinitialiseDelay: 500,
        verticalDragMinHeight: 0,
        verticalDragMaxHeight: 99999,
        horizontalDragMinWidth: 0,
        horizontalDragMaxWidth: 99999,
        animateScroll: false,
        animateDuration: 300,
        animateEase: "linear",
        hijackInternalLinks: false,
        verticalGutter: 4,
        horizontalGutter: 4,
        mouseWheelSpeed: 0,
        arrowButtonSpeed: 0,
        arrowRepeatFreq: 50,
        arrowScrollOnHover: false,
        trackClickSpeed: 0,
        trackClickRepeatFreq: 70,
        verticalArrowPositions: "split",
        horizontalArrowPositions: "split",
        enableKeyboardNavigation: true,
        hideFocus: false,
        keyboardSpeed: 0,
        initialDelay: 300,
        speed: 30,
        scrollPagePercent: 0.8
    }
})(jQuery, this);


(function (f) {
    function c(a) {
        var b = a || window.event,
            d = [].slice.call(arguments, 1),
            e = 0,
            c = 0,
            g = 0;
        a = f.event.fix(b);
        a.type = "mousewheel";
        a.wheelDelta && (e = a.wheelDelta / 120);
        a.detail && (e = -a.detail / 3);
        g = e;
        b.axis !== void 0 && b.axis === b.HORIZONTAL_AXIS && (g = 0, c = -1 * e);
        b.wheelDeltaY !== void 0 && (g = b.wheelDeltaY / 120);
        b.wheelDeltaX !== void 0 && (c = -1 * b.wheelDeltaX / 120);
        d.unshift(a, e, c, g);
        return f.event.handle.apply(this, d)
    }
    var d = ["DOMMouseScroll", "mousewheel"];
    f.event.special.mousewheel = {
        setup: function () {
            if (this.addEventListener) for (var a = d.length; a;) this.addEventListener(d[--a], c, !1);
            else this.onmousewheel = c
        },
        teardown: function () {
            if (this.removeEventListener) for (var a = d.length; a;) this.removeEventListener(d[--a], c, !1);
            else this.onmousewheel = null
        }
    };
    f.fn.extend({
        mousewheel: function (a) {
            return a ? this.bind("mousewheel", a) : this.trigger("mousewheel")
        },
        unmousewheel: function (a) {
            return this.unbind("mousewheel", a)
        }
    })
})(jQuery);

(function (h) {
    function j(c, a, d, b, e, f, h) {
        var i, g;
        h ? (i = d === 0 ? "" : a.slice(-d), g = a.slice(-b)) : (i = a.slice(0, d), g = a.slice(0, b));
        if (e.html(g + f).width() < e.html(i + f).width()) return b;
        g = parseInt((d + b) / 2, 10);
        i = h ? a.slice(-g) : a.slice(0, g);
        e.html(i + f);
        if (e.width() === c) return g;
        e.width() > c ? b = g - 1 : d = g + 1;
        return j(c, a, d, b, e, f, h)
    }
    h.fn.truncate = function (c) {
        c = h.extend({
            width: "auto",
            token: "&hellip;",
            center: !1,
            addclass: !1,
            addtitle: !1
        }, c);
        return this.each(function () {
            var a = h(this),
                d = {
                    fontFamily: a.css("fontFamily"),
                    fontSize: a.css("fontSize"),
                    fontStyle: a.css("fontStyle"),
                    fontWeight: a.css("fontWeight"),
                    "font-variant": a.css("font-variant"),
                    "text-indent": a.css("text-indent"),
                    "text-transform": a.css("text-transform"),
                    "letter-spacing": a.css("letter-spacing"),
                    "word-spacing": a.css("word-spacing"),
                    display: "none"
                },
                b = a.text();
            d = h("<span/>").css(d).html(b).appendTo("body");
            var e = d.width(),
                f = !isNaN(parseFloat(c.width)) && isFinite(c.width) ? c.width : a.width();
            e > f && (d.text(""), c.center ? (f = parseInt(f / 2, 10) + 1, e = b.slice(0, j(f, b, 0, b.length, d, c.token, !1)) + c.token + b.slice(-1 * j(f, b, 0, b.length, d, "", !0))) : e = b.slice(0, j(f, b, 0, b.length, d, c.token, !1)) + c.token, c.addclass && a.addClass(c.addclass), c.addtitle && a.attr("title", b), a.html(e));
            d.remove()
        })
    }
})(jQuery);

(function (f) {
    if (!f || !(f.toJSON || Object.toJSON || window.JSON)) {
        throw new Error("jQuery, MooTools or Prototype needs to be loaded before jStorage!")
    }
    var g = {},
        d = {
            jStorage: "{}"
        },
        h = null,
        j = 0,
        l = f.toJSON || Object.toJSON || (window.JSON && (JSON.encode || JSON.stringify)),
        e = f.evalJSON || (window.JSON && (JSON.decode || JSON.parse)) ||
    function (m) {
        return String(m).evalJSON()
    }, i = false;
    _XMLService = {
        isXML: function (n) {
            var m = (n ? n.ownerDocument || n : 0).documentElement;
            return m ? m.nodeName !== "HTML" : false
        },
        encode: function (n) {
            if (!this.isXML(n)) {
                return false
            }
            try {
                return new XMLSerializer().serializeToString(n)
            } catch (m) {
                try {
                    return n.xml
                } catch (o) {}
            }
            return false
        },
        decode: function (n) {
            var m = ("DOMParser" in window && (new DOMParser()).parseFromString) || (window.ActiveXObject &&
            function (p) {
                var q = new ActiveXObject("Microsoft.XMLDOM");
                q.async = "false";
                q.loadXML(p);
                return q
            }),
                o;
            if (!m) {
                return false
            }
            o = m.call("DOMParser" in window && (new DOMParser()) || window, n, "text/xml");
            return this.isXML(o) ? o : false
        }
    };

    function k() {
        if ("localStorage" in window) {
            try {
                if (window.localStorage) {
                    d = window.localStorage;
                    i = "localStorage"
                }
            } catch (p) {}
        } else {
            if ("globalStorage" in window) {
                try {
                    if (window.globalStorage) {
                        d = window.globalStorage[window.location.hostname];
                        i = "globalStorage"
                    }
                } catch (o) {}
            } else {
                h = document.createElement("link");
                if (h.addBehavior) {
                    h.style.behavior = "url(#default#userData)";
                    document.getElementsByTagName("head")[0].appendChild(h);
                    h.load("jStorage");
                    var n = "{}";
                    try {
                        n = h.getAttribute("jStorage")
                    } catch (m) {}
                    d.jStorage = n;
                    i = "userDataBehavior"
                } else {
                    h = null;
                    return
                }
            }
        }
        b()
    }
    function b() {
        if (d.jStorage) {
            try {
                g = e(String(d.jStorage))
            } catch (m) {
                d.jStorage = "{}"
            }
        } else {
            d.jStorage = "{}"
        }
        j = d.jStorage ? String(d.jStorage).length : 0
    }
    function c() {
        try {
            d.jStorage = l(g);
            if (h) {
                h.setAttribute("jStorage", d.jStorage);
                h.save("jStorage")
            }
            j = d.jStorage ? String(d.jStorage).length : 0
        } catch (m) {}
    }
    function a(m) {
        if (!m || (typeof m != "string" && typeof m != "number")) {
            throw new TypeError("Key name must be string or numeric")
        }
        return true
    }
    f.jStorage = {
        version: "0.1.5.0",
        set: function (m, n) {
            a(m);
            if (_XMLService.isXML(n)) {
                n = {
                    _is_xml: true,
                    xml: _XMLService.encode(n)
                }
            }
            g[m] = n;
            c();
            return n
        },
        get: function (m, n) {
            a(m);
            if (m in g) {
                if (typeof g[m] == "object" && g[m]._is_xml && g[m]._is_xml) {
                    return _XMLService.decode(g[m].xml)
                } else {
                    return g[m]
                }
            }
            return typeof (n) == "undefined" ? null : n
        },
        deleteKey: function (m) {
            a(m);
            if (m in g) {
                delete g[m];
                c();
                return true
            }
            return false
        },
        flush: function () {
            g = {};
            c();
            try {
                window.localStorage.clear()
            } catch (m) {}
            return true
        },
        storageObj: function () {
            function m() {}
            m.prototype = g;
            return new m()
        },
        index: function () {
            var m = [],
                n;
            for (n in g) {
                if (g.hasOwnProperty(n)) {
                    m.push(n)
                }
            }
            return m
        },
        storageSize: function () {
            return j
        },
        currentBackend: function () {
            return i
        },
        storageAvailable: function () {
            return !!i
        },
        reInit: function () {
            var m, o;
            if (h && h.addBehavior) {
                m = document.createElement("link");
                h.parentNode.replaceChild(m, h);
                h = m;
                h.style.behavior = "url(#default#userData)";
                document.getElementsByTagName("head")[0].appendChild(h);
                h.load("jStorage");
                o = "{}";
                try {
                    o = h.getAttribute("jStorage")
                } catch (n) {}
                d.jStorage = o;
                i = "userDataBehavior"
            }
            b()
        }
    };
    k()
})(window.jQuery || window.$);

(function (a) {
    a.event.special.imgpreload = {
        add: function (b) {
            if (this.nodeType === 1 && this.tagName.toLowerCase() === "img" && this.src !== "") if (this.complete || this.readyState === 4) b.handler.apply(this);
            else this.readyState === "uninitialized" && this.src.indexOf("data:") === 0 ? a(this).trigger("error") : a(this).bind("load", b.handler)
        }
    }
})(jQuery);


/**
 * jQuery Cookie plugin
 *
 * Copyright (c) 2010 Klaus Hartl (stilbuero.de)
 * Dual licensed under the MIT and GPL licenses:
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl.html
 *
 */
jQuery.cookie = function (e, b, a) {
    if (arguments.length > 1 && String(b) !== "[object Object]") {
        a = jQuery.extend({}, a);
        if (b === null || b === void 0) a.expires = -1;
        if (typeof a.expires === "number") {
            var d = a.expires,
                c = a.expires = new Date;
            c.setDate(c.getDate() + d)
        }
        b = String(b);
        return document.cookie = [encodeURIComponent(e), "=", a.raw ? b : encodeURIComponent(b), a.expires ? "; expires=" + a.expires.toUTCString() : "", a.path ? "; path=" + a.path : "", a.domain ? "; domain=" + a.domain : "", a.secure ? "; secure" : ""].join("")
    }
    a = b || {};
    c = a.raw ?
    function (a) {
        return a
    } : decodeURIComponent;
    return (d = RegExp("(?:^|; )" + encodeURIComponent(e) + "=([^;]*)").exec(document.cookie)) ? c(d[1]) : null
};


(function (c) {
    var a = {
        clear: function () {
            if (window.getSelection) {
                var d = window.getSelection();
                d.removeAllRanges()
            } else {
                if (document.selection.createRange) {
                    document.selection.empty()
                }
            }
        },
        getTextNode: function (g) {
            var e = c(g).first().get(0);
            if (window.getSelection && e.childNodes) {
                var d = e.childNodes;
                for (var f = 0; f < d.length; f++) {
                    var h = d[f];
                    if (h.nodeType === 3) {
                        return h
                    }
                }
            } else {
                if (document.selection) {
                    return e
                }
            }
            return false
        },
        getElement: function (d) {
            return c(d).first().get(0)
        }
    };
    var b = {
        getRange: function () {
            var d = {
                start: 0,
                startElement: null,
                end: 0,
                endElement: null
            };
            if (window.getSelection) {
                var f = window.getSelection();
                var e = f.getRangeAt(0);
                d.start = e.startOffset;
                d.startElement = e.startContainer;
                d.end = e.endOffset;
                d.endElement = e.endContainer
            } else {
                if (document.selection) {
                    var i = document.selection.createRange();
                    var k = i.duplicate();
                    var h = i.duplicate();
                    k.collapse(true);
                    h.collapse(false);
                    d.startElement = k.parentElement();
                    d.endElement = h.parentElement();
                    var j = i.duplicate();
                    j.moveToElementText(k.parentElement());
                    j.setEndPoint("EndToStart", k);
                    d.start = j.text.length;
                    var g = i.duplicate();
                    g.moveToElementText(h.parentElement());
                    g.setEndPoint("EndToStart", h);
                    d.end = g.text.length
                }
            }
            return d
        },
        setRange: function (e) {
            a.clear();
            if (typeof e !== "object") {
                return
            }
            var g = false;
            var d = false;
            if (window.getSelection) {
                var h = window.getSelection();
                var f = document.createRange();
                if (e.startElement !== undefined) {
                    g = a.getTextNode(e.startElement)
                }
                if (e.endElement !== undefined) {
                    d = a.getTextNode(e.endElement)
                }
                if (e.start !== undefined && g) {
                    f.setStart(g, e.start)
                }
                if (e.end !== undefined && d) {
                    f.setEnd(d, e.end)
                }
                h.addRange(f)
            } else {
                if (document.selection) {
                    var f = document.body.createTextRange();
                    if (e.startElement !== undefined) {
                        g = a.getElement(e.startElement)
                    }
                    if (e.endElement !== undefined) {
                        d = a.getElement(e.endElement)
                    }
                    if (e.start && g) {
                        var j = f.duplicate();
                        j.moveToElementText(g);
                        j.move("character", e.start);
                        f.setEndPoint("StartToStart", j)
                    }
                    if (e.end && d) {
                        var i = f.duplicate();
                        i.moveToElementText(d);
                        i.move("character", e.end);
                        f.setEndPoint("EndToEnd", i)
                    }
                    f.select()
                }
            }
            return this
        },
        select: function () {
            a.clear();
            for (var f = 0; f < this.length; f++) {
                var e = this[f];
                if (window.getSelection) {
                    var g = window.getSelection();
                    var h = e.firstChild;
                    if (h && h.data.length > 1) {
                        var d = document.createRange();
                        d.selectNode(e);
                        g.addRange(d)
                    }
                } else {
                    var d = document.body.createTextRange();
                    d.moveToElementText(e);
                    d.select()
                }
            }
            return this
        },
        clear: function () {
            a.clear();
            return this
        },
        remove: function () {
            if (window.getSelection) {
                var f = window.getSelection();
                try {
                    f.deleteFromDocument()
                } catch (g) {}
                if (!f.isCollapsed) {
                    var d = f.getRangeAt(0);
                    d.deleteContents()
                }
                if (f.anchorNode) {
                    f.collapse(f.anchorNode, f.anchorOffset)
                }
            } else {
                if (document.selection) {
                    document.selection.clear()
                }
            }
            return this
        },
        toString: function () {
            if (window.getSelection) {
                var d = window.getSelection();
                return d.toString()
            } else {
                if (document.selection) {
                    var e = document.selection.createRange();
                    return e.text
                }
            }
        }
    };
    c.textSelect = c.fn.textSelect = function (d) {
        if (b[d]) {
            return b[d].apply(this, Array.prototype.slice.call(arguments, 1))
        } else {
            return b.toString.apply(this, Array.prototype.slice.call(arguments, 1))
        }
    }
})(jQuery);

/*
 * jPlayer Plugin for jQuery JavaScript Library
 * http://www.jplayer.org
 *
 * Copyright (c) 2009 - 2011 Happyworm Ltd
 * Dual licensed under the MIT and GPL licenses.
 *  - http://www.opensource.org/licenses/mit-license.php
 *  - http://www.gnu.org/copyleft/gpl.html
 *
 * Author: Mark J Panaghiston
 * Version: 2.1.0
 * Patched to fix Issue #52
 * Date: 1st September 2011
 */

(function (b, f) {
    b.fn.jPlayer = function (a) {
        var c = typeof a === "string",
            d = Array.prototype.slice.call(arguments, 1),
            e = this,
            a = !c && d.length ? b.extend.apply(null, [!0, a].concat(d)) : a;
        if (c && a.charAt(0) === "_") return e;
        c ? this.each(function () {
            var c = b.data(this, "jPlayer"),
                h = c && b.isFunction(c[a]) ? c[a].apply(c, d) : c;
            if (h !== c && h !== f) return e = h, !1
        }) : this.each(function () {
            var c = b.data(this, "jPlayer");
            c ? c.option(a || {}) : b.data(this, "jPlayer", new b.jPlayer(a, this))
        });
        return e
    };
    b.jPlayer = function (a, c) {
        if (arguments.length) {
            this.element = b(c);
            this.options = b.extend(!0, {}, this.options, a);
            var d = this;
            this.element.bind("remove.jPlayer", function () {
                d.destroy()
            });
            this._init()
        }
    };
    b.jPlayer.emulateMethods = "load play pause";
    b.jPlayer.emulateStatus = "src readyState networkState currentTime duration paused ended playbackRate";
    b.jPlayer.emulateOptions = "muted volume";
    b.jPlayer.reservedEvent = "ready flashreset resize repeat error warning";
    b.jPlayer.event = {
        ready: "jPlayer_ready",
        flashreset: "jPlayer_flashreset",
        resize: "jPlayer_resize",
        repeat: "jPlayer_repeat",
        click: "jPlayer_click",
        error: "jPlayer_error",
        warning: "jPlayer_warning",
        loadstart: "jPlayer_loadstart",
        progress: "jPlayer_progress",
        suspend: "jPlayer_suspend",
        abort: "jPlayer_abort",
        emptied: "jPlayer_emptied",
        stalled: "jPlayer_stalled",
        play: "jPlayer_play",
        pause: "jPlayer_pause",
        loadedmetadata: "jPlayer_loadedmetadata",
        loadeddata: "jPlayer_loadeddata",
        waiting: "jPlayer_waiting",
        playing: "jPlayer_playing",
        canplay: "jPlayer_canplay",
        canplaythrough: "jPlayer_canplaythrough",
        seeking: "jPlayer_seeking",
        seeked: "jPlayer_seeked",
        timeupdate: "jPlayer_timeupdate",
        ended: "jPlayer_ended",
        ratechange: "jPlayer_ratechange",
        durationchange: "jPlayer_durationchange",
        volumechange: "jPlayer_volumechange"
    };
    b.jPlayer.htmlEvent = "loadstart,abort,emptied,stalled,loadedmetadata,loadeddata,canplay,canplaythrough,ratechange".split(",");
    b.jPlayer.pause = function () {
        b.each(b.jPlayer.prototype.instances, function (a, b) {
            b.data("jPlayer").status.srcSet && b.jPlayer("pause")
        })
    };
    b.jPlayer.timeFormat = {
        showHour: !1,
        showMin: !0,
        showSec: !0,
        padHour: !1,
        padMin: !0,
        padSec: !0,
        sepHour: ":",
        sepMin: ":",
        sepSec: ""
    };
    b.jPlayer.convertTime = function (a) {
        var c = new Date(a * 1E3),
            d = c.getUTCHours(),
            a = c.getUTCMinutes(),
            c = c.getUTCSeconds(),
            d = b.jPlayer.timeFormat.padHour && d < 10 ? "0" + d : d,
            a = b.jPlayer.timeFormat.padMin && a < 10 ? "0" + a : a,
            c = b.jPlayer.timeFormat.padSec && c < 10 ? "0" + c : c;
        return (b.jPlayer.timeFormat.showHour ? d + b.jPlayer.timeFormat.sepHour : "") + (b.jPlayer.timeFormat.showMin ? a + b.jPlayer.timeFormat.sepMin : "") + (b.jPlayer.timeFormat.showSec ? c + b.jPlayer.timeFormat.sepSec : "")
    };
    b.jPlayer.uaBrowser = function (a) {
        var a = a.toLowerCase(),
            b = /(opera)(?:.*version)?[ \/]([\w.]+)/,
            d = /(msie) ([\w.]+)/,
            e = /(mozilla)(?:.*? rv:([\w.]+))?/,
            a = /(webkit)[ \/]([\w.]+)/.exec(a) || b.exec(a) || d.exec(a) || a.indexOf("compatible") < 0 && e.exec(a) || [];
        return {
            browser: a[1] || "",
            version: a[2] || "0"
        }
    };
    b.jPlayer.uaPlatform = function (a) {
        var b = a.toLowerCase(),
            d = /(android)/,
            e = /(mobile)/,
            a = /(ipad|iphone|ipod|android|blackberry|playbook|windows ce|webos)/.exec(b) || [],
            b = /(ipad|playbook)/.exec(b) || !e.exec(b) && d.exec(b) || [];
        a[1] && (a[1] = a[1].replace(/\s/g, "_"));
        return {
            platform: a[1] || "",
            tablet: b[1] || ""
        }
    };
    b.jPlayer.browser = {};
    b.jPlayer.platform = {};
    var i = b.jPlayer.uaBrowser(navigator.userAgent);
    if (i.browser) b.jPlayer.browser[i.browser] = !0, b.jPlayer.browser.version = i.version;
    i = b.jPlayer.uaPlatform(navigator.userAgent);
    if (i.platform) b.jPlayer.platform[i.platform] = !0, b.jPlayer.platform.mobile = !i.tablet, b.jPlayer.platform.tablet = !! i.tablet;
    b.jPlayer.prototype = {
        count: 0,
        version: {
            script: "2.1.0",
            needFlash: "2.1.0",
            flash: "unknown"
        },
        options: {
            swfPath: "js",
            solution: "html, flash",
            supplied: "mp3",
            preload: "metadata",
            volume: 0.8,
            muted: !1,
            wmode: "opaque",
            backgroundColor: "#000000",
            cssSelectorAncestor: "#jp_container_1",
            cssSelector: {
                videoPlay: ".jp-video-play",
                play: ".jp-play",
                pause: ".jp-pause",
                stop: ".jp-stop",
                seekBar: ".jp-seek-bar",
                playBar: ".jp-play-bar",
                mute: ".jp-mute",
                unmute: ".jp-unmute",
                volumeBar: ".jp-volume-bar",
                volumeBarValue: ".jp-volume-bar-value",
                volumeMax: ".jp-volume-max",
                currentTime: ".jp-current-time",
                duration: ".jp-duration",
                fullScreen: ".jp-full-screen",
                restoreScreen: ".jp-restore-screen",
                repeat: ".jp-repeat",
                repeatOff: ".jp-repeat-off",
                gui: ".jp-gui",
                noSolution: ".jp-no-solution"
            },
            fullScreen: !1,
            autohide: {
                restored: !1,
                full: !0,
                fadeIn: 200,
                fadeOut: 600,
                hold: 1E3
            },
            loop: !1,
            repeat: function (a) {
                a.jPlayer.options.loop ? b(this).unbind(".jPlayerRepeat").bind(b.jPlayer.event.ended + ".jPlayer.jPlayerRepeat", function () {
                    b(this).jPlayer("play")
                }) : b(this).unbind(".jPlayerRepeat")
            },
            nativeVideoControls: {},
            noFullScreen: {
                msie: /msie [0-6]/,
                ipad: /ipad.*?os [0-4]/,
                iphone: /iphone/,
                ipod: /ipod/,
                android_pad: /android [0-3](?!.*?mobile)/,
                android_phone: /android.*?mobile/,
                blackberry: /blackberry/,
                windows_ce: /windows ce/,
                webos: /webos/
            },
            noVolume: {
                ipad: /ipad/,
                iphone: /iphone/,
                ipod: /ipod/,
                android_pad: /android(?!.*?mobile)/,
                android_phone: /android.*?mobile/,
                blackberry: /blackberry/,
                windows_ce: /windows ce/,
                webos: /webos/,
                playbook: /playbook/
            },
            verticalVolume: !1,
            idPrefix: "jp",
            noConflict: "jQuery",
            emulateHtml: !1,
            errorAlerts: !1,
            warningAlerts: !1
        },
        optionsAudio: {
            size: {
                width: "0px",
                height: "0px",
                cssClass: ""
            },
            sizeFull: {
                width: "0px",
                height: "0px",
                cssClass: ""
            }
        },
        optionsVideo: {
            size: {
                width: "480px",
                height: "270px",
                cssClass: "jp-video-270p"
            },
            sizeFull: {
                width: "100%",
                height: "100%",
                cssClass: "jp-video-full"
            }
        },
        instances: {},
        status: {
            src: "",
            media: {},
            paused: !0,
            format: {},
            formatType: "",
            waitForPlay: !0,
            waitForLoad: !0,
            srcSet: !1,
            video: !1,
            seekPercent: 0,
            currentPercentRelative: 0,
            currentPercentAbsolute: 0,
            currentTime: 0,
            duration: 0,
            readyState: 0,
            networkState: 0,
            playbackRate: 1,
            ended: 0
        },
        internal: {
            ready: !1
        },
        solution: {
            html: !0,
            flash: !0
        },
        format: {
            mp3: {
                codec: 'audio/mpeg; codecs="mp3"',
                flashCanPlay: !0,
                media: "audio"
            },
            m4a: {
                codec: 'audio/mp4; codecs="mp4a.40.2"',
                flashCanPlay: !0,
                media: "audio"
            },
            oga: {
                codec: 'audio/ogg; codecs="vorbis"',
                flashCanPlay: !1,
                media: "audio"
            },
            wav: {
                codec: 'audio/wav; codecs="1"',
                flashCanPlay: !1,
                media: "audio"
            },
            webma: {
                codec: 'audio/webm; codecs="vorbis"',
                flashCanPlay: !1,
                media: "audio"
            },
            fla: {
                codec: "audio/x-flv",
                flashCanPlay: !0,
                media: "audio"
            },
            m4v: {
                codec: 'video/mp4; codecs="avc1.42E01E, mp4a.40.2"',
                flashCanPlay: !0,
                media: "video"
            },
            ogv: {
                codec: 'video/ogg; codecs="theora, vorbis"',
                flashCanPlay: !1,
                media: "video"
            },
            webmv: {
                codec: 'video/webm; codecs="vorbis, vp8"',
                flashCanPlay: !1,
                media: "video"
            },
            flv: {
                codec: "video/x-flv",
                flashCanPlay: !0,
                media: "video"
            }
        },
        _init: function () {
            var a = this;
            this.element.empty();
            this.status = b.extend({}, this.status);
            this.internal = b.extend({}, this.internal);
            this.internal.domNode = this.element.get(0);
            this.formats = [];
            this.solutions = [];
            this.require = {};
            this.htmlElement = {};
            this.html = {};
            this.html.audio = {};
            this.html.video = {};
            this.flash = {};
            this.css = {};
            this.css.cs = {};
            this.css.jq = {};
            this.ancestorJq = [];
            this.options.volume = this._limitValue(this.options.volume, 0, 1);
            b.each(this.options.supplied.toLowerCase().split(","), function (c, d) {
                var e = d.replace(/^\s+|\s+$/g, "");
                if (a.format[e]) {
                    var f = !1;
                    b.each(a.formats, function (a, b) {
                        if (e === b) return f = !0, !1
                    });
                    f || a.formats.push(e)
                }
            });
            b.each(this.options.solution.toLowerCase().split(","), function (c, d) {
                var e = d.replace(/^\s+|\s+$/g, "");
                if (a.solution[e]) {
                    var f = !1;
                    b.each(a.solutions, function (a, b) {
                        if (e === b) return f = !0, !1
                    });
                    f || a.solutions.push(e)
                }
            });
            this.internal.instance = "jp_" + this.count;
            this.instances[this.internal.instance] = this.element;
            this.element.attr("id") || this.element.attr("id", this.options.idPrefix + "_jplayer_" + this.count);
            this.internal.self = b.extend({}, {
                id: this.element.attr("id"),
                jq: this.element
            });
            this.internal.audio = b.extend({}, {
                id: this.options.idPrefix + "_audio_" + this.count,
                jq: f
            });
            this.internal.video = b.extend({}, {
                id: this.options.idPrefix + "_video_" + this.count,
                jq: f
            });
            this.internal.flash = b.extend({}, {
                id: this.options.idPrefix + "_flash_" + this.count,
                jq: f,
                swf: this.options.swfPath + (this.options.swfPath.toLowerCase().slice(-4) !== ".swf" ? (this.options.swfPath && this.options.swfPath.slice(-1) !== "/" ? "/" : "") + "Jplayer.swf" : "")
            });
            this.internal.poster = b.extend({}, {
                id: this.options.idPrefix + "_poster_" + this.count,
                jq: f
            });
            b.each(b.jPlayer.event, function (b, c) {
                a.options[b] !== f && (a.element.bind(c + ".jPlayer", a.options[b]), a.options[b] = f)
            });
            this.require.audio = !1;
            this.require.video = !1;
            b.each(this.formats, function (b, c) {
                a.require[a.format[c].media] = !0
            });
            this.options = this.require.video ? b.extend(!0, {}, this.optionsVideo, this.options) : b.extend(!0, {}, this.optionsAudio, this.options);
            this._setSize();
            this.status.nativeVideoControls = this._uaBlocklist(this.options.nativeVideoControls);
            this.status.noFullScreen = this._uaBlocklist(this.options.noFullScreen);
            this.status.noVolume = this._uaBlocklist(this.options.noVolume);
            this._restrictNativeVideoControls();
            this.htmlElement.poster = document.createElement("img");
            this.htmlElement.poster.id = this.internal.poster.id;
            this.htmlElement.poster.onload = function () {
                (!a.status.video || a.status.waitForPlay) && a.internal.poster.jq.show()
            };
            this.element.append(this.htmlElement.poster);
            this.internal.poster.jq = b("#" + this.internal.poster.id);
            this.internal.poster.jq.css({
                width: this.status.width,
                height: this.status.height
            });
            this.internal.poster.jq.hide();
            this.internal.poster.jq.bind("click.jPlayer", function () {
                a._trigger(b.jPlayer.event.click)
            });
            this.html.audio.available = !1;
            if (this.require.audio) this.htmlElement.audio = document.createElement("audio"), this.htmlElement.audio.id = this.internal.audio.id, this.html.audio.available = !! this.htmlElement.audio.canPlayType && this._testCanPlayType(this.htmlElement.audio);
            this.html.video.available = !1;
            if (this.require.video) this.htmlElement.video = document.createElement("video"), this.htmlElement.video.id = this.internal.video.id, this.html.video.available = !! this.htmlElement.video.canPlayType && this._testCanPlayType(this.htmlElement.video);
            this.flash.available = this._checkForFlash(10);
            this.html.canPlay = {};
            this.flash.canPlay = {};
            b.each(this.formats, function (b, c) {
                a.html.canPlay[c] = a.html[a.format[c].media].available && "" !== a.htmlElement[a.format[c].media].canPlayType(a.format[c].codec);
                a.flash.canPlay[c] = a.format[c].flashCanPlay && a.flash.available
            });
            this.html.desired = !1;
            this.flash.desired = !1;
            b.each(this.solutions, function (c, d) {
                if (c === 0) a[d].desired = !0;
                else {
                    var e = !1,
                        f = !1;
                    b.each(a.formats, function (b, c) {
                        a[a.solutions[0]].canPlay[c] && (a.format[c].media === "video" ? f = !0 : e = !0)
                    });
                    a[d].desired = a.require.audio && !e || a.require.video && !f
                }
            });
            this.html.support = {};
            this.flash.support = {};
            b.each(this.formats, function (b, c) {
                a.html.support[c] = a.html.canPlay[c] && a.html.desired;
                a.flash.support[c] = a.flash.canPlay[c] && a.flash.desired
            });
            this.html.used = !1;
            this.flash.used = !1;
            b.each(this.solutions, function (c, d) {
                b.each(a.formats, function (b, c) {
                    if (a[d].support[c]) return a[d].used = !0, !1
                })
            });
            this._resetActive();
            this._resetGate();
            this._cssSelectorAncestor(this.options.cssSelectorAncestor);
            !this.html.used && !this.flash.used ? (this._error({
                type: b.jPlayer.error.NO_SOLUTION,
                context: "{solution:'" + this.options.solution + "', supplied:'" + this.options.supplied + "'}",
                message: b.jPlayer.errorMsg.NO_SOLUTION,
                hint: b.jPlayer.errorHint.NO_SOLUTION
            }), this.css.jq.noSolution.length && this.css.jq.noSolution.show()) : this.css.jq.noSolution.length && this.css.jq.noSolution.hide();
            if (this.flash.used) {
                var c, d = "jQuery=" + encodeURI(this.options.noConflict) + "&id=" + encodeURI(this.internal.self.id) + "&vol=" + this.options.volume + "&muted=" + this.options.muted;
                if (b.browser.msie && Number(b.browser.version) <= 8) {
                    d = ['<param name="movie" value="' + this.internal.flash.swf + '" />', '<param name="FlashVars" value="' + d + '" />', '<param name="allowScriptAccess" value="always" />', '<param name="bgcolor" value="' + this.options.backgroundColor + '" />', '<param name="wmode" value="' + this.options.wmode + '" />'];
                    c = document.createElement('<object id="' + this.internal.flash.id + '" classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" width="0" height="0"></object>');
                    for (var e = 0; e < d.length; e++) c.appendChild(document.createElement(d[e]))
                } else e = function (a, b, c) {
                    var d = document.createElement("param");
                    d.setAttribute("name", b);
                    d.setAttribute("value", c);
                    a.appendChild(d)
                }, c = document.createElement("object"), c.setAttribute("id", this.internal.flash.id), c.setAttribute("data", this.internal.flash.swf), c.setAttribute("type", "application/x-shockwave-flash"), c.setAttribute("width", "1"), c.setAttribute("height", "1"), e(c, "flashvars", d), e(c, "allowscriptaccess", "always"), e(c, "bgcolor", this.options.backgroundColor), e(c, "wmode", this.options.wmode);
                this.element.append(c);
                this.internal.flash.jq = b(c)
            }
            if (this.html.used) {
                if (this.html.audio.available) this._addHtmlEventListeners(this.htmlElement.audio, this.html.audio), this.element.append(this.htmlElement.audio), this.internal.audio.jq = b("#" + this.internal.audio.id);
                if (this.html.video.available) this._addHtmlEventListeners(this.htmlElement.video, this.html.video), this.element.append(this.htmlElement.video), this.internal.video.jq = b("#" + this.internal.video.id), this.status.nativeVideoControls ? this.internal.video.jq.css({
                    width: this.status.width,
                    height: this.status.height
                }) : this.internal.video.jq.css({
                    width: "0px",
                    height: "0px"
                }), this.internal.video.jq.bind("click.jPlayer", function () {
                    a._trigger(b.jPlayer.event.click)
                })
            }
            this.options.emulateHtml && this._emulateHtmlBridge();
            this.html.used && !this.flash.used && setTimeout(function () {
                a.internal.ready = !0;
                a.version.flash = "n/a";
                a._trigger(b.jPlayer.event.repeat);
                a._trigger(b.jPlayer.event.ready)
            }, 100);
            this._updateNativeVideoControls();
            this._updateInterface();
            this._updateButtons(!1);
            this._updateAutohide();
            this._updateVolume(this.options.volume);
            this._updateMute(this.options.muted);
            this.css.jq.videoPlay.length && this.css.jq.videoPlay.hide();
            b.jPlayer.prototype.count++
        },
        destroy: function () {
            this.clearMedia();
            this._removeUiClass();
            this.css.jq.currentTime.length && this.css.jq.currentTime.text("");
            this.css.jq.duration.length && this.css.jq.duration.text("");
            b.each(this.css.jq, function (a, b) {
                b.length && b.unbind(".jPlayer")
            });
            this.internal.poster.jq.unbind(".jPlayer");
            this.internal.video.jq && this.internal.video.jq.unbind(".jPlayer");
            this.options.emulateHtml && this._destroyHtmlBridge();
            this.element.removeData("jPlayer");
            this.element.unbind(".jPlayer");
            this.element.empty();
            delete this.instances[this.internal.instance]
        },
        enable: function () {},
        disable: function () {},
        _testCanPlayType: function (a) {
            try {
                return a.canPlayType(this.format.mp3.codec), !0
            } catch (b) {
                return !1
            }
        },
        _uaBlocklist: function (a) {
            var c = navigator.userAgent.toLowerCase(),
                d = !1;
            b.each(a, function (a, b) {
                if (b && b.test(c)) return d = !0, !1
            });
            return d
        },
        _restrictNativeVideoControls: function () {
            if (this.require.audio && this.status.nativeVideoControls) this.status.nativeVideoControls = !1, this.status.noFullScreen = !0
        },
        _updateNativeVideoControls: function () {
            if (this.html.video.available && this.html.used) this.htmlElement.video.controls = this.status.nativeVideoControls, this._updateAutohide(), this.status.nativeVideoControls && this.require.video ? (this.internal.poster.jq.hide(), this.internal.video.jq.css({
                width: this.status.width,
                height: this.status.height
            })) : this.status.waitForPlay && this.status.video && (this.internal.poster.jq.show(), this.internal.video.jq.css({
                width: "0px",
                height: "0px"
            }))
        },
        _addHtmlEventListeners: function (a, c) {
            var d = this;
            a.preload = this.options.preload;
            a.muted = this.options.muted;
            a.volume = this.options.volume;
            a.addEventListener("progress", function () {
                c.gate && (d._getHtmlStatus(a), d._updateInterface(), d._trigger(b.jPlayer.event.progress))
            }, !1);
            a.addEventListener("timeupdate", function () {
                c.gate && (d._getHtmlStatus(a), d._updateInterface(), d._trigger(b.jPlayer.event.timeupdate))
            }, !1);
            a.addEventListener("durationchange", function () {
                if (c.gate) d.status.duration = this.duration, d._getHtmlStatus(a), d._updateInterface(), d._trigger(b.jPlayer.event.durationchange)
            }, !1);
            a.addEventListener("play", function () {
                c.gate && (d._updateButtons(!0), d._html_checkWaitForPlay(), d._trigger(b.jPlayer.event.play))
            }, !1);
            a.addEventListener("playing", function () {
                c.gate && (d._updateButtons(!0), d._seeked(), d._trigger(b.jPlayer.event.playing))
            }, !1);
            a.addEventListener("pause", function () {
                c.gate && (d._updateButtons(!1), d._trigger(b.jPlayer.event.pause))
            }, !1);
            a.addEventListener("waiting", function () {
                c.gate && (d._seeking(), d._trigger(b.jPlayer.event.waiting))
            }, !1);
            a.addEventListener("seeking", function () {
                c.gate && (d._seeking(), d._trigger(b.jPlayer.event.seeking))
            }, !1);
            a.addEventListener("seeked", function () {
                c.gate && (d._seeked(), d._trigger(b.jPlayer.event.seeked))
            }, !1);
            a.addEventListener("volumechange", function () {
                if (c.gate) d.options.volume = a.volume, d.options.muted = a.muted, d._updateMute(), d._updateVolume(), d._trigger(b.jPlayer.event.volumechange)
            }, !1);
            a.addEventListener("suspend", function () {
                c.gate && (d._seeked(), d._trigger(b.jPlayer.event.suspend))
            }, !1);
            a.addEventListener("ended", function () {
                if (c.gate) {
                    if (!b.jPlayer.browser.webkit) d.htmlElement.media.currentTime = 0;
                    d.htmlElement.media.pause();
                    d._updateButtons(!1);
                    d._getHtmlStatus(a, !0);
                    d._updateInterface();
                    d._trigger(b.jPlayer.event.ended)
                }
            }, !1);
            a.addEventListener("error", function () {
                if (c.gate && (d._updateButtons(!1), d._seeked(), d.status.srcSet)) clearTimeout(d.internal.htmlDlyCmdId), d.status.waitForLoad = !0, d.status.waitForPlay = !0, d.status.video && !d.status.nativeVideoControls && d.internal.video.jq.css({
                    width: "0px",
                    height: "0px"
                }), d._validString(d.status.media.poster) && !d.status.nativeVideoControls && d.internal.poster.jq.show(), d.css.jq.videoPlay.length && d.css.jq.videoPlay.show(), d._error({
                    type: b.jPlayer.error.URL,
                    context: d.status.src,
                    message: b.jPlayer.errorMsg.URL,
                    hint: b.jPlayer.errorHint.URL
                })
            }, !1);
            b.each(b.jPlayer.htmlEvent, function (e, g) {
                a.addEventListener(this, function () {
                    c.gate && d._trigger(b.jPlayer.event[g])
                }, !1)
            })
        },
        _getHtmlStatus: function (a, b) {
            var d = 0,
                e = 0,
                g = 0,
                f = 0;
            if (a.duration) this.status.duration = a.duration;
            d = a.currentTime;
            e = this.status.duration > 0 ? 100 * d / this.status.duration : 0;
            typeof a.seekable === "object" && a.seekable.length > 0 ? (g = this.status.duration > 0 ? 100 * a.seekable.end(a.seekable.length - 1) / this.status.duration : 100, f = 100 * a.currentTime / a.seekable.end(a.seekable.length - 1)) : (g = 100, f = e);
            b && (e = f = d = 0);
            this.status.seekPercent = g;
            this.status.currentPercentRelative = f;
            this.status.currentPercentAbsolute = e;
            this.status.currentTime = d;
            this.status.readyState = a.readyState;
            this.status.networkState = a.networkState;
            this.status.playbackRate = a.playbackRate;
            this.status.ended = a.ended
        },
        _resetStatus: function () {
            this.status = b.extend({}, this.status, b.jPlayer.prototype.status)
        },
        _trigger: function (a, c, d) {
            a = b.Event(a);
            a.jPlayer = {};
            a.jPlayer.version = b.extend({}, this.version);
            a.jPlayer.options = b.extend(!0, {}, this.options);
            a.jPlayer.status = b.extend(!0, {}, this.status);
            a.jPlayer.html = b.extend(!0, {}, this.html);
            a.jPlayer.flash = b.extend(!0, {}, this.flash);
            if (c) a.jPlayer.error = b.extend({}, c);
            if (d) a.jPlayer.warning = b.extend({}, d);
            this.element.trigger(a)
        },
        jPlayerFlashEvent: function (a, c) {
            if (a === b.jPlayer.event.ready) if (this.internal.ready) {
                if (this.flash.gate) {
                    if (this.status.srcSet) {
                        var d = this.status.currentTime,
                            e = this.status.paused;
                        this.setMedia(this.status.media);
                        this.volume(this.options.volume);
                        d > 0 && (e ? this.pause(d) : this.play(d))
                    }
                    this._trigger(b.jPlayer.event.flashreset)
                }
            } else this.internal.ready = !0, this.internal.flash.jq.css({
                width: "0px",
                height: "0px"
            }), this.version.flash = c.version, this.version.needFlash !== this.version.flash && this._error({
                type: b.jPlayer.error.VERSION,
                context: this.version.flash,
                message: b.jPlayer.errorMsg.VERSION + this.version.flash,
                hint: b.jPlayer.errorHint.VERSION
            }), this._trigger(b.jPlayer.event.repeat), this._trigger(a);
            if (this.flash.gate) switch (a) {
            case b.jPlayer.event.progress:
                this._getFlashStatus(c);
                this._updateInterface();
                this._trigger(a);
                break;
            case b.jPlayer.event.timeupdate:
                this._getFlashStatus(c);
                this._updateInterface();
                this._trigger(a);
                break;
            case b.jPlayer.event.play:
                this._seeked();
                this._updateButtons(!0);
                this._trigger(a);
                break;
            case b.jPlayer.event.pause:
                this._updateButtons(!1);
                this._trigger(a);
                break;
            case b.jPlayer.event.ended:
                this._updateButtons(!1);
                this._trigger(a);
                break;
            case b.jPlayer.event.click:
                this._trigger(a);
                break;
            case b.jPlayer.event.error:
                this.status.waitForLoad = !0;
                this.status.waitForPlay = !0;
                this.status.video && this.internal.flash.jq.css({
                    width: "0px",
                    height: "0px"
                });
                this._validString(this.status.media.poster) && this.internal.poster.jq.show();
                this.css.jq.videoPlay.length && this.status.video && this.css.jq.videoPlay.show();
                this.status.video ? this._flash_setVideo(this.status.media) : this._flash_setAudio(this.status.media);
                this._updateButtons(!1);
                this._error({
                    type: b.jPlayer.error.URL,
                    context: c.src,
                    message: b.jPlayer.errorMsg.URL,
                    hint: b.jPlayer.errorHint.URL
                });
                break;
            case b.jPlayer.event.seeking:
                this._seeking();
                this._trigger(a);
                break;
            case b.jPlayer.event.seeked:
                this._seeked();
                this._trigger(a);
                break;
            case b.jPlayer.event.ready:
                break;
            default:
                this._trigger(a)
            }
            return !1
        },
        _getFlashStatus: function (a) {
            this.status.seekPercent = a.seekPercent;
            this.status.currentPercentRelative = a.currentPercentRelative;
            this.status.currentPercentAbsolute = a.currentPercentAbsolute;
            this.status.currentTime = a.currentTime;
            this.status.duration = a.duration;
            this.status.readyState = 4;
            this.status.networkState = 0;
            this.status.playbackRate = 1;
            this.status.ended = !1
        },
        _updateButtons: function (a) {
            if (a !== f) this.status.paused = !a, this.css.jq.play.length && this.css.jq.pause.length && (a ? (this.css.jq.play.hide(), this.css.jq.pause.show()) : (this.css.jq.play.show(), this.css.jq.pause.hide()));
            this.css.jq.restoreScreen.length && this.css.jq.fullScreen.length && (this.status.noFullScreen ? (this.css.jq.fullScreen.hide(), this.css.jq.restoreScreen.hide()) : this.options.fullScreen ? (this.css.jq.fullScreen.hide(), this.css.jq.restoreScreen.show()) : (this.css.jq.fullScreen.show(), this.css.jq.restoreScreen.hide()));
            this.css.jq.repeat.length && this.css.jq.repeatOff.length && (this.options.loop ? (this.css.jq.repeat.hide(), this.css.jq.repeatOff.show()) : (this.css.jq.repeat.show(), this.css.jq.repeatOff.hide()))
        },
        _updateInterface: function () {
            this.css.jq.seekBar.length && this.css.jq.seekBar.width(this.status.seekPercent + "%");
            this.css.jq.playBar.length && this.css.jq.playBar.width(this.status.currentPercentRelative + "%");
            this.css.jq.currentTime.length && this.css.jq.currentTime.text(b.jPlayer.convertTime(this.status.currentTime));
            this.css.jq.duration.length && this.css.jq.duration.text(b.jPlayer.convertTime(this.status.duration))
        },
        _seeking: function () {
            this.css.jq.seekBar.length && this.css.jq.seekBar.addClass("jp-seeking-bg")
        },
        _seeked: function () {
            this.css.jq.seekBar.length && this.css.jq.seekBar.removeClass("jp-seeking-bg")
        },
        _resetGate: function () {
            this.html.audio.gate = !1;
            this.html.video.gate = !1;
            this.flash.gate = !1
        },
        _resetActive: function () {
            this.html.active = !1;
            this.flash.active = !1
        },
        setMedia: function (a) {
            var c = this,
                d = !1,
                e = this.status.media.poster !== a.poster;
            this._resetMedia();
            this._resetGate();
            this._resetActive();
            b.each(this.formats, function (e, f) {
                var i = c.format[f].media === "video";
                b.each(c.solutions, function (b, e) {
                    if (c[e].support[f] && c._validString(a[f])) {
                        var g = e === "html";
                        i ? (g ? (c.html.video.gate = !0, c._html_setVideo(a), c.html.active = !0) : (c.flash.gate = !0, c._flash_setVideo(a), c.flash.active = !0), c.css.jq.videoPlay.length && c.css.jq.videoPlay.show(), c.status.video = !0) : (g ? (c.html.audio.gate = !0, c._html_setAudio(a), c.html.active = !0) : (c.flash.gate = !0, c._flash_setAudio(a), c.flash.active = !0), c.css.jq.videoPlay.length && c.css.jq.videoPlay.hide(), c.status.video = !1);
                        d = !0;
                        return !1
                    }
                });
                if (d) return !1
            });
            if (d) {
                if ((!this.status.nativeVideoControls || !this.html.video.gate) && this._validString(a.poster)) e ? this.htmlElement.poster.src = a.poster : this.internal.poster.jq.show();
                this.status.srcSet = !0;
                this.status.media = b.extend({}, a);
                this._updateButtons(!1);
                this._updateInterface()
            } else this._error({
                type: b.jPlayer.error.NO_SUPPORT,
                context: "{supplied:'" + this.options.supplied + "'}",
                message: b.jPlayer.errorMsg.NO_SUPPORT,
                hint: b.jPlayer.errorHint.NO_SUPPORT
            })
        },
        _resetMedia: function () {
            this._resetStatus();
            this._updateButtons(!1);
            this._updateInterface();
            this._seeked();
            this.internal.poster.jq.hide();
            clearTimeout(this.internal.htmlDlyCmdId);
            this.html.active ? this._html_resetMedia() : this.flash.active && this._flash_resetMedia()
        },
        clearMedia: function () {
            this._resetMedia();
            this.html.active ? this._html_clearMedia() : this.flash.active && this._flash_clearMedia();
            this._resetGate();
            this._resetActive()
        },
        load: function () {
            this.status.srcSet ? this.html.active ? this._html_load() : this.flash.active && this._flash_load() : this._urlNotSetError("load")
        },
        play: function (a) {
            a = typeof a === "number" ? a : NaN;
            this.status.srcSet ? this.html.active ? this._html_play(a) : this.flash.active && this._flash_play(a) : this._urlNotSetError("play")
        },
        videoPlay: function () {
            this.play()
        },
        pause: function (a) {
            a = typeof a === "number" ? a : NaN;
            this.status.srcSet ? this.html.active ? this._html_pause(a) : this.flash.active && this._flash_pause(a) : this._urlNotSetError("pause")
        },
        pauseOthers: function () {
            var a = this;
            b.each(this.instances, function (b, d) {
                a.element !== d && d.data("jPlayer").status.srcSet && d.jPlayer("pause")
            })
        },
        stop: function () {
            this.status.srcSet ? this.html.active ? this._html_pause(0) : this.flash.active && this._flash_pause(0) : this._urlNotSetError("stop")
        },
        playHead: function (a) {
            a = this._limitValue(a, 0, 100);
            this.status.srcSet ? this.html.active ? this._html_playHead(a) : this.flash.active && this._flash_playHead(a) : this._urlNotSetError("playHead")
        },
        _muted: function (a) {
            this.options.muted = a;
            this.html.used && this._html_mute(a);
            this.flash.used && this._flash_mute(a);
            !this.html.video.gate && !this.html.audio.gate && (this._updateMute(a), this._updateVolume(this.options.volume), this._trigger(b.jPlayer.event.volumechange))
        },
        mute: function (a) {
            a = a === f ? !0 : !! a;
            this._muted(a)
        },
        unmute: function (a) {
            a = a === f ? !0 : !! a;
            this._muted(!a)
        },
        _updateMute: function (a) {
            if (a === f) a = this.options.muted;
            this.css.jq.mute.length && this.css.jq.unmute.length && (this.status.noVolume ? (this.css.jq.mute.hide(), this.css.jq.unmute.hide()) : a ? (this.css.jq.mute.hide(), this.css.jq.unmute.show()) : (this.css.jq.mute.show(), this.css.jq.unmute.hide()))
        },
        volume: function (a) {
            a = this._limitValue(a, 0, 1);
            this.options.volume = a;
            this.html.used && this._html_volume(a);
            this.flash.used && this._flash_volume(a);
            !this.html.video.gate && !this.html.audio.gate && (this._updateVolume(a), this._trigger(b.jPlayer.event.volumechange))
        },
        volumeBar: function (a) {
            if (this.css.jq.volumeBar.length) {
                var b = this.css.jq.volumeBar.offset(),
                    d = a.pageX - b.left,
                    e = this.css.jq.volumeBar.width(),
                    a = this.css.jq.volumeBar.height() - a.pageY + b.top,
                    b = this.css.jq.volumeBar.height();
                this.options.verticalVolume ? this.volume(a / b) : this.volume(d / e)
            }
            this.options.muted && this._muted(!1)
        },
        volumeBarValue: function (a) {
            this.volumeBar(a)
        },
        _updateVolume: function (a) {
            if (a === f) a = this.options.volume;
            a = this.options.muted ? 0 : a;
            this.status.noVolume ? (this.css.jq.volumeBar.length && this.css.jq.volumeBar.hide(), this.css.jq.volumeBarValue.length && this.css.jq.volumeBarValue.hide(), this.css.jq.volumeMax.length && this.css.jq.volumeMax.hide()) : (this.css.jq.volumeBar.length && this.css.jq.volumeBar.show(), this.css.jq.volumeBarValue.length && (this.css.jq.volumeBarValue.show(), this.css.jq.volumeBarValue[this.options.verticalVolume ? "height" : "width"](a * 100 + "%")), this.css.jq.volumeMax.length && this.css.jq.volumeMax.show())
        },
        volumeMax: function () {
            this.volume(1);
            this.options.muted && this._muted(!1)
        },
        _cssSelectorAncestor: function (a) {
            var c = this;
            this.options.cssSelectorAncestor = a;
            this._removeUiClass();
            this.ancestorJq = a ? b(a) : [];
            a && this.ancestorJq.length !== 1 && this._warning({
                type: b.jPlayer.warning.CSS_SELECTOR_COUNT,
                context: a,
                message: b.jPlayer.warningMsg.CSS_SELECTOR_COUNT + this.ancestorJq.length + " found for cssSelectorAncestor.",
                hint: b.jPlayer.warningHint.CSS_SELECTOR_COUNT
            });
            this._addUiClass();
            b.each(this.options.cssSelector, function (a, b) {
                c._cssSelector(a, b)
            })
        },
        _cssSelector: function (a, c) {
            var d = this;
            typeof c === "string" ? b.jPlayer.prototype.options.cssSelector[a] ? (this.css.jq[a] && this.css.jq[a].length && this.css.jq[a].unbind(".jPlayer"), this.options.cssSelector[a] = c, this.css.cs[a] = this.options.cssSelectorAncestor + " " + c, this.css.jq[a] = c ? b(this.css.cs[a]) : [], this.css.jq[a].length && this.css.jq[a].bind("click.jPlayer", function (c) {
                d[a](c);
                b(this).blur();
                return !1
            }), c && this.css.jq[a].length !== 1 && this._warning({
                type: b.jPlayer.warning.CSS_SELECTOR_COUNT,
                context: this.css.cs[a],
                message: b.jPlayer.warningMsg.CSS_SELECTOR_COUNT + this.css.jq[a].length + " found for " + a + " method.",
                hint: b.jPlayer.warningHint.CSS_SELECTOR_COUNT
            })) : this._warning({
                type: b.jPlayer.warning.CSS_SELECTOR_METHOD,
                context: a,
                message: b.jPlayer.warningMsg.CSS_SELECTOR_METHOD,
                hint: b.jPlayer.warningHint.CSS_SELECTOR_METHOD
            }) : this._warning({
                type: b.jPlayer.warning.CSS_SELECTOR_STRING,
                context: c,
                message: b.jPlayer.warningMsg.CSS_SELECTOR_STRING,
                hint: b.jPlayer.warningHint.CSS_SELECTOR_STRING
            })
        },
        seekBar: function (a) {
            if (this.css.jq.seekBar) {
                var b = this.css.jq.seekBar.offset(),
                    a = a.pageX - b.left,
                    b = this.css.jq.seekBar.width();
                this.playHead(100 * a / b)
            }
        },
        playBar: function (a) {
            this.seekBar(a)
        },
        repeat: function () {
            this._loop(!0)
        },
        repeatOff: function () {
            this._loop(!1)
        },
        _loop: function (a) {
            if (this.options.loop !== a) this.options.loop = a, this._updateButtons(), this._trigger(b.jPlayer.event.repeat)
        },
        currentTime: function () {},
        duration: function () {},
        gui: function () {},
        noSolution: function () {},
        option: function (a, c) {
            var d = a;
            if (arguments.length === 0) return b.extend(!0, {}, this.options);
            if (typeof a === "string") {
                var e = a.split(".");
                if (c === f) {
                    for (var d = b.extend(!0, {}, this.options), g = 0; g < e.length; g++) if (d[e[g]] !== f) d = d[e[g]];
                    else return this._warning({
                        type: b.jPlayer.warning.OPTION_KEY,
                        context: a,
                        message: b.jPlayer.warningMsg.OPTION_KEY,
                        hint: b.jPlayer.warningHint.OPTION_KEY
                    }), f;
                    return d
                }
                for (var g = d = {}, h = 0; h < e.length; h++) h < e.length - 1 ? (g[e[h]] = {}, g = g[e[h]]) : g[e[h]] = c
            }
            this._setOptions(d);
            return this
        },
        _setOptions: function (a) {
            var c = this;
            b.each(a, function (a, b) {
                c._setOption(a, b)
            });
            return this
        },
        _setOption: function (a, c) {
            var d = this;
            switch (a) {
            case "volume":
                this.volume(c);
                break;
            case "muted":
                this._muted(c);
                break;
            case "cssSelectorAncestor":
                this._cssSelectorAncestor(c);
                break;
            case "cssSelector":
                b.each(c, function (a, b) {
                    d._cssSelector(a, b)
                });
                break;
            case "fullScreen":
                this.options[a] !== c && (this._removeUiClass(), this.options[a] = c, this._refreshSize());
                break;
            case "size":
                !this.options.fullScreen && this.options[a].cssClass !== c.cssClass && this._removeUiClass();
                this.options[a] = b.extend({}, this.options[a], c);
                this._refreshSize();
                break;
            case "sizeFull":
                this.options.fullScreen && this.options[a].cssClass !== c.cssClass && this._removeUiClass();
                this.options[a] = b.extend({}, this.options[a], c);
                this._refreshSize();
                break;
            case "autohide":
                this.options[a] = b.extend({}, this.options[a], c);
                this._updateAutohide();
                break;
            case "loop":
                this._loop(c);
                break;
            case "nativeVideoControls":
                this.options[a] = b.extend({}, this.options[a], c);
                this.status.nativeVideoControls = this._uaBlocklist(this.options.nativeVideoControls);
                this._restrictNativeVideoControls();
                this._updateNativeVideoControls();
                break;
            case "noFullScreen":
                this.options[a] = b.extend({}, this.options[a], c);
                this.status.nativeVideoControls = this._uaBlocklist(this.options.nativeVideoControls);
                this.status.noFullScreen = this._uaBlocklist(this.options.noFullScreen);
                this._restrictNativeVideoControls();
                this._updateButtons();
                break;
            case "noVolume":
                this.options[a] = b.extend({}, this.options[a], c);
                this.status.noVolume = this._uaBlocklist(this.options.noVolume);
                this._updateVolume();
                this._updateMute();
                break;
            case "emulateHtml":
                this.options[a] !== c && ((this.options[a] = c) ? this._emulateHtmlBridge() : this._destroyHtmlBridge())
            }
            return this
        },
        _refreshSize: function () {
            this._setSize();
            this._addUiClass();
            this._updateSize();
            this._updateButtons();
            this._updateAutohide();
            this._trigger(b.jPlayer.event.resize)
        },
        _setSize: function () {
            this.options.fullScreen ? (this.status.width = this.options.sizeFull.width, this.status.height = this.options.sizeFull.height, this.status.cssClass = this.options.sizeFull.cssClass) : (this.status.width = this.options.size.width, this.status.height = this.options.size.height, this.status.cssClass = this.options.size.cssClass);
            this.element.css({
                width: this.status.width,
                height: this.status.height
            })
        },
        _addUiClass: function () {
            this.ancestorJq.length && this.ancestorJq.addClass(this.status.cssClass)
        },
        _removeUiClass: function () {
            this.ancestorJq.length && this.ancestorJq.removeClass(this.status.cssClass)
        },
        _updateSize: function () {
            this.internal.poster.jq.css({
                width: this.status.width,
                height: this.status.height
            });
            !this.status.waitForPlay && this.html.active && this.status.video || this.html.video.available && this.html.used && this.status.nativeVideoControls ? this.internal.video.jq.css({
                width: this.status.width,
                height: this.status.height
            }) : !this.status.waitForPlay && this.flash.active && this.status.video && this.internal.flash.jq.css({
                width: this.status.width,
                height: this.status.height
            })
        },
        _updateAutohide: function () {
            var a = this,
                b = function () {
                    a.css.jq.gui.fadeIn(a.options.autohide.fadeIn, function () {
                        clearTimeout(a.internal.autohideId);
                        a.internal.autohideId = setTimeout(function () {
                            a.css.jq.gui.fadeOut(a.options.autohide.fadeOut)
                        }, a.options.autohide.hold)
                    })
                };
            this.css.jq.gui.length && (this.css.jq.gui.stop(!0, !0), clearTimeout(this.internal.autohideId), this.element.unbind(".jPlayerAutohide"), this.css.jq.gui.unbind(".jPlayerAutohide"), this.status.nativeVideoControls ? this.css.jq.gui.hide() : this.options.fullScreen && this.options.autohide.full || !this.options.fullScreen && this.options.autohide.restored ? (this.element.bind("mousemove.jPlayer.jPlayerAutohide", b), this.css.jq.gui.bind("mousemove.jPlayer.jPlayerAutohide", b), this.css.jq.gui.hide()) : this.css.jq.gui.show())
        },
        fullScreen: function () {
            this._setOption("fullScreen", !0)
        },
        restoreScreen: function () {
            this._setOption("fullScreen", !1)
        },
        _html_initMedia: function () {
            this.htmlElement.media.src = this.status.src;
            this.options.preload !== "none" && this._html_load();
            this._trigger(b.jPlayer.event.timeupdate)
        },
        _html_setAudio: function (a) {
            var c = this;
            b.each(this.formats, function (b, e) {
                if (c.html.support[e] && a[e]) return c.status.src = a[e], c.status.format[e] = !0, c.status.formatType = e, !1
            });
            this.htmlElement.media = this.htmlElement.audio;
            this._html_initMedia()
        },
        _html_setVideo: function (a) {
            var c = this;
            b.each(this.formats, function (b, e) {
                if (c.html.support[e] && a[e]) return c.status.src = a[e], c.status.format[e] = !0, c.status.formatType = e, !1
            });
            if (this.status.nativeVideoControls) this.htmlElement.video.poster = this._validString(a.poster) ? a.poster : "";
            this.htmlElement.media = this.htmlElement.video;
            this._html_initMedia()
        },
        _html_resetMedia: function () {
            this.htmlElement.media && (this.htmlElement.media.id === this.internal.video.id && !this.status.nativeVideoControls && this.internal.video.jq.css({
                width: "0px",
                height: "0px"
            }), this.htmlElement.media.pause())
        },
        _html_clearMedia: function () {
            if (this.htmlElement.media) this.htmlElement.media.src = "", this.htmlElement.media.load()
        },
        _html_load: function () {
            if (this.status.waitForLoad) this.status.waitForLoad = !1, this.htmlElement.media.load();
            clearTimeout(this.internal.htmlDlyCmdId)
        },
        _html_play: function (a) {
            var b = this;
            this._html_load();
            this.htmlElement.media.play();
            if (!isNaN(a)) try {
                this.htmlElement.media.currentTime = a
            } catch (d) {
                this.internal.htmlDlyCmdId = setTimeout(function () {
                    b.play(a)
                }, 100);
                return
            }
            this._html_checkWaitForPlay()
        },
        _html_pause: function (a) {
            var b = this;
            a > 0 ? this._html_load() : clearTimeout(this.internal.htmlDlyCmdId);
            this.htmlElement.media.pause();
            if (!isNaN(a)) try {
                this.htmlElement.media.currentTime = a
            } catch (d) {
                this.internal.htmlDlyCmdId = setTimeout(function () {
                    b.pause(a)
                }, 100);
                return
            }
            a > 0 && this._html_checkWaitForPlay()
        },
        _html_playHead: function (a) {
            var b = this;
            this._html_load();
            try {
                if (typeof this.htmlElement.media.seekable === "object" && this.htmlElement.media.seekable.length > 0) this.htmlElement.media.currentTime = a * this.htmlElement.media.seekable.end(this.htmlElement.media.seekable.length - 1) / 100;
                else if (this.htmlElement.media.duration > 0 && !isNaN(this.htmlElement.media.duration)) this.htmlElement.media.currentTime = a * this.htmlElement.media.duration / 100;
                else throw "e";
            } catch (d) {
                this.internal.htmlDlyCmdId = setTimeout(function () {
                    b.playHead(a)
                }, 100);
                return
            }
            this.status.waitForLoad || this._html_checkWaitForPlay()
        },
        _html_checkWaitForPlay: function () {
            if (this.status.waitForPlay) this.status.waitForPlay = !1, this.css.jq.videoPlay.length && this.css.jq.videoPlay.hide(), this.status.video && (this.internal.poster.jq.hide(), this.internal.video.jq.css({
                width: this.status.width,
                height: this.status.height
            }))
        },
        _html_volume: function (a) {
            if (this.html.audio.available) this.htmlElement.audio.volume = a;
            if (this.html.video.available) this.htmlElement.video.volume = a
        },
        _html_mute: function (a) {
            if (this.html.audio.available) this.htmlElement.audio.muted = a;
            if (this.html.video.available) this.htmlElement.video.muted = a
        },
        _flash_setAudio: function (a) {
            var c = this;
            try {
                if (b.each(this.formats, function (b, d) {
                    if (c.flash.support[d] && a[d]) {
                        switch (d) {
                        case "m4a":
                        case "fla":
                            c._getMovie().fl_setAudio_m4a(a[d]);
                            break;
                        case "mp3":
                            c._getMovie().fl_setAudio_mp3(a[d])
                        }
                        c.status.src = a[d];
                        c.status.format[d] = !0;
                        c.status.formatType = d;
                        return !1
                    }
                }), this.options.preload === "auto") this._flash_load(), this.status.waitForLoad = !1
            } catch (d) {
                this._flashError(d)
            }
        },
        _flash_setVideo: function (a) {
            var c = this;
            try {
                if (b.each(this.formats, function (b, d) {
                    if (c.flash.support[d] && a[d]) {
                        switch (d) {
                        case "m4v":
                        case "flv":
                            c._getMovie().fl_setVideo_m4v(a[d])
                        }
                        c.status.src = a[d];
                        c.status.format[d] = !0;
                        c.status.formatType = d;
                        return !1
                    }
                }), this.options.preload === "auto") this._flash_load(), this.status.waitForLoad = !1
            } catch (d) {
                this._flashError(d)
            }
        },
        _flash_resetMedia: function () {
            this.internal.flash.jq.css({
                width: "0px",
                height: "0px"
            });
            this._flash_pause(NaN)
        },
        _flash_clearMedia: function () {
            try {
                this._getMovie().fl_clearMedia()
            } catch (a) {
                this._flashError(a)
            }
        },
        _flash_load: function () {
            try {
                this._getMovie().fl_load()
            } catch (a) {
                this._flashError(a)
            }
            this.status.waitForLoad = !1
        },
        _flash_play: function (a) {
            try {
                this._getMovie().fl_play(a)
            } catch (b) {
                this._flashError(b)
            }
            this.status.waitForLoad = !1;
            this._flash_checkWaitForPlay()
        },
        _flash_pause: function (a) {
            try {
                this._getMovie().fl_pause(a)
            } catch (b) {
                this._flashError(b)
            }
            if (a > 0) this.status.waitForLoad = !1, this._flash_checkWaitForPlay()
        },
        _flash_playHead: function (a) {
            try {
                this._getMovie().fl_play_head(a)
            } catch (b) {
                this._flashError(b)
            }
            this.status.waitForLoad || this._flash_checkWaitForPlay()
        },
        _flash_checkWaitForPlay: function () {
            if (this.status.waitForPlay) this.status.waitForPlay = !1, this.css.jq.videoPlay.length && this.css.jq.videoPlay.hide(), this.status.video && (this.internal.poster.jq.hide(), this.internal.flash.jq.css({
                width: this.status.width,
                height: this.status.height
            }))
        },
        _flash_volume: function (a) {
            try {
                this._getMovie().fl_volume(a)
            } catch (b) {
                this._flashError(b)
            }
        },
        _flash_mute: function (a) {
            try {
                this._getMovie().fl_mute(a)
            } catch (b) {
                this._flashError(b)
            }
        },
        _getMovie: function () {
            return document[this.internal.flash.id]
        },
        _checkForFlash: function (a) {
            var b = !1,
                d;
            if (window.ActiveXObject) try {
                new ActiveXObject("ShockwaveFlash.ShockwaveFlash." + a), b = !0
            } catch (e) {} else navigator.plugins && navigator.mimeTypes.length > 0 && (d = navigator.plugins["Shockwave Flash"]) && navigator.plugins["Shockwave Flash"].description.replace(/.*\s(\d+\.\d+).*/, "$1") >= a && (b = !0);
            return b
        },
        _validString: function (a) {
            return a && typeof a === "string"
        },
        _limitValue: function (a, b, d) {
            return a < b ? b : a > d ? d : a
        },
        _urlNotSetError: function (a) {
            this._error({
                type: b.jPlayer.error.URL_NOT_SET,
                context: a,
                message: b.jPlayer.errorMsg.URL_NOT_SET,
                hint: b.jPlayer.errorHint.URL_NOT_SET
            })
        },
        _flashError: function (a) {
            var c;
            c = this.internal.ready ? "FLASH_DISABLED" : "FLASH";
            this._error({
                type: b.jPlayer.error[c],
                context: this.internal.flash.swf,
                message: b.jPlayer.errorMsg[c] + a.message,
                hint: b.jPlayer.errorHint[c]
            });
            this.internal.flash.jq.css({
                width: "1px",
                height: "1px"
            })
        },
        _error: function (a) {
            this._trigger(b.jPlayer.event.error, a);
            this.options.errorAlerts && this._alert("Error!" + (a.message ? "\n\n" + a.message : "") + (a.hint ? "\n\n" + a.hint : "") + "\n\nContext: " + a.context)
        },
        _warning: function (a) {
            this._trigger(b.jPlayer.event.warning, f, a);
            this.options.warningAlerts && this._alert("Warning!" + (a.message ? "\n\n" + a.message : "") + (a.hint ? "\n\n" + a.hint : "") + "\n\nContext: " + a.context)
        },
        _alert: function (a) {
            alert("jPlayer " + this.version.script + " : id='" + this.internal.self.id + "' : " + a)
        },
        _emulateHtmlBridge: function () {
            var a = this;
            b.each(b.jPlayer.emulateMethods.split(/\s+/g), function (b, d) {
                a.internal.domNode[d] = function (b) {
                    a[d](b)
                }
            });
            b.each(b.jPlayer.event, function (c, d) {
                var e = !0;
                b.each(b.jPlayer.reservedEvent.split(/\s+/g), function (a, b) {
                    if (b === c) return e = !1
                });
                e && a.element.bind(d + ".jPlayer.jPlayerHtml", function () {
                    a._emulateHtmlUpdate();
                    var b = document.createEvent("Event");
                    b.initEvent(c, !1, !0);
                    a.internal.domNode.dispatchEvent(b)
                })
            })
        },
        _emulateHtmlUpdate: function () {
            var a = this;
            b.each(b.jPlayer.emulateStatus.split(/\s+/g), function (b, d) {
                a.internal.domNode[d] = a.status[d]
            });
            b.each(b.jPlayer.emulateOptions.split(/\s+/g), function (b, d) {
                a.internal.domNode[d] = a.options[d]
            })
        },
        _destroyHtmlBridge: function () {
            var a = this;
            this.element.unbind(".jPlayerHtml");
            b.each((b.jPlayer.emulateMethods + " " + b.jPlayer.emulateStatus + " " + b.jPlayer.emulateOptions).split(/\s+/g), function (b, d) {
                delete a.internal.domNode[d]
            })
        }
    };
    b.jPlayer.error = {
        FLASH: "e_flash",
        FLASH_DISABLED: "e_flash_disabled",
        NO_SOLUTION: "e_no_solution",
        NO_SUPPORT: "e_no_support",
        URL: "e_url",
        URL_NOT_SET: "e_url_not_set",
        VERSION: "e_version"
    };
    b.jPlayer.errorMsg = {
        FLASH: "jPlayer's Flash fallback is not configured correctly, or a command was issued before the jPlayer Ready event. Details: ",
        FLASH_DISABLED: "jPlayer's Flash fallback has been disabled by the browser due to the CSS rules you have used. Details: ",
        NO_SOLUTION: "No solution can be found by jPlayer in this browser. Neither HTML nor Flash can be used.",
        NO_SUPPORT: "It is not possible to play any media format provided in setMedia() on this browser using your current options.",
        URL: "Media URL could not be loaded.",
        URL_NOT_SET: "Attempt to issue media playback commands, while no media url is set.",
        VERSION: "jPlayer " + b.jPlayer.prototype.version.script + " needs Jplayer.swf version " + b.jPlayer.prototype.version.needFlash + " but found "
    };
    b.jPlayer.errorHint = {
        FLASH: "Check your swfPath option and that Jplayer.swf is there.",
        FLASH_DISABLED: "Check that you have not display:none; the jPlayer entity or any ancestor.",
        NO_SOLUTION: "Review the jPlayer options: support and supplied.",
        NO_SUPPORT: "Video or audio formats defined in the supplied option are missing.",
        URL: "Check media URL is valid.",
        URL_NOT_SET: "Use setMedia() to set the media URL.",
        VERSION: "Update jPlayer files."
    };
    b.jPlayer.warning = {
        CSS_SELECTOR_COUNT: "e_css_selector_count",
        CSS_SELECTOR_METHOD: "e_css_selector_method",
        CSS_SELECTOR_STRING: "e_css_selector_string",
        OPTION_KEY: "e_option_key"
    };
    b.jPlayer.warningMsg = {
        CSS_SELECTOR_COUNT: "The number of css selectors found did not equal one: ",
        CSS_SELECTOR_METHOD: "The methodName given in jPlayer('cssSelector') is not a valid jPlayer method.",
        CSS_SELECTOR_STRING: "The methodCssSelector given in jPlayer('cssSelector') is not a String or is empty.",
        OPTION_KEY: "The option requested in jPlayer('option') is undefined."
    };
    b.jPlayer.warningHint = {
        CSS_SELECTOR_COUNT: "Check your css selector and the ancestor.",
        CSS_SELECTOR_METHOD: "Check your method name.",
        CSS_SELECTOR_STRING: "Check your css selector is a string.",
        OPTION_KEY: "Check your option name."
    }
})(jQuery);


// Backbone.js 0.3.3
// (c) 2010 Jeremy Ashkenas, DocumentCloud Inc.
// Backbone may be freely distributed under the MIT license.
// For all details and documentation:
// http://documentcloud.github.com/backbone
(function () {
    var e;
    e = typeof exports !== "undefined" ? exports : this.Backbone = {};
    e.VERSION = "0.3.3";
    var f = this._;
    if (!f && typeof require !== "undefined") f = require("underscore")._;
    var h = this.jQuery || this.Zepto;
    e.emulateHTTP = false;
    e.emulateJSON = false;
    e.Events = {
        bind: function (a, b) {
            this._callbacks || (this._callbacks = {});
            (this._callbacks[a] || (this._callbacks[a] = [])).push(b);
            return this
        },
        unbind: function (a, b) {
            var c;
            if (a) {
                if (c = this._callbacks) if (b) {
                    c = c[a];
                    if (!c) return this;
                    for (var d = 0, g = c.length; d < g; d++) if (b === c[d]) {
                        c.splice(d, 1);
                        break
                    }
                } else c[a] = []
            } else this._callbacks = {};
            return this
        },
        trigger: function (a) {
            var b, c, d, g;
            if (!(c = this._callbacks)) return this;
            if (b = c[a]) {
                d = 0;
                for (g = b.length; d < g; d++) b[d].apply(this, Array.prototype.slice.call(arguments, 1))
            }
            if (b = c.all) {
                d = 0;
                for (g = b.length; d < g; d++) b[d].apply(this, arguments)
            }
            return this
        }
    };
    e.Model = function (a, b) {
        a || (a = {});
        if (this.defaults) a = f.extend({}, this.defaults, a);
        this.attributes = {};
        this._escapedAttributes = {};
        this.cid = f.uniqueId("c");
        this.set(a, {
            silent: true
        });
        this._previousAttributes = f.clone(this.attributes);
        if (b && b.collection) this.collection = b.collection;
        this.initialize(a, b)
    };
    f.extend(e.Model.prototype, e.Events, {
        _previousAttributes: null,
        _changed: false,
        initialize: function () {},
        toJSON: function () {
            return f.clone(this.attributes)
        },
        get: function (a) {
            return this.attributes[a]
        },
        escape: function (a) {
            var b;
            if (b = this._escapedAttributes[a]) return b;
            b = this.attributes[a];
            return this._escapedAttributes[a] = (b == null ? "" : b).replace(/&(?!\w+;)/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/"/g, "&quot;")
        },
        set: function (a, b) {
            b || (b = {});
            if (!a) return this;
            if (a.attributes) a = a.attributes;
            var c = this.attributes,
                d = this._escapedAttributes;
            if (!b.silent && this.validate && !this._performValidation(a, b)) return false;
            if ("id" in a) this.id = a.id;
            for (var g in a) {
                var i = a[g];
                if (!f.isEqual(c[g], i)) {
                    c[g] = i;
                    delete d[g];
                    if (!b.silent) {
                        this._changed = true;
                        this.trigger("change:" + g, this, i, b)
                    }
                }
            }!b.silent && this._changed && this.change(b);
            return this
        },
        unset: function (a, b) {
            b || (b = {});
            var c = {};
            c[a] = void 0;
            if (!b.silent && this.validate && !this._performValidation(c, b)) return false;
            delete this.attributes[a];
            delete this._escapedAttributes[a];
            if (!b.silent) {
                this._changed = true;
                this.trigger("change:" + a, this, void 0, b);
                this.change(b)
            }
            return this
        },
        clear: function (a) {
            a || (a = {});
            var b = this.attributes,
                c = {};
            for (attr in b) c[attr] = void 0;
            if (!a.silent && this.validate && !this._performValidation(c, a)) return false;
            this.attributes = {};
            this._escapedAttributes = {};
            if (!a.silent) {
                this._changed = true;
                for (attr in b) this.trigger("change:" + attr, this, void 0, a);
                this.change(a)
            }
            return this
        },
        fetch: function (a) {
            a || (a = {});
            var b = this,
                c = j(a.error, b, a);
            (this.sync || e.sync)("read", this, function (d) {
                if (!b.set(b.parse(d), a)) return false;
                a.success && a.success(b, d)
            }, c);
            return this
        },
        save: function (a, b) {
            b || (b = {});
            if (a && !this.set(a, b)) return false;
            var c = this,
                d = j(b.error, c, b),
                g = this.isNew() ? "create" : "update";
            (this.sync || e.sync)(g, this, function (i) {
                if (!c.set(c.parse(i), b)) return false;
                b.success && b.success(c, i)
            }, d);
            return this
        },
        destroy: function (a) {
            a || (a = {});
            var b = this,
                c = j(a.error, b, a);
            (this.sync || e.sync)("delete", this, function (d) {
                b.collection && b.collection.remove(b);
                a.success && a.success(b, d)
            }, c);
            return this
        },
        url: function () {
            var a = k(this.collection);
            if (this.isNew()) return a;
            return a + (a.charAt(a.length - 1) == "/" ? "" : "/") + this.id
        },
        parse: function (a) {
            return a
        },
        clone: function () {
            return new this.constructor(this)
        },
        isNew: function () {
            return !this.id
        },
        change: function (a) {
            this.trigger("change", this, a);
            this._previousAttributes = f.clone(this.attributes);
            this._changed = false
        },
        hasChanged: function (a) {
            if (a) return this._previousAttributes[a] != this.attributes[a];
            return this._changed
        },
        changedAttributes: function (a) {
            a || (a = this.attributes);
            var b = this._previousAttributes,
                c = false,
                d;
            for (d in a) if (!f.isEqual(b[d], a[d])) {
                c = c || {};
                c[d] = a[d]
            }
            return c
        },
        previous: function (a) {
            if (!a || !this._previousAttributes) return null;
            return this._previousAttributes[a]
        },
        previousAttributes: function () {
            return f.clone(this._previousAttributes)
        },
        _performValidation: function (a, b) {
            var c = this.validate(a);
            if (c) {
                b.error ? b.error(this, c) : this.trigger("error", this, c, b);
                return false
            }
            return true
        }
    });
    e.Collection = function (a, b) {
        b || (b = {});
        if (b.comparator) {
            this.comparator = b.comparator;
            delete b.comparator
        }
        this._boundOnModelEvent = f.bind(this._onModelEvent, this);
        this._reset();
        a && this.refresh(a, {
            silent: true
        });
        this.initialize(a, b)
    };
    f.extend(e.Collection.prototype, e.Events, {
        model: e.Model,
        initialize: function () {},
        toJSON: function () {
            return this.map(function (a) {
                return a.toJSON()
            })
        },
        add: function (a, b) {
            if (f.isArray(a)) for (var c = 0, d = a.length; c < d; c++) this._add(a[c], b);
            else this._add(a, b);
            return this
        },
        remove: function (a, b) {
            if (f.isArray(a)) for (var c = 0, d = a.length; c < d; c++) this._remove(a[c], b);
            else this._remove(a, b);
            return this
        },
        get: function (a) {
            if (a == null) return null;
            return this._byId[a.id != null ? a.id : a]
        },
        getByCid: function (a) {
            return a && this._byCid[a.cid || a]
        },
        at: function (a) {
            return this.models[a]
        },
        sort: function (a) {
            a || (a = {});
            if (!this.comparator) throw Error("Cannot sort a set without a comparator");
            this.models = this.sortBy(this.comparator);
            a.silent || this.trigger("refresh", this, a);
            return this
        },
        pluck: function (a) {
            return f.map(this.models, function (b) {
                return b.get(a)
            })
        },
        refresh: function (a, b) {
            a || (a = []);
            b || (b = {});
            this._reset();
            this.add(a, {
                silent: true
            });
            b.silent || this.trigger("refresh", this, b);
            return this
        },
        fetch: function (a) {
            a || (a = {});
            var b = this,
                c = j(a.error, b, a);
            (this.sync || e.sync)("read", this, function (d) {
                b.refresh(b.parse(d));
                a.success && a.success(b, d)
            }, c);
            return this
        },
        create: function (a, b) {
            var c = this;
            b || (b = {});
            if (a instanceof e.Model) a.collection = c;
            else a = new this.model(a, {
                collection: c
            });
            return a.save(null, {
                success: function (d, g) {
                    c.add(d);
                    b.success && b.success(d, g)
                },
                error: b.error
            })
        },
        parse: function (a) {
            return a
        },
        chain: function () {
            return f(this.models).chain()
        },
        _reset: function () {
            this.length = 0;
            this.models = [];
            this._byId = {};
            this._byCid = {}
        },
        _add: function (a, b) {
            b || (b = {});
            a instanceof e.Model || (a = new this.model(a, {
                collection: this
            }));
            var c = this.getByCid(a);
            if (c) throw Error(["Can't add the same model to a set twice", c.id]);
            this._byId[a.id] = a;
            this._byCid[a.cid] = a;
            a.collection = this;
            this.models.splice(this.comparator ? this.sortedIndex(a, this.comparator) : this.length, 0, a);
            a.bind("all", this._boundOnModelEvent);
            this.length++;
            b.silent || a.trigger("add", a, this, b);
            return a
        },
        _remove: function (a, b) {
            b || (b = {});
            a = this.getByCid(a) || this.get(a);
            if (!a) return null;
            delete this._byId[a.id];
            delete this._byCid[a.cid];
            delete a.collection;
            this.models.splice(this.indexOf(a), 1);
            this.length--;
            b.silent || a.trigger("remove", a, this, b);
            a.unbind("all", this._boundOnModelEvent);
            return a
        },
        _onModelEvent: function (a, b) {
            if (a === "change:id") {
                delete this._byId[b.previous("id")];
                this._byId[b.id] = b
            }
            this.trigger.apply(this, arguments)
        }
    });
    f.each(["forEach", "each", "map", "reduce", "reduceRight", "find", "detect", "filter", "select", "reject", "every", "all", "some", "any", "include", "invoke", "max", "min", "sortBy", "sortedIndex", "toArray", "size", "first", "rest", "last", "without", "indexOf", "lastIndexOf", "isEmpty"], function (a) {
        e.Collection.prototype[a] = function () {
            return f[a].apply(f, [this.models].concat(f.toArray(arguments)))
        }
    });
    e.Controller = function (a) {
        a || (a = {});
        if (a.routes) this.routes = a.routes;
        this._bindRoutes();
        this.initialize(a)
    };
    var o = /:([\w\d]+)/g,
        p = /\*([\w\d]+)/g;
    f.extend(e.Controller.prototype, e.Events, {
        initialize: function () {},
        route: function (a, b, c) {
            e.history || (e.history = new e.History);
            f.isRegExp(a) || (a = this._routeToRegExp(a));
            e.history.route(a, f.bind(function (d) {
                d = this._extractParameters(a, d);
                c.apply(this, d);
                this.trigger.apply(this, ["route:" + b].concat(d))
            }, this))
        },
        saveLocation: function (a) {
            e.history.saveLocation(a)
        },
        _bindRoutes: function () {
            if (this.routes) for (var a in this.routes) {
                var b = this.routes[a];
                this.route(a, b, this[b])
            }
        },
        _routeToRegExp: function (a) {
            a = a.replace(o, "([^/]*)").replace(p, "(.*?)");
            return RegExp("^" + a + "$")
        },
        _extractParameters: function (a, b) {
            return a.exec(b).slice(1)
        }
    });
    e.History = function () {
        this.handlers = [];
        this.fragment = this.getFragment();
        f.bindAll(this, "checkUrl")
    };
    var l = /^#*/;
    f.extend(e.History.prototype, {
        interval: 50,
        getFragment: function (a) {
            return (a || window.location).hash.replace(l, "")
        },
        start: function () {
            var a = document.documentMode;
            if (a = h.browser.msie && (!a || a <= 7)) this.iframe = h('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow;
            "onhashchange" in window && !a ? h(window).bind("hashchange", this.checkUrl) : setInterval(this.checkUrl, this.interval);
            return this.loadUrl()
        },
        route: function (a, b) {
            this.handlers.push({
                route: a,
                callback: b
            })
        },
        checkUrl: function () {
            var a = this.getFragment();
            if (a == this.fragment && this.iframe) a = this.getFragment(this.iframe.location);
            if (a == this.fragment || a == decodeURIComponent(this.fragment)) return false;
            if (this.iframe) window.location.hash = this.iframe.location.hash = a;
            this.loadUrl()
        },
        loadUrl: function () {
            var a = this.fragment = this.getFragment();
            return f.any(this.handlers, function (b) {
                if (b.route.test(a)) {
                    b.callback(a);
                    return true
                }
            })
        },
        saveLocation: function (a) {
            a = (a || "").replace(l, "");
            if (this.fragment != a) {
                window.location.hash = this.fragment = a;
                if (this.iframe && a != this.getFragment(this.iframe.location)) {
                    this.iframe.document.open().close();
                    this.iframe.location.hash = a
                }
            }
        }
    });
    e.View = function (a) {
        this._configure(a || {});
        this._ensureElement();
        this.delegateEvents();
        this.initialize(a)
    };
    var q = /^(\w+)\s*(.*)$/;
    f.extend(e.View.prototype, e.Events, {
        tagName: "div",
        $: function (a) {
            return h(a, this.el)
        },
        initialize: function () {},
        render: function () {
            return this
        },
        remove: function () {
            h(this.el).remove();
            return this
        },
        make: function (a, b, c) {
            a = document.createElement(a);
            b && h(a).attr(b);
            c && h(a).html(c);
            return a
        },
        delegateEvents: function (a) {
            if (a || (a = this.events)) {
                h(this.el).unbind();
                for (var b in a) {
                    var c = a[b],
                        d = b.match(q),
                        g = d[1];
                    d = d[2];
                    c = f.bind(this[c], this);
                    d === "" ? h(this.el).bind(g, c) : h(this.el).delegate(d, g, c)
                }
            }
        },
        _configure: function (a) {
            if (this.options) a = f.extend({}, this.options, a);
            if (a.model) this.model = a.model;
            if (a.collection) this.collection = a.collection;
            if (a.el) this.el = a.el;
            if (a.id) this.id = a.id;
            if (a.className) this.className = a.className;
            if (a.tagName) this.tagName = a.tagName;
            this.options = a
        },
        _ensureElement: function () {
            if (!this.el) {
                var a = {};
                if (this.id) a.id = this.id;
                if (this.className) a["class"] = this.className;
                this.el = this.make(this.tagName, a)
            }
        }
    });
    var m = function (a, b) {
            var c = r(this, a, b);
            c.extend = m;
            return c
        };
    e.Model.extend = e.Collection.extend = e.Controller.extend = e.View.extend = m;
    var s = {
        create: "POST",
        update: "PUT",
        "delete": "DELETE",
        read: "GET"
    };
    e.sync = function (a, b, c, d) {
        var g = s[a];
        a = a === "create" || a === "update" ? JSON.stringify(b.toJSON()) : null;
        b = {
            url: k(b),
            type: g,
            contentType: "application/json",
            data: a,
            dataType: "json",
            processData: false,
            success: c,
            error: d
        };
        if (e.emulateJSON) {
            b.contentType = "application/x-www-form-urlencoded";
            b.processData = true;
            b.data = a ? {
                model: a
            } : {}
        }
        if (e.emulateHTTP) if (g === "PUT" || g === "DELETE") {
            if (e.emulateJSON) b.data._method = g;
            b.type = "POST";
            b.beforeSend = function (i) {
                i.setRequestHeader("X-HTTP-Method-Override", g)
            }
        }
        h.ajax(b)
    };
    var n = function () {},
        r = function (a, b, c) {
            var d;
            d = b && b.hasOwnProperty("constructor") ? b.constructor : function () {
                return a.apply(this, arguments)
            };
            n.prototype = a.prototype;
            d.prototype = new n;
            b && f.extend(d.prototype, b);
            c && f.extend(d, c);
            d.prototype.constructor = d;
            d.__super__ = a.prototype;
            return d
        },
        k = function (a) {
            if (!(a && a.url)) throw Error("A 'url' property or function must be specified");
            return f.isFunction(a.url) ? a.url() : a.url
        },
        j = function (a, b, c) {
            return function (d) {
                a ? a(b, d) : b.trigger("error", b, d, c)
            }
        }
})();


/*
 * jQuery Address Plugin v1.4.1
 * http://www.asual.com/jquery/address/
 *
 * Copyright (c) 2009-2010 Rostislav Hristov
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * Date: 2011-05-25 10:58:52 -0700 (Wed, 25 May 2011)
 */
(function (c) {
    c.address = function () {
        var v = function (a) {
                c(c.address).trigger(c.extend(c.Event(a), function () {
                    for (var b = {}, e = c.address.parameterNames(), k = 0, r = e.length; k < r; k++) b[e[k]] = c.address.parameter(e[k]);
                    return {
                        value: c.address.value(),
                        path: c.address.path(),
                        pathNames: c.address.pathNames(),
                        parameterNames: e,
                        parameters: b,
                        queryString: c.address.queryString()
                    }
                }.call(c.address)))
            },
            w = function (a) {
                return Array.prototype.slice.call(a)
            },
            p = function () {
                c().bind.apply(c(c.address), Array.prototype.slice.call(arguments));
                return c.address
            },
            s = function () {
                return L.pushState && d.state !== j
            },
            V = function () {
                return ("/" + f.pathname.replace(new RegExp(d.state), "") + f.search + (D() ? "#" + D() : "")).replace(U, "/")
            },
            D = function () {
                var a = f.href.indexOf("#");
                return a != -1 ? B(f.href.substr(a + 1), l) : ""
            },
            u = function () {
                return s() ? V() : D()
            },
            ha = function () {
                return "javascript"
            },
            M = function (a) {
                a = a.toString();
                return (d.strict && a.substr(0, 1) != "/" ? "/" : "") + a
            },
            B = function (a, b) {
                if (d.crawlable && b) return (a !== "" ? "!" : "") + a;
                return a.replace(/^\!/, "")
            },
            x = function (a, b) {
                return parseInt(a.css(b), 10)
            },
            F = function () {
                if (!J) {
                    var a = u();
                    if (g != a) if (y && q < 7) f.reload();
                    else {
                        y && q < 8 && d.history && t(N, 50);
                        g = a;
                        E(l)
                    }
                }
            },
            E = function (a) {
                v(W);
                v(a ? X : Y);
                t(Z, 10)
            },
            Z = function () {
                if (d.tracker !== "null" && d.tracker !== null) {
                    var a = c.isFunction(d.tracker) ? d.tracker : h[d.tracker],
                        b = (f.pathname + f.search + (c.address && !s() ? c.address.value() : "")).replace(/\/\//, "/").replace(/^\/$/, "");
                    if (c.isFunction(a)) a(b);
                    else if (c.isFunction(h.urchinTracker)) h.urchinTracker(b);
                    else if (h.pageTracker !== j && c.isFunction(h.pageTracker._trackPageview)) h.pageTracker._trackPageview(b);
                    else h._gaq !== j && c.isFunction(h._gaq.push) && h._gaq.push(["_trackPageview", decodeURI(b)])
                }
            },
            N = function () {
                var a = ha() + ":" + l + ";document.open();document.writeln('<html><head><title>" + n.title.replace("'", "\\'") + "</title><script>var " + C + ' = "' + encodeURIComponent(u()) + (n.domain != f.hostname ? '";document.domain="' + n.domain : "") + "\";<\/script></head></html>');document.close();";
                if (q < 7) m.src = a;
                else m.contentWindow.location.replace(a)
            },
            aa = function () {
                if (G && $ != -1) {
                    var a, b = G.substr($ + 1).split("&");
                    for (i = 0; i < b.length; i++) {
                        a = b[i].split("=");
                        if (/^(autoUpdate|crawlable|history|strict|wrap)$/.test(a[0])) d[a[0]] = isNaN(a[1]) ? /^(true|yes)$/i.test(a[1]) : parseInt(a[1], 10) !== 0;
                        if (/^(state|tracker)$/.test(a[0])) d[a[0]] = a[1]
                    }
                    G = null
                }
                g = u()
            },
            ca = function () {
                if (!ba) {
                    ba = o;
                    aa();
                    var a = function () {
                            ia.call(this);
                            ja.call(this)
                        },
                        b = c("body").ajaxComplete(a);
                    a();
                    if (d.wrap) {
                        c("body > *").wrapAll('<div style="padding:' + (x(b, "marginTop") + x(b, "paddingTop")) + "px " + (x(b, "marginRight") + x(b, "paddingRight")) + "px " + (x(b, "marginBottom") + x(b, "paddingBottom")) + "px " + (x(b, "marginLeft") + x(b, "paddingLeft")) + 'px;" />').parent().wrap('<div id="' + C + '" style="height:100%;overflow:auto;position:relative;' + (H && !window.statusbar.visible ? "resize:both;" : "") + '" />');
                        c("html, body").css({
                            height: "100%",
                            margin: 0,
                            padding: 0,
                            overflow: "hidden"
                        });
                        H && c('<style type="text/css" />').appendTo("head").text("#" + C + "::-webkit-resizer { background-color: #fff; }")
                    }
                    if (y && q < 8) {
                        a = n.getElementsByTagName("frameset")[0];
                        m = n.createElement((a ? "" : "i") + "frame");
                        if (a) {
                            a.insertAdjacentElement("beforeEnd", m);
                            a[a.cols ? "cols" : "rows"] += ",0";
                            m.noResize = o;
                            m.frameBorder = m.frameSpacing = 0
                        } else {
                            m.style.display = "none";
                            m.style.width = m.style.height = 0;
                            m.tabIndex = -1;
                            n.body.insertAdjacentElement("afterBegin", m)
                        }
                        t(function () {
                            c(m).bind("load", function () {
                                var e = m.contentWindow;
                                g = e[C] !== j ? e[C] : "";
                                if (g != u()) {
                                    E(l);
                                    f.hash = B(g, o)
                                }
                            });
                            m.contentWindow[C] === j && N()
                        }, 50)
                    }
                    t(function () {
                        v("init");
                        E(l)
                    }, 1);
                    if (!s()) if (y && q > 7 || !y && "on" + I in h) if (h.addEventListener) h.addEventListener(I, F, l);
                    else h.attachEvent && h.attachEvent("on" + I, F);
                    else ka(F, 50)
                }
            },
            ia = function () {
                var a, b = c("a"),
                    e = b.size(),
                    k = -1,
                    r = function () {
                        if (++k != e) {
                            a = c(b.get(k));
                            a.is('[rel*="address:"]') && a.address();
                            t(r, 1)
                        }
                    };
                t(r, 1)
            },
            la = function () {
                if (g != u()) {
                    g = u();
                    E(l)
                }
            },
            ma = function () {
                if (h.removeEventListener) h.removeEventListener(I, F, l);
                else h.detachEvent && h.detachEvent("on" + I, F)
            },
            ja = function () {
                if (d.crawlable) {
                    var a = f.pathname.replace(/\/$/, "");
                    c("body").html().indexOf("_escaped_fragment_") != -1 && c('a[href]:not([href^=http]), a[href*="' + document.domain + '"]').each(function () {
                        var b = c(this).attr("href").replace(/^http:/, "").replace(new RegExp(a + "/?$"), "");
                        if (b === "" || b.indexOf("_escaped_fragment_") != -1) c(this).attr("href", "#" + b.replace(/\/(.*)\?_escaped_fragment_=(.*)$/, "!$2"))
                    })
                }
            },
            j, C = "jQueryAddress",
            I = "hashchange",
            W = "change",
            X = "internalChange",
            Y = "externalChange",
            o = true,
            l = false,
            d = {
                autoUpdate: o,
                crawlable: l,
                history: o,
                strict: o,
                wrap: l
            },
            z = c.browser,
            q = parseFloat(c.browser.version),
            da = z.mozilla,
            y = z.msie,
            ea = z.opera,
            H = z.webkit || z.safari,
            O = l,
            h = function () {
                try {
                    return top.document !== j ? top : window
                } catch (a) {
                    return window
                }
            }(),
            n = h.document,
            L = h.history,
            f = h.location,
            ka = setInterval,
            t = setTimeout,
            U = /\/{2,9}/g;
        z = navigator.userAgent;
        var m, G = c("script:last").attr("src"),
            $ = G ? G.indexOf("?") : -1,
            P = n.title,
            J = l,
            ba = l,
            Q = o,
            fa = o,
            K = l,
            g = u();
        if (y) {
            q = parseFloat(z.substr(z.indexOf("MSIE") + 4));
            if (n.documentMode && n.documentMode != q) q = n.documentMode != 8 ? 7 : 8;
            var ga = n.onpropertychange;
            n.onpropertychange = function () {
                ga && ga.call(n);
                if (n.title != P && n.title.indexOf("#" + u()) != -1) n.title = P
            }
        }
        if (O = da && q >= 1 || y && q >= 6 || ea && q >= 9.5 || H && q >= 523) {
            if (ea) history.navigationMode = "compatible";
            if (document.readyState == "complete") var na = setInterval(function () {
                if (c.address) {
                    ca();
                    clearInterval(na)
                }
            }, 50);
            else {
                aa();
                c(ca)
            }
            c(window).bind("popstate", la).bind("unload", ma)
        } else!O && D() !== "" ? f.replace(f.href.substr(0, f.href.indexOf("#"))) : Z();
        return {
            bind: function () {
                return p.apply(this, w(arguments))
            },
            init: function () {
                return p.apply(this, ["init"].concat(w(arguments)))
            },
            change: function () {
                return p.apply(this, [W].concat(w(arguments)))
            },
            internalChange: function () {
                return p.apply(this, [X].concat(w(arguments)))
            },
            externalChange: function () {
                return p.apply(this, [Y].concat(w(arguments)))
            },
            baseURL: function () {
                var a = f.href;
                if (a.indexOf("#") != -1) a = a.substr(0, a.indexOf("#"));
                if (/\/$/.test(a)) a = a.substr(0, a.length - 1);
                return a
            },
            autoUpdate: function (a) {
                if (a !== j) {
                    d.autoUpdate = a;
                    return this
                }
                return d.autoUpdate
            },
            crawlable: function (a) {
                if (a !== j) {
                    d.crawlable = a;
                    return this
                }
                return d.crawlable
            },
            history: function (a) {
                if (a !== j) {
                    d.history = a;
                    return this
                }
                return d.history
            },
            state: function (a) {
                if (a !== j) {
                    d.state = a;
                    var b = V();
                    if (d.state !== j) if (L.pushState) b.substr(0, 3) == "/#/" && f.replace(d.state.replace(/^\/$/, "") + b.substr(2));
                    else b != "/" && b.replace(/^\/#/, "") != D() && t(function () {
                        f.replace(d.state.replace(/^\/$/, "") + "/#" + b)
                    }, 1);
                    return this
                }
                return d.state
            },
            strict: function (a) {
                if (a !== j) {
                    d.strict = a;
                    return this
                }
                return d.strict
            },
            tracker: function (a) {
                if (a !== j) {
                    d.tracker = a;
                    return this
                }
                return d.tracker
            },
            wrap: function (a) {
                if (a !== j) {
                    d.wrap = a;
                    return this
                }
                return d.wrap
            },
            update: function () {
                K = o;
                this.value(g);
                K = l;
                return this
            },
            title: function (a) {
                if (a !== j) {
                    t(function () {
                        P = n.title = a;
                        if (fa && m && m.contentWindow && m.contentWindow.document) {
                            m.contentWindow.document.title = a;
                            fa = l
                        }
                        if (!Q && da) f.replace(f.href.indexOf("#") != -1 ? f.href : f.href + "#");
                        Q = l
                    }, 50);
                    return this
                }
                return n.title
            },
            value: function (a) {
                if (a !== j) {
                    a = M(a);
                    if (a == "/") a = "";
                    if (g == a && !K) return;
                    Q = o;
                    g = a;
                    if (d.autoUpdate || K) {
                        E(o);
                        if (s()) L[d.history ? "pushState" : "replaceState"]({}, "", d.state.replace(/\/$/, "") + (g === "" ? "/" : g));
                        else {
                            J = o;
                            if (H) if (d.history) f.hash = "#" + B(g, o);
                            else f.replace("#" + B(g, o));
                            else if (g != u()) if (d.history) f.hash = "#" + B(g, o);
                            else f.replace("#" + B(g, o));
                            y && q < 8 && d.history && t(N, 50);
                            if (H) t(function () {
                                J = l
                            }, 1);
                            else J = l
                        }
                    }
                    return this
                }
                if (!O) return null;
                return M(g)
            },
            path: function (a) {
                if (a !== j) {
                    var b = this.queryString(),
                        e = this.hash();
                    this.value(a + (b ? "?" + b : "") + (e ? "#" + e : ""));
                    return this
                }
                return M(g).split("#")[0].split("?")[0]
            },
            pathNames: function () {
                var a = this.path(),
                    b = a.replace(U, "/").split("/");
                if (a.substr(0, 1) == "/" || a.length === 0) b.splice(0, 1);
                a.substr(a.length - 1, 1) == "/" && b.splice(b.length - 1, 1);
                return b
            },
            queryString: function (a) {
                if (a !== j) {
                    var b = this.hash();
                    this.value(this.path() + (a ? "?" + a : "") + (b ? "#" + b : ""));
                    return this
                }
                a = g.split("?");
                return a.slice(1, a.length).join("?").split("#")[0]
            },
            parameter: function (a, b, e) {
                var k, r;
                if (b !== j) {
                    var R = this.parameterNames();
                    r = [];
                    b = b ? b.toString() : "";
                    for (k = 0; k < R.length; k++) {
                        var S = R[k],
                            A = this.parameter(S);
                        if (typeof A == "string") A = [A];
                        if (S == a) A = b === null || b === "" ? [] : e ? A.concat([b]) : [b];
                        for (var T = 0; T < A.length; T++) r.push(S + "=" + A[T])
                    }
                    c.inArray(a, R) == -1 && b !== null && b !== "" && r.push(a + "=" + b);
                    this.queryString(r.join("&"));
                    return this
                }
                if (b = this.queryString()) {
                    e = [];
                    r = b.split("&");
                    for (k = 0; k < r.length; k++) {
                        b = r[k].split("=");
                        b[0] == a && e.push(b.slice(1).join("="))
                    }
                    if (e.length !== 0) return e.length != 1 ? e : e[0]
                }
            },
            parameterNames: function () {
                var a = this.queryString(),
                    b = [];
                if (a && a.indexOf("=") != -1) {
                    a = a.split("&");
                    for (var e = 0; e < a.length; e++) {
                        var k = a[e].split("=")[0];
                        c.inArray(k, b) == -1 && b.push(k)
                    }
                }
                return b
            },
            hash: function (a) {
                if (a !== j) {
                    this.value(g.split("#")[0] + (a ? "#" + a : ""));
                    return this
                }
                a = g.split("#");
                return a.slice(1, a.length).join("#")
            }
        }
    }();
    c.fn.address = function (v) {
        if (!c(this).attr("address")) {
            var w = function (p) {
                    if (p.shiftKey || p.ctrlKey || p.metaKey || p.which == 2) return true;
                    if (c(this).is("a")) {
                        var s = v ? v.call(this) : /address:/.test(c(this).attr("rel")) ? c(this).attr("rel").split("address:")[1].split(" ")[0] : c.address.state() !== undefined && c.address.state() != "/" ? c(this).attr("href").replace(new RegExp("^(.*" + c.address.state() + "|\\.)"), "") : c(this).attr("href").replace(/^(#\!?|\.)/, "");
                        c.address.value(s);
                        p.preventDefault()
                    }
                };
            c(this).click(w).live("click", w).live("submit", function (p) {
                if (c(this).is("form")) {
                    var s = c(this).attr("action");
                    s = v ? v.call(this) : (s.indexOf("?") != -1 ? s.replace(/&$/, "") : s + "?") + c(this).serialize();
                    c.address.value(s);
                    p.preventDefault()
                }
            }).attr("address", true)
        }
        return this
    }
})(jQuery);


(function (a) {
    var r = a.fn.domManip,
        d = "_tmplitem",
        q = /^[^<]*(<[\w\W]+>)[^>]*$|\{\{\! /,
        b = {},
        f = {},
        e, p = {
            key: 0,
            data: {}
        },
        h = 0,
        c = 0,
        l = [];

    function g(e, d, g, i) {
        var c = {
            data: i || (d ? d.data : {}),
            _wrap: d ? d._wrap : null,
            tmpl: null,
            parent: d || null,
            nodes: [],
            calls: u,
            nest: w,
            wrap: x,
            html: v,
            update: t
        };
        e && a.extend(c, e, {
            nodes: [],
            parent: d
        });
        if (g) {
            c.tmpl = g;
            c._ctnt = c._ctnt || c.tmpl(a, c);
            c.key = ++h;
            (l.length ? f : b)[h] = c
        }
        return c
    }
    a.each({
        appendTo: "append",
        prependTo: "prepend",
        insertBefore: "before",
        insertAfter: "after",
        replaceAll: "replaceWith"
    }, function (f, d) {
        a.fn[f] = function (n) {
            var g = [],
                i = a(n),
                k, h, m, l, j = this.length === 1 && this[0].parentNode;
            e = b || {};
            if (j && j.nodeType === 11 && j.childNodes.length === 1 && i.length === 1) {
                i[d](this[0]);
                g = this
            } else {
                for (h = 0, m = i.length; h < m; h++) {
                    c = h;
                    k = (h > 0 ? this.clone(true) : this).get();
                    a.fn[d].apply(a(i[h]), k);
                    g = g.concat(k)
                }
                c = 0;
                g = this.pushStack(g, f, i.selector)
            }
            l = e;
            e = null;
            a.tmpl.complete(l);
            return g
        }
    });
    a.fn.extend({
        tmpl: function (d, c, b) {
            return a.tmpl(this[0], d, c, b)
        },
        tmplItem: function () {
            return a.tmplItem(this[0])
        },
        template: function (b) {
            return a.template(b, this[0])
        },
        domManip: function (d, l, j) {
            if (d[0] && d[0].nodeType) {
                var f = a.makeArray(arguments),
                    g = d.length,
                    i = 0,
                    h;
                while (i < g && !(h = a.data(d[i++], "tmplItem")));
                if (g > 1) f[0] = [a.makeArray(d)];
                if (h && c) f[2] = function (b) {
                    a.tmpl.afterManip(this, b, j)
                };
                r.apply(this, f)
            } else r.apply(this, arguments);
            c = 0;
            !e && a.tmpl.complete(b);
            return this
        }
    });
    a.extend({
        tmpl: function (d, h, e, c) {
            var j, k = !c;
            if (k) {
                c = p;
                d = a.template[d] || a.template(null, d);
                f = {}
            } else if (!d) {
                d = c.tmpl;
                b[c.key] = c;
                c.nodes = [];
                c.wrapped && n(c, c.wrapped);
                return a(i(c, null, c.tmpl(a, c)))
            }
            if (!d) return [];
            if (typeof h === "function") h = h.call(c || {});
            e && e.wrapped && n(e, e.wrapped);
            j = a.isArray(h) ? a.map(h, function (a) {
                return a ? g(e, c, d, a) : null
            }) : [g(e, c, d, h)];
            return k ? a(i(c, null, j)) : j
        },
        tmplItem: function (b) {
            var c;
            if (b instanceof a) b = b[0];
            while (b && b.nodeType === 1 && !(c = a.data(b, "tmplItem")) && (b = b.parentNode));
            return c || p
        },
        template: function (c, b) {
            if (b) {
                if (typeof b === "string") b = o(b);
                else if (b instanceof a) b = b[0] || {};
                if (b.nodeType) b = a.data(b, "tmpl") || a.data(b, "tmpl", o(b.innerHTML));
                return typeof c === "string" ? (a.template[c] = b) : b
            }
            return c ? typeof c !== "string" ? a.template(null, c) : a.template[c] || a.template(null, q.test(c) ? c : a(c)) : null
        },
        encode: function (a) {
            return ("" + a).split("<").join("&lt;").split(">").join("&gt;").split('"').join("&#34;").split("'").join("&#39;")
        }
    });
    a.extend(a.tmpl, {
        tag: {
            tmpl: {
                _default: {
                    $2: "null"
                },
                open: "if($notnull_1){_=_.concat($item.nest($1,$2));}"
            },
            wrap: {
                _default: {
                    $2: "null"
                },
                open: "$item.calls(_,$1,$2);_=[];",
                close: "call=$item.calls();_=call._.concat($item.wrap(call,_));"
            },
            each: {
                _default: {
                    $2: "$index, $value"
                },
                open: "if($notnull_1){$.each($1a,function($2){with(this){",
                close: "}});}"
            },
            "if": {
                open: "if(($notnull_1) && $1a){",
                close: "}"
            },
            "else": {
                _default: {
                    $1: "true"
                },
                open: "}else if(($notnull_1) && $1a){"
            },
            html: {
                open: "if($notnull_1){_.push($1a);}"
            },
            "=": {
                _default: {
                    $1: "$data"
                },
                open: "if($notnull_1){_.push($.encode($1a));}"
            },
            "!": {
                open: ""
            }
        },
        complete: function () {
            b = {}
        },
        afterManip: function (f, b, d) {
            var e = b.nodeType === 11 ? a.makeArray(b.childNodes) : b.nodeType === 1 ? [b] : [];
            d.call(f, b);
            m(e);
            c++
        }
    });

    function i(e, g, f) {
        var b, c = f ? a.map(f, function (a) {
            return typeof a === "string" ? e.key ? a.replace(/(<\w+)(?=[\s>])(?![^>]*_tmplitem)([^>]*)/g, "$1 " + d + '="' + e.key + '" $2') : a : i(a, e, a._ctnt)
        }) : e;
        if (g) return c;
        c = c.join("");
        c.replace(/^\s*([^<\s][^<]*)?(<[\w\W]+>)([^>]*[^>\s])?\s*$/, function (f, c, e, d) {
            b = a(e).get();
            m(b);
            if (c) b = j(c).concat(b);
            if (d) b = b.concat(j(d))
        });
        return b ? b : j(c)
    }
    function j(c) {
        var b = document.createElement("div");
        b.innerHTML = c;
        return a.makeArray(b.childNodes)
    }
    function o(b) {
        return new Function("jQuery", "$item", "var $=jQuery,call,_=[],$data=$item.data;with($data){_.push('" + a.trim(b).replace(/([\\'])/g, "\\$1").replace(/[\r\t\n]/g, " ").replace(/\$\{([^\}]*)\}/g, "{{= $1}}").replace(/\{\{(\/?)(\w+|.)(?:\(((?:[^\}]|\}(?!\}))*?)?\))?(?:\s+(.*?)?)?(\(((?:[^\}]|\}(?!\}))*?)\))?\s*\}\}/g, function (m, l, j, d, b, c, e) {
            var i = a.tmpl.tag[j],
                h, f, g;
            if (!i) throw "Template command not found: " + j;
            h = i._default || [];
            if (c && !/\w$/.test(b)) {
                b += c;
                c = ""
            }
            if (b) {
                b = k(b);
                e = e ? "," + k(e) + ")" : c ? ")" : "";
                f = c ? b.indexOf(".") > -1 ? b + c : "(" + b + ").call($item" + e : b;
                g = c ? f : "(typeof(" + b + ")==='function'?(" + b + ").call($item):(" + b + "))"
            } else g = f = h.$1 || "null";
            d = k(d);
            return "');" + i[l ? "close" : "open"].split("$notnull_1").join(b ? "typeof(" + b + ")!=='undefined' && (" + b + ")!=null" : "true").split("$1a").join(g).split("$1").join(f).split("$2").join(d ? d.replace(/\s*([^\(]+)\s*(\((.*?)\))?/g, function (d, c, b, a) {
                a = a ? "," + a + ")" : b ? ")" : "";
                return a ? "(" + c + ").call($item" + a : d
            }) : h.$2 || "") + "_.push('"
        }) + "');}return _;")
    }
    function n(c, b) {
        c._wrap = i(c, true, a.isArray(b) ? b : [q.test(b) ? b : a(b).html()]).join("")
    }
    function k(a) {
        return a ? a.replace(/\\'/g, "'").replace(/\\\\/g, "\\") : null
    }
    function s(b) {
        var a = document.createElement("div");
        a.appendChild(b.cloneNode(true));
        return a.innerHTML
    }
    function m(o) {
        var n = "_" + c,
            k, j, l = {},
            e, p, i;
        for (e = 0, p = o.length; e < p; e++) {
            if ((k = o[e]).nodeType !== 1) continue;
            j = k.getElementsByTagName("*");
            for (i = j.length - 1; i >= 0; i--) m(j[i]);
            m(k)
        }
        function m(j) {
            var p, i = j,
                k, e, m;
            if (m = j.getAttribute(d)) {
                while (i.parentNode && (i = i.parentNode).nodeType === 1 && !(p = i.getAttribute(d)));
                if (p !== m) {
                    i = i.parentNode ? i.nodeType === 11 ? 0 : i.getAttribute(d) || 0 : 0;
                    if (!(e = b[m])) {
                        e = f[m];
                        e = g(e, b[i] || f[i], null, true);
                        e.key = ++h;
                        b[h] = e
                    }
                    c && o(m)
                }
                j.removeAttribute(d)
            } else if (c && (e = a.data(j, "tmplItem"))) {
                o(e.key);
                b[e.key] = e;
                i = a.data(j.parentNode, "tmplItem");
                i = i ? i.key : 0
            }
            if (e) {
                k = e;
                while (k && k.key != i) {
                    k.nodes.push(j);
                    k = k.parent
                }
                delete e._ctnt;
                delete e._wrap;
                a.data(j, "tmplItem", e)
            }
            function o(a) {
                a = a + n;
                e = l[a] = l[a] || g(e, b[e.parent.key + n] || e.parent, null, true)
            }
        }
    }
    function u(a, d, c, b) {
        if (!a) return l.pop();
        l.push({
            _: a,
            tmpl: d,
            item: this,
            data: c,
            options: b
        })
    }
    function w(d, c, b) {
        return a.tmpl(a.template(d), c, b, this)
    }
    function x(b, d) {
        var c = b.options || {};
        c.wrapped = d;
        return a.tmpl(a.template(b.tmpl), b.data, c, b.item)
    }
    function v(d, c) {
        var b = this._wrap;
        return a.map(a(a.isArray(b) ? b.join("") : b).filter(d || "*"), function (a) {
            return c ? a.innerText || a.textContent : a.outerHTML || s(a)
        })
    }
    function t() {
        var b = this.nodes;
        a.tmpl(null, null, null, this).insertBefore(b[0]);
        a(b).remove()
    }
})(jQuery)

var OAuthSimple;
OAuthSimple === void 0 && (OAuthSimple = function (k, n) {
    var b = {};
    b._secrets = {};
    k !== void 0 && (b._secrets.consumer_key = k);
    n !== void 0 && (b._secrets.shared_secret = n);
    b._default_signature_method = "HMAC-SHA1";
    b._action = "GET";
    b._nonce_chars = "0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";
    b._parameters = {};
    b.reset = function () {
        this._parameters = {};
        this.sbs = this._path = void 0;
        return this
    };
    b.setParameters = function (a) {
        a === void 0 && (a = {});
        typeof a == "string" && (a = this._parseParameterString(a));
        this._parameters = this._merge(a, this._parameters);
        this._parameters.oauth_nonce === void 0 && this._getNonce();
        this._parameters.oauth_timestamp === void 0 && this._getTimestamp();
        this._parameters.oauth_method === void 0 && this.setSignatureMethod();
        this._parameters.oauth_consumer_key === void 0 && this._getApiKey();
        this._parameters.oauth_token === void 0 && this._getAccessToken();
        this._parameters.oauth_version === void 0 && (this._parameters.oauth_version = "1.0");
        return this
    };
    b.setQueryString = function (a) {
        return this.setParameters(a)
    };
    b.setURL = function (a) {
        if (a == "") throw "No path specified for OAuthSimple.setURL";
        this._path = a;
        return this
    };
    b.setPath = function (a) {
        return this.setURL(a)
    };
    b.setAction = function (a) {
        a === void 0 && (a = "GET");
        a = a.toUpperCase();
        if (a.match("[^A-Z]")) throw "Invalid action specified for OAuthSimple.setAction";
        this._action = a;
        return this
    };
    b.signatures = function (a) {
        if (a) this._secrets = this._merge(a, this._secrets);
        if (this._secrets.api_key) this._secrets.consumer_key = this._secrets.api_key;
        if (this._secrets.access_token) this._secrets.oauth_token = this._secrets.access_token;
        if (this._secrets.access_secret) this._secrets.oauth_secret = this._secrets.access_secret;
        if (this._secrets.oauth_token_secret) this._secrets.oauth_secret = this._secrets.oauth_token_secret;
        if (this._secrets.consumer_key === void 0) throw "Missing required consumer_key in OAuthSimple.signatures";
        if (this._secrets.shared_secret === void 0) throw "Missing required shared_secret in OAuthSimple.signatures";
        if (this._secrets.oauth_token !== void 0 && this._secrets.oauth_secret === void 0) throw "Missing oauth_secret for supplied oauth_token in OAuthSimple.signatures";
        return this
    };
    b.setTokensAndSecrets = function (a) {
        return this.signatures(a)
    };
    b.setSignatureMethod = function (a) {
        if (a === void 0) a = this._default_signature_method;
        if (a.toUpperCase().match(/(PLAINTEXT|HMAC-SHA1)/) === void 0) throw "Unknown signing method specified for OAuthSimple.setSignatureMethod";
        this._parameters.oauth_signature_method = a.toUpperCase();
        return this
    };
    b.sign = function (a) {
        a === void 0 && (a = {});
        a.action !== void 0 && this.setAction(a.action);
        a.path !== void 0 && this.setPath(a.path);
        a.method !== void 0 && this.setSignatureMethod(a.method);
        this.signatures(a.signatures);
        this.setParameters(a.parameters);
        this._parameters.oauth_signature = this._generateSignature(this._normalizedParameters());
        return {
            parameters: this._parameters,
            signature: this._oauthEscape(this._parameters.oauth_signature),
            signed_url: this._path + "?" + this._normalizedParameters(),
            header: this.getHeaderString()
        }
    };
    b.getHeaderString = function (a) {
        this._parameters.oauth_signature === void 0 && this.sign(a);
        var c, d, b = "OAuth ";
        for (c in this._parameters) if (c.match(/^oauth/) !== void 0) if (this._parameters[c] instanceof
        Array) {
            d = this._parameters[c].length;
            for (a = 0; a < d; a++) b += c + '="' + this._oauthEscape(this._parameters[c][a]) + '" '
        } else b += c + '="' + this._oauthEscape(this._parameters[c]) + '" ';
        return b
    };
    b._parseParameterString = function (a) {
        a = a.split("&");
        var c = {},
            b;
        for (b = a.shift(); b; b = a.shift()) {
            b = b.split("=");
            var e = "";
            b[1] && (e = decodeURIComponent(b[1]));
            c[b[0]] ? c[b[0]] instanceof Array ? c[b[0]].push(e) : c[b[0]] = [c[b[0]], e] : c[b[0]] = e
        }
        return c
    };
    b._oauthEscape = function (a) {
        if (a === void 0) return "";
        if (a instanceof Array) throw "Array passed to _oauthEscape";
        return encodeURIComponent(a).replace(/\!/g, "%21").replace(/\*/g, "%2A").replace(/'/g, "%27").replace(/\(/g, "%28").replace(/\)/g, "%29")
    };
    b._getNonce = function (a) {
        a === void 0 && (a = 5);
        for (var b = "", d = 0, e, f = this._nonce_chars.length; d < a; d++) e = Math.floor(Math.random() * f), b += this._nonce_chars.substring(e, e + 1);
        return this._parameters.oauth_nonce = b
    };
    b._getApiKey = function () {
        if (this._secrets.consumer_key === void 0) throw "No consumer_key set for OAuthSimple.";
        return this._parameters.oauth_consumer_key = this._secrets.consumer_key
    };
    b._getAccessToken = function () {
        if (this._secrets.oauth_secret === void 0) return "";
        if (this._secrets.oauth_token === void 0) throw "No oauth_token (access_token) set for OAuthSimple.";
        return this._parameters.oauth_token = this._secrets.oauth_token
    };
    b._getTimestamp = function () {
        return this._parameters.oauth_timestamp = Math.floor((new Date).getTime() / 1E3)
    };
    b.b64_hmac_sha1 = function (a, b, d, e) {
        function f(a, b) {
            var h = (a & 65535) + (b & 65535);
            return (a >> 16) + (b >> 16) + (h >> 16) << 16 | h & 65535
        }
        function i(a, b) {
            a[b >> 5] |= 128 << 24 - b % 32;
            a[(b + 64 >> 9 << 4) + 15] = b;
            for (var h = [80], c = 1732584193, j = -271733879, e = -1732584194, d = 271733878, i = -1009589776, l = 0; l < a.length; l += 16) {
                for (var k = c, n = j, q = e, r = d, s = i, g = 0; g < 80; g++) {
                    h[g] = g < 16 ? a[l + g] : (h[g - 3] ^ h[g - 8] ^ h[g - 14] ^ h[g - 16]) << 1 | (h[g - 3] ^ h[g - 8] ^ h[g - 14] ^ h[g - 16]) >>> 31;
                    var o = c << 5 | c >>> 27,
                        p;
                    p = g < 20 ? j & e | ~j & d : g < 40 ? j ^ e ^ d : g < 60 ? j & e | j & d | e & d : j ^ e ^ d;
                    o = f(f(o, p), f(f(i, h[g]), g < 20 ? 1518500249 : g < 40 ? 1859775393 : g < 60 ? -1894007588 : -899497514));
                    i = d;
                    d = e;
                    e = j << 30 | j >>> 2;
                    j = c;
                    c = o
                }
                c = f(c, k);
                j = f(j, n);
                e = f(e, q);
                d = f(d, r);
                i = f(i, s)
            }
            return [c, j, e, d, i]
        }
        function l(a) {
            for (var b = [], c = (1 << e) - 1, d = 0; d < a.length * e; d += e) b[d >> 5] |= (a.charCodeAt(d / 8) & c) << 32 - e - d % 32;
            return b
        }
        d || (d = "=");
        e || (e = 8);
        return function (a) {
            for (var b = "", c = 0; c < a.length * 4; c += 3) for (var e = (a[c >> 2] >> 8 * (3 - c % 4) & 255) << 16 | (a[c + 1 >> 2] >> 8 * (3 - (c + 1) % 4) & 255) << 8 | a[c + 2 >> 2] >> 8 * (3 - (c + 2) % 4) & 255, f = 0; f < 4; f++) b += c * 8 + f * 6 > a.length * 32 ? d : "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(e >> 6 * (3 - f) & 63);
            return b
        }(function (a, b) {
            var c = l(a);
            c.length > 16 && (c = i(c, a.length * e));
            for (var d = [16], f = [16], m = 0; m < 16; m++) d[m] = c[m] ^ 909522486, f[m] = c[m] ^ 1549556828;
            c = i(d.concat(l(b)), 512 + b.length * e);
            return i(f.concat(c), 672)
        }(a, b))
    };
    b._normalizedParameters = function () {
        var a = [],
            b = [],
            d = 0,
            e = 0,
            f;
        for (f in this._parameters) {
            if (e++ > 1E3) throw "runaway 1";
            b.unshift(f)
        }
        b = b.sort();
        for (pLen = b.length; d < pLen; d++) if (f = b[d], !f.match(/\w+_secret/)) if (this._parameters[f] instanceof Array) for (var i = this._parameters[f].sort(), l = i.length, k = 0; k < l; k++) {
            if (e++ > 1E3) throw "runaway 1";
            a.push(this._oauthEscape(f) + "=" + this._oauthEscape(i[k]))
        } else a.push(this._oauthEscape(f) + "=" + this._oauthEscape(this._parameters[f]));
        return a.join("&")
    };
    b._generateSignature = function () {
        var a = this._oauthEscape(this._secrets.shared_secret) + "&" + this._oauthEscape(this._secrets.oauth_secret);
        if (this._parameters.oauth_signature_method == "PLAINTEXT") return a;
        if (this._parameters.oauth_signature_method == "HMAC-SHA1") {
            var b = this._oauthEscape(this._action) + "&" + this._oauthEscape(this._path) + "&" + this._oauthEscape(this._normalizedParameters());
            return this.b64_hmac_sha1(a, b)
        }
        return null
    };
    b._merge = function (a, b) {
        a == void 0 && (a = {});
        b == void 0 && (b = {});
        for (var d in a) b[d] = a[d];
        return b
    };
    return b
});

/*
 * Date Format 1.2.3
 * (c) 2007-2009 Steven Levithan <stevenlevithan.com>
 * MIT license
 *
 * Includes enhancements by Scott Trenda <scott.trenda.net>
 * and Kris Kowal <cixar.com/~kris.kowal/>
 *
 * Accepts a date, a mask, or a date and a mask.
 * Returns a formatted version of the given date.
 * The date defaults to the current date/time.
 * The mask defaults to dateFormat.masks.default.
 */

var dateFormat = function () {
        var token = /d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,
            timezone = /\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,
            timezoneClip = /[^-+\dA-Z]/g,
            pad = function (val, len) {
                val = String(val);
                len = len || 2;
                while (val.length < len) val = "0" + val;
                return val;
            };
        return function (date, mask, utc) {
            var dF = dateFormat;
            if (arguments.length == 1 && Object.prototype.toString.call(date) == "[object String]" && !/\d/.test(date)) {
                mask = date;
                date = undefined;
            }
            date = date ? new Date(date) : new Date;
            if (isNaN(date)) throw SyntaxError("invalid date");
            mask = String(dF.masks[mask] || mask || dF.masks["default"]);
            if (mask.slice(0, 4) == "UTC:") {
                mask = mask.slice(4);
                utc = true;
            }
            var _ = utc ? "getUTC" : "get",
                d = date[_ + "Date"](),
                D = date[_ + "Day"](),
                m = date[_ + "Month"](),
                y = date[_ + "FullYear"](),
                H = date[_ + "Hours"](),
                M = date[_ + "Minutes"](),
                s = date[_ + "Seconds"](),
                L = date[_ + "Milliseconds"](),
                o = utc ? 0 : date.getTimezoneOffset(),
                flags = {
                    d: d,
                    dd: pad(d),
                    ddd: dF.i18n.dayNames[D],
                    dddd: dF.i18n.dayNames[D + 7],
                    m: m + 1,
                    mm: pad(m + 1),
                    mmm: dF.i18n.monthNames[m],
                    mmmm: dF.i18n.monthNames[m + 12],
                    yy: String(y).slice(2),
                    yyyy: y,
                    h: H % 12 || 12,
                    hh: pad(H % 12 || 12),
                    H: H,
                    HH: pad(H),
                    M: M,
                    MM: pad(M),
                    s: s,
                    ss: pad(s),
                    l: pad(L, 3),
                    L: pad(L > 99 ? Math.round(L / 10) : L),
                    t: H < 12 ? "a" : "p",
                    tt: H < 12 ? "am" : "pm",
                    T: H < 12 ? "A" : "P",
                    TT: H < 12 ? "AM" : "PM",
                    Z: utc ? "UTC" : (String(date).match(timezone) || [""]).pop().replace(timezoneClip, ""),
                    o: (o > 0 ? "-" : "+") + pad(Math.floor(Math.abs(o) / 60) * 100 + Math.abs(o) % 60, 4),
                    S: ["th", "st", "nd", "rd"][d % 10 > 3 ? 0 : (d % 100 - d % 10 != 10) * d % 10]
                };
            return mask.replace(token, function ($0) {
                return $0 in flags ? flags[$0] : $0.slice(1, $0.length - 1);
            });
        };
    }();
dateFormat.masks = {
    "default": "ddd mmm dd yyyy HH:MM:ss",
    shortDate: "m/d/yy",
    mediumDate: "mmm d, yyyy",
    longDate: "mmmm d, yyyy",
    fullDate: "dddd, mmmm d, yyyy",
    shortTime: "h:MM TT",
    mediumTime: "h:MM:ss TT",
    longTime: "h:MM:ss TT Z",
    isoDate: "yyyy-mm-dd",
    isoTime: "HH:MM:ss",
    isoDateTime: "yyyy-mm-dd'T'HH:MM:ss",
    isoUtcDateTime: "UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"
};
dateFormat.i18n = {
    dayNames: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat", "Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"],
    monthNames: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec", "January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"]
};
Date.prototype.format = function (mask, utc) {
    return dateFormat(this, mask, utc);
};



/*
 * A JavaScript implementation of the RSA Data Security, Inc. MD5 Message
 * Digest Algorithm, as defined in RFC 1321.
 * Version 2.2 Copyright (C) Paul Johnston 1999 - 2009
 * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet
 * Distributed under the BSD License
 * See http://pajhome.org.uk/crypt/md5 for more info.
 */
var hexcase = 0;

function hex_md5(a) {
    return rstr2hex(rstr_md5(str2rstr_utf8(a)))
}
function hex_hmac_md5(a, b) {
    return rstr2hex(rstr_hmac_md5(str2rstr_utf8(a), str2rstr_utf8(b)))
}
function md5_vm_test() {
    return hex_md5("abc").toLowerCase() == "900150983cd24fb0d6963f7d28e17f72"
}
function rstr_md5(a) {
    return binl2rstr(binl_md5(rstr2binl(a), a.length * 8))
}
function rstr_hmac_md5(c, f) {
    var e = rstr2binl(c);
    if (e.length > 16) {
        e = binl_md5(e, c.length * 8)
    }
    var a = Array(16),
        d = Array(16);
    for (var b = 0; b < 16; b++) {
        a[b] = e[b] ^ 909522486;
        d[b] = e[b] ^ 1549556828
    }
    var g = binl_md5(a.concat(rstr2binl(f)), 512 + f.length * 8);
    return binl2rstr(binl_md5(d.concat(g), 512 + 128))
}
function rstr2hex(c) {
    try {
        hexcase
    } catch (g) {
        hexcase = 0
    }
    var f = hexcase ? "0123456789ABCDEF" : "0123456789abcdef";
    var b = "";
    var a;
    for (var d = 0; d < c.length; d++) {
        a = c.charCodeAt(d);
        b += f.charAt((a >>> 4) & 15) + f.charAt(a & 15)
    }
    return b
}
function str2rstr_utf8(c) {
    var b = "";
    var d = -1;
    var a, e;
    while (++d < c.length) {
        a = c.charCodeAt(d);
        e = d + 1 < c.length ? c.charCodeAt(d + 1) : 0;
        if (55296 <= a && a <= 56319 && 56320 <= e && e <= 57343) {
            a = 65536 + ((a & 1023) << 10) + (e & 1023);
            d++
        }
        if (a <= 127) {
            b += String.fromCharCode(a)
        } else {
            if (a <= 2047) {
                b += String.fromCharCode(192 | ((a >>> 6) & 31), 128 | (a & 63))
            } else {
                if (a <= 65535) {
                    b += String.fromCharCode(224 | ((a >>> 12) & 15), 128 | ((a >>> 6) & 63), 128 | (a & 63))
                } else {
                    if (a <= 2097151) {
                        b += String.fromCharCode(240 | ((a >>> 18) & 7), 128 | ((a >>> 12) & 63), 128 | ((a >>> 6) & 63), 128 | (a & 63))
                    }
                }
            }
        }
    }
    return b
}
function rstr2binl(b) {
    var a = Array(b.length >> 2);
    for (var c = 0; c < a.length; c++) {
        a[c] = 0
    }
    for (var c = 0; c < b.length * 8; c += 8) {
        a[c >> 5] |= (b.charCodeAt(c / 8) & 255) << (c % 32)
    }
    return a
}
function binl2rstr(b) {
    var a = "";
    for (var c = 0; c < b.length * 32; c += 8) {
        a += String.fromCharCode((b[c >> 5] >>> (c % 32)) & 255)
    }
    return a
}
function binl_md5(p, k) {
    p[k >> 5] |= 128 << ((k) % 32);
    p[(((k + 64) >>> 9) << 4) + 14] = k;
    var o = 1732584193;
    var n = -271733879;
    var m = -1732584194;
    var l = 271733878;
    for (var g = 0; g < p.length; g += 16) {
        var j = o;
        var h = n;
        var f = m;
        var e = l;
        o = md5_ff(o, n, m, l, p[g + 0], 7, -680876936);
        l = md5_ff(l, o, n, m, p[g + 1], 12, -389564586);
        m = md5_ff(m, l, o, n, p[g + 2], 17, 606105819);
        n = md5_ff(n, m, l, o, p[g + 3], 22, -1044525330);
        o = md5_ff(o, n, m, l, p[g + 4], 7, -176418897);
        l = md5_ff(l, o, n, m, p[g + 5], 12, 1200080426);
        m = md5_ff(m, l, o, n, p[g + 6], 17, -1473231341);
        n = md5_ff(n, m, l, o, p[g + 7], 22, -45705983);
        o = md5_ff(o, n, m, l, p[g + 8], 7, 1770035416);
        l = md5_ff(l, o, n, m, p[g + 9], 12, -1958414417);
        m = md5_ff(m, l, o, n, p[g + 10], 17, -42063);
        n = md5_ff(n, m, l, o, p[g + 11], 22, -1990404162);
        o = md5_ff(o, n, m, l, p[g + 12], 7, 1804603682);
        l = md5_ff(l, o, n, m, p[g + 13], 12, -40341101);
        m = md5_ff(m, l, o, n, p[g + 14], 17, -1502002290);
        n = md5_ff(n, m, l, o, p[g + 15], 22, 1236535329);
        o = md5_gg(o, n, m, l, p[g + 1], 5, -165796510);
        l = md5_gg(l, o, n, m, p[g + 6], 9, -1069501632);
        m = md5_gg(m, l, o, n, p[g + 11], 14, 643717713);
        n = md5_gg(n, m, l, o, p[g + 0], 20, -373897302);
        o = md5_gg(o, n, m, l, p[g + 5], 5, -701558691);
        l = md5_gg(l, o, n, m, p[g + 10], 9, 38016083);
        m = md5_gg(m, l, o, n, p[g + 15], 14, -660478335);
        n = md5_gg(n, m, l, o, p[g + 4], 20, -405537848);
        o = md5_gg(o, n, m, l, p[g + 9], 5, 568446438);
        l = md5_gg(l, o, n, m, p[g + 14], 9, -1019803690);
        m = md5_gg(m, l, o, n, p[g + 3], 14, -187363961);
        n = md5_gg(n, m, l, o, p[g + 8], 20, 1163531501);
        o = md5_gg(o, n, m, l, p[g + 13], 5, -1444681467);
        l = md5_gg(l, o, n, m, p[g + 2], 9, -51403784);
        m = md5_gg(m, l, o, n, p[g + 7], 14, 1735328473);
        n = md5_gg(n, m, l, o, p[g + 12], 20, -1926607734);
        o = md5_hh(o, n, m, l, p[g + 5], 4, -378558);
        l = md5_hh(l, o, n, m, p[g + 8], 11, -2022574463);
        m = md5_hh(m, l, o, n, p[g + 11], 16, 1839030562);
        n = md5_hh(n, m, l, o, p[g + 14], 23, -35309556);
        o = md5_hh(o, n, m, l, p[g + 1], 4, -1530992060);
        l = md5_hh(l, o, n, m, p[g + 4], 11, 1272893353);
        m = md5_hh(m, l, o, n, p[g + 7], 16, -155497632);
        n = md5_hh(n, m, l, o, p[g + 10], 23, -1094730640);
        o = md5_hh(o, n, m, l, p[g + 13], 4, 681279174);
        l = md5_hh(l, o, n, m, p[g + 0], 11, -358537222);
        m = md5_hh(m, l, o, n, p[g + 3], 16, -722521979);
        n = md5_hh(n, m, l, o, p[g + 6], 23, 76029189);
        o = md5_hh(o, n, m, l, p[g + 9], 4, -640364487);
        l = md5_hh(l, o, n, m, p[g + 12], 11, -421815835);
        m = md5_hh(m, l, o, n, p[g + 15], 16, 530742520);
        n = md5_hh(n, m, l, o, p[g + 2], 23, -995338651);
        o = md5_ii(o, n, m, l, p[g + 0], 6, -198630844);
        l = md5_ii(l, o, n, m, p[g + 7], 10, 1126891415);
        m = md5_ii(m, l, o, n, p[g + 14], 15, -1416354905);
        n = md5_ii(n, m, l, o, p[g + 5], 21, -57434055);
        o = md5_ii(o, n, m, l, p[g + 12], 6, 1700485571);
        l = md5_ii(l, o, n, m, p[g + 3], 10, -1894986606);
        m = md5_ii(m, l, o, n, p[g + 10], 15, -1051523);
        n = md5_ii(n, m, l, o, p[g + 1], 21, -2054922799);
        o = md5_ii(o, n, m, l, p[g + 8], 6, 1873313359);
        l = md5_ii(l, o, n, m, p[g + 15], 10, -30611744);
        m = md5_ii(m, l, o, n, p[g + 6], 15, -1560198380);
        n = md5_ii(n, m, l, o, p[g + 13], 21, 1309151649);
        o = md5_ii(o, n, m, l, p[g + 4], 6, -145523070);
        l = md5_ii(l, o, n, m, p[g + 11], 10, -1120210379);
        m = md5_ii(m, l, o, n, p[g + 2], 15, 718787259);
        n = md5_ii(n, m, l, o, p[g + 9], 21, -343485551);
        o = safe_add(o, j);
        n = safe_add(n, h);
        m = safe_add(m, f);
        l = safe_add(l, e)
    }
    return Array(o, n, m, l)
}
function md5_cmn(h, e, d, c, g, f) {
    return safe_add(bit_rol(safe_add(safe_add(e, h), safe_add(c, f)), g), d)
}
function md5_ff(g, f, k, j, e, i, h) {
    return md5_cmn((f & k) | ((~f) & j), g, f, e, i, h)
}
function md5_gg(g, f, k, j, e, i, h) {
    return md5_cmn((f & j) | (k & (~j)), g, f, e, i, h)
}
function md5_hh(g, f, k, j, e, i, h) {
    return md5_cmn(f ^ k ^ j, g, f, e, i, h)
}
function md5_ii(g, f, k, j, e, i, h) {
    return md5_cmn(k ^ (f | (~j)), g, f, e, i, h)
}
function safe_add(a, d) {
    var c = (a & 65535) + (d & 65535);
    var b = (a >> 16) + (d >> 16) + (c >> 16);
    return (b << 16) | (c & 65535)
}
function bit_rol(a, b) {
    return (a << b) | (a >>> (32 - b))
};

var BrowserDetect = {
    init: function () {
        this.browser = this.searchString(this.dataBrowser) || "An unknown browser";
        this.version = this.searchVersion(navigator.userAgent) || this.searchVersion(navigator.appVersion) || "an unknown version";
        this.OS = this.searchString(this.dataOS) || "an unknown OS"
    },
    searchString: function (b) {
        for (var a = 0; a < b.length; a++) {
            var c = b[a].string,
                d = b[a].prop;
            this.versionSearchString = b[a].versionSearch || b[a].identity;
            if (c) {
                if (c.indexOf(b[a].subString) != -1) return b[a].identity
            } else if (d) return b[a].identity
        }
    },
    searchVersion: function (b) {
        var a = b.indexOf(this.versionSearchString);
        return a == -1 ? void 0 : parseFloat(b.substring(a + this.versionSearchString.length + 1))
    },
    dataBrowser: [{
        string: navigator.userAgent,
        subString: "Chrome",
        identity: "Chrome"
    }, {
        string: navigator.userAgent,
        subString: "OmniWeb",
        versionSearch: "OmniWeb/",
        identity: "OmniWeb"
    }, {
        string: navigator.vendor,
        subString: "Apple",
        identity: "Safari",
        versionSearch: "Version"
    }, {
        prop: window.opera,
        identity: "Opera",
        versionSearch: "Version"
    }, {
        string: navigator.vendor,
        subString: "iCab",
        identity: "iCab"
    }, {
        string: navigator.vendor,
        subString: "KDE",
        identity: "Konqueror"
    }, {
        string: navigator.userAgent,
        subString: "Firefox",
        identity: "Firefox"
    }, {
        string: navigator.vendor,
        subString: "Camino",
        identity: "Camino"
    }, {
        string: navigator.userAgent,
        subString: "Netscape",
        identity: "Netscape"
    }, {
        string: navigator.userAgent,
        subString: "MSIE",
        identity: "Explorer",
        versionSearch: "MSIE"
    }, {
        string: navigator.userAgent,
        subString: "Gecko",
        identity: "Mozilla",
        versionSearch: "rv"
    }, {
        string: navigator.userAgent,
        subString: "Mozilla",
        identity: "Netscape",
        versionSearch: "Mozilla"
    }],
    dataOS: [{
        string: navigator.platform,
        subString: "Win",
        identity: "Windows"
    }, {
        string: navigator.platform,
        subString: "Mac",
        identity: "Mac"
    }, {
        string: navigator.userAgent,
        subString: "iPhone",
        identity: "iPhone/iPod"
    }, {
        string: navigator.platform,
        subString: "Linux",
        identity: "Linux"
    }]
};
BrowserDetect.init();

(function () {
    var aa = void 0,
        e = null;

    function g() {
        return function () {}
    }
    function ba(b) {
        return function (c) {
            this[b] = c
        }
    }
    function ca(b) {
        return function () {
            return this[b]
        }
    }
    function ea(b) {
        return function () {
            return b
        }
    }
    var h;

    function j(b) {
        function c(c) {
            var f = b;
            if (c) for (var i = 0; i < c.length; i++) f = f.replace("$" + (i + 1), c[i]);
            return f
        }
        c.toString = function () {
            k("Attempt to treat enum as string:", b);
            return ""
        };
        return c
    }
    var m = m ? m : {},
        fa = j("Could not create account at this time"),
        ga = j("Your email address was entered incorrectly."),
        ha = j("An account already exists with that email address."),
        ia = j("Your password must be at least 5 letters long."),
        ja = j("Your password may contain only letters, numbers, and punctuation."),
        la = j("Please specify your year of birth."),
        ma = j("You must be over 12 years old."),
        na = j("You must have a valid 5 digit U.S. zip code."),
        oa = j("You must agree to the terms of service to continue."),
        pa = j("Please specify your gender"),
        qa = j("Please specify your email address"),
        ra = j("Please specify your password."),
        sa = j("Follow the link in the email to reset your password and get back to enjoying the music.  If you don't see our email, please check your spam folder."),
        ta = j("Your password may contain only letters, numbers, and punctuation."),
        ua = j("Your password must be at least 5 letters long."),
        va = j("The two passwords provided were different, please try again"),
        wa = j("Your password has been changed"),
        xa = j("MALE"),
        ya = j("FEMALE"),
        za = j("Type in artist, track, or composer"),
        Aa = j("Enter artist, song, genre or composer to create a station"),
        Ba = j("Top Hit"),
        Ca = j("Songs"),
        Da = j("Artists"),
        Ea = j("Composers"),
        Fa = j("Genres"),
        Ga = j("Stations"),
        Ha = j("Your PIN must be at least 2 characters long."),
        Ia = j("Your PIN has been emailed to you."),
        Ja = j("Your credit card was removed from storage."),
        Ka = j("Congratulations! Your Pandora One upgrade has been extended by 1 year. Your new expiration date is $1"),
        La = j("Congratulations, you have been upgraded to 1 full year of Pandora One."),
        Ma = j("Your gift code was entered incorrectly"),
        Na = j("Your email was entered incorrectly"),
        Oa = j("Your password was entered incorrectly"),
        Pa = j("Welcome to your Pandora One Free Trial"),
        Qa = j("Your free trial is already in progress."),
        Ra = j("You are already using Pandora One."),
        Ua = j("Your account is not eligible for a trial."),
        Va = j("You must register before starting a trial of Pandora One."),
        Wa = j("Your account has already had a trial."),
        Xa = j("Invalid sponsor $1"),
        Ya = j("Too many trials underway - try again tomorrow."),
        Za = j("Unknown reason."),
        $a = j("We've encountered an error.  Sorry, it's our fault.  Please click 'reload' to continue listening."),
        ab = j("Unfortunately our music licenses force us to limit the number of tracks you may skip each hour. If you want to hear something else, try creating another station starting with a different artist or track."),
        bb = j("Unfortunately our music licenses force us to limit the number of tracks you may skip each hour. If you want to hear something else, try creating another station starting with a different artist or track."),
        cb = j("ERROR: Your browser cannot play audio - please upgrade to Flash 10 or higher"),
        db = j("ERROR: Your Explicit Content Filter could not be saved because the PIN you entered is invalid."),
        eb = j("Sorry, I couldn't send the email: $1"),
        fb = j("Please enter some text"),
        gb = j("You must enter one or more valid email addresses"),
        hb = j("You may not include email addresses or HTML content in your message"),
        ib = j("Error: unable to move track to another station"),
        jb = j("Error while redeeming gift code: "),
        kb = j("Error while registering: "),
        lb = j("Sorry, I had a problem while saving your credit card and was unable to upgrade your account."),
        mb = j("An error prevented this operation: $1"),
        nb = j("You must upgrade to Pandora One to use the Pandora desktop application"),
        ob = j("I'm sorry, you may only create up to 10 stations.  Register now and create up to 100 stations."),
        pb = j("I'm sorry, you may only create up to 100 stations"),
        qb = j("We cannot accept your comment at this time. Please try again later."),
        rb = j("We're having unexpected technical difficulties. Our engineers are scrambling to fix things. Please try again later."),
        sb = j("There are no more songs to play on this station."),
        tb = j("Pandora One's high quality audio requires an internet connection speed of 192 kbps. Your audio has been changed to normal quality. (You can change this back using 'Audio Quality' on the Pandora One menu)"),
        ub = j("Your internet connection is slow, causing the music to pause during playback. Pandora requires at least 64 kbps to stream."),
        vb = j("This feature is temporarily unavailable"),
        wb = j("Private Profile"),
        xb = j("Public Profile"),
        yb = j("This is your space to write something about yourself"),
        zb = j("Ok, we'll put it on the shelf for a while."),
        Ab = j('Successfully emailed "$1"'),
        Bb = j("Thanks for sharing. You just posted to $1"),
        Cb = j('We deleted your station "$1".'),
        Db = j("You like this station"),
        Eb = j("Like this station"),
        Fb = j("Shared Station"),
        Gb = j("Would you like to make this station your own station?"),
        Hb = j("When you like a track while listening to a shared station, you become the owner of the station. Once you own the station, changes made by the original creator of the station will no longer apply."),
        Ib = j("When you rename a shared station, you become the owner of the station. Once you own the station, changes made by the original creator of the station will no longer apply."),
        Jb = j("Make this my station"),
        Kb = j("Keep this as a shared station"),
        Lb = j("You like this "),
        Mb = j("Like this "),
        Nb = j("Are you sure?"),
        Ob = j("Pandora"),
        Pb = j("Undo like"),
        Qb = j("yes"),
        Rb = j("no"),
        Sb = j("We have updated the Pandora site. Click 'reload' to use the latest version."),
        Tb = j("Add artist or track"),
        Ub = j("Add Variety to this Station"),
        Vb = j("Type in the name of another artist, track or composer you like and we'll add music with similar musical qualities to this station."),
        Wb = j("Add Artist"),
        Xb = j("Type in the name of another artist you like and we'll add music with similar musical qualities to this station."),
        Yb = j("Add a seed artist or composer"),
        Zb = j("Add Track"),
        $b = j("Type in the name of another track you like and we'll add music with similar musical qualities to this station."),
        ac = j("Add a seed track"),
        bc = j("Add Track"),
        cc = j("Type in the name of another track you like and we'll add music with similar musical qualities to this station."),
        dc = j("Add a thumbed up track"),
        ec = j("I'm sorry I can't find \"$1\" in the Music Genome Project."),
        fc = j("Lyrics"),
        gc = j("Lyrics not available"),
        hc = j("About"),
        ic = j("Similar Artists"),
        jc = j("Similar Composers"),
        kc = j("You must agree to the Pandora One Subscription terms."),
        lc = j("Enter a valid security code."),
        mc = j("Select a card type"),
        nc = j("Enter a valid card number."),
        oc = j("Your card has expired."),
        pc = j("Enter a valid 5 digit U.S. zip code."),
        qc = j("Enter name as it appears on card."),
        rc = j("Submitting your payment..."),
        sc = j("Thank you! Your Pandora One payment is complete. Enjoy the music!"),
        tc = j("Thank you! Your $0.99 payment is complete. Enjoy the music!");
    m.u = {};
    m.u.jg = j("ANONYMOUS");
    m.u.Qz = j("CANCELLED");
    m.u.jk = j("COMPLIMENTARY");
    m.u.nk = j("FREE");
    m.u.lk = j("EXPIRED_SUBSCRIBER");
    m.u.ip = j("REGISTERED");
    m.u.xk = j("SUSPENDED");
    m.u.og = j("SUBSCRIBER");
    m.u.Dp = j("VENDOR_BILLED_COMPLIMENTARY");
    m.u.Ep = j("VENDOR_BILLED_SUBSCRIBER");
    m.u.fp = j("PAY_TO_PLAY");
    m.G = {};
    m.G.Ao = j("COMPLIMENTARY_PERIOD_EXPIRED");
    m.G.qg = j("VENDOR_BILLED_COMPLIMENTARY_PERIOD_EXPIRED");
    m.G.Fo = j("INITIAL_SETTLEMENT_DECLINED");
    m.G.jp = j("RENEWAL_SETTLEMENT_DECLINED");
    m.G.aG = j("SUBSCRIPTION_EXPIRED_WITHOUT_RENEWAL");
    m.G.rg = j("VENDOR_BILLED_SUBSCRIPTION_TIMED_OUT");
    m.G.sp = j("SPONSORED_COMPLIMENTARY_PERIOD_EXPIRED");
    m.G.XB = j("GIFT_PERIOD_EXPIRED");
    m.e = {};
    m.e.jz = j("ADDRESS_IMPORT_SERVICE_DISABLED");
    m.e.kz = j("ADDRESS_IMPORT_SERVICE_UNKNOWN");
    m.e.xo = j("AUTH_INVALID_USERNAME_PASSWORD");
    m.e.rz = j("AUTH_MISSING_USERNAME_PASSWORD");
    m.e.wo = j("AUTH_INVALID_TOKEN");
    m.e.uz = j("AUTH_WEB_LOGIN_NOT_ALLOWED");
    m.e.qz = j("AUTH_ADMIN_LOGIN_NOT_ALLOWED");
    m.e.cA = j("CREDIT_CARD_NO_RECORD_FOUND");
    m.e.FA = j("EMAIL_MALFORMED_ADDRESS");
    m.e.GA = j("EMAIL_NO_SUBJECT");
    m.e.EA = j("EMAIL_CONTENT_TOO_LONG");
    m.e.OA = j("EXPLICIT_PIN_MALFORMED");
    m.e.LA = j("EXPLICIT_CONTENT_FILTER_NOT_ENABLED");
    m.e.PA = j("EXPLICIT_PIN_NOT_SET");
    m.e.MA = j("EXPLICIT_PIN_ALREADY_SET");
    m.e.NA = j("EXPLICIT_PIN_INCORRECT");
    m.e.pk = j("LISTENER_ACCOUNT_IN_USE");
    m.e.qk = j("LISTENER_DUPLICATE_USERNAME");
    m.e.rk = j("LISTENER_MALFORMED_USERNAME");
    m.e.Vo = j("LISTENER_SUSPENDED");
    m.e.wp = j("STATION_DOES_NOT_EXIST");
    m.e.WF = j("STATION_ALREADY_EXISTS");
    m.e.RF = j("SEED_INVALID");
    m.e.vp = j("STATION_CODE_INVALID");
    m.e.KF = j("QUICKMIX_NOT_PLAYABLE");
    m.e.JF = j("QUICKMIX_NEEDS_MORE_STATIONS");
    m.e.pz = j("ARTIST_MUSICID_INVALID");
    m.e.TF = j("SONG_MUSICID_INVALID");
    m.e.SF = j("SONG_IDENTITY_INVALID");
    m.e.lg = j("LISTENER_INVALID_PASSWORD");
    m.e.sk = j("LISTENER_NOT_AUTHORIZED");
    m.e.EH = j("VENDOR_NOT_AUTHORIZED");
    m.e.mg = j("LISTENER_PASSWORD_TOO_SHORT");
    m.e.dF = j("LISTENER_NOT_FOUND");
    m.e.gp = j("PLAYLIST_END");
    m.e.Xz = j("CREDIT_CARD_DECLINED_AUTHORIZATION");
    m.e.Yz = j("CREDIT_CARD_DECLINED_PAYMENT");
    m.e.eA = j("CREDIT_CARD_NUMBER_NOT_SET");
    m.e.gA = j("CREDIT_CARD_NUMBER_TOO_SHORT");
    m.e.fA = j("CREDIT_CARD_NUMBER_TOO_LONG");
    m.e.dA = j("CREDIT_CARD_NUMBER_BAD_CHECKSUM");
    m.e.Zz = j("CREDIT_CARD_EXPIRATION_DATE_IN_THE_PAST");
    m.e.Wz = j("CREDIT_CARD_COMPANY_NOT_SET");
    m.e.bA = j("CREDIT_CARD_NAME_NOT_SET");
    m.e.kA = j("CREDIT_CARD_ZIPCODE_NOT_SET");
    m.e.iA = j("CREDIT_CARD_SECURITY_CODE_MALFORMED");
    m.e.$z = j("CREDIT_CARD_EXPMONTH_OUT_OF_RANGE");
    m.e.aA = j("CREDIT_CARD_EXPYEAR_OUT_OF_RANGE");
    m.e.jA = j("CREDIT_CARD_VOID_FAILED");
    m.e.hA = j("CREDIT_CARD_PAYMENT_VOIDED");
    m.e.yF = j("PREVIEW_INVALID_CODE");
    m.e.xF = j("PREVIEW_EXPIRED_CODE");
    m.e.dp = j("OUT_OF_SYNC");
    m.e.jF = j("MAX_RESULTS_OUT_OF_RANGE");
    m.e.CH = j("VENDOR_ALIAS_IS_BLANK");
    m.e.DH = j("VENDOR_ALIAS_IS_INVALID");
    m.e.BH = j("VENDOR_ALIAS_HASH_IS_INVALID");
    m.e.AH = j("VENDOR_ALIAS_ALREADY_IN_USE");
    m.e.tz = j("AUTH_TOKEN_TYPE_NOT_ALLOWED");
    m.e.pC = j("INVALID_VENDOR");
    m.e.nz = j("ANONYMOUS_VENDOR_ALIAS_NOT_ALLOWED");
    m.e.Uo = j("LISTENER_STATE_NOT_ALLOWED");
    m.e.Xo = j("MAINTENANCE_MODE");
    m.e.hp = j("READONLY_MODE");
    m.e.Eo = j("INCOMPATIBLE_VERSION");
    m.e.cF = j("LISTENER_BANNED_FROM_POSTING");
    m.e.Sz = j("COMMENT_IS_EMPTY");
    m.e.Tz = j("COMMENT_IS_EMPTY_AFTER_CLEAN");
    m.e.Uz = j("COMMENT_IS_SPAM");
    m.e.HA = j("EXCESSIVE_NOTE_POSTING");
    m.e.Rz = j("COMMENT_DELETED");
    m.e.uF = j("PARAMETER_TYPE_MISMATCH");
    m.e.tF = j("PARAMETER_MISSING");
    m.e.vF = j("PARAMETER_VALUE_INVALID");
    m.e.wA = j("DUPLICATE_ARTIST_BOOKMARK");
    m.e.zA = j("DUPLICATE_SONG_BOOKMARK");
    m.e.xA = j("DUPLICATE_FRIEND_BOOKMARK");
    m.e.yA = j("DUPLICATE_SEED_BOOKMARK");
    m.e.IA = j("EXCESSIVE_USER_QUICK_BOOKMARKING");
    m.e.eF = j("LISTENER_NOT_LOGGED_IN");
    m.e.LF = j("REMOVING_TOO_MANY_SEEDS");
    m.e.vA = j("DEVICE_NOT_FOUND");
    m.e.sA = j("DEVICE_CODE_INVALID");
    m.e.uA = j("DEVICE_DUPLICATE_DEVICECODE");
    m.e.VF = j("STATE_TRANSITION_NOT_ALLOWED");
    m.e.zF = j("PRIVATE_PROFILE");
    m.e.TH = j("WEB_ACTIVATION_CODE_INVALID");
    m.e.qA = j("DEVICE_ALREADY_ASSOCIATED_TO_ACCOUNT");
    m.e.rA = j("DEVICE_ALREADY_USED_FOR_TRIAL");
    m.e.Cp = j("USER_ALREADY_USED_TRIAL");
    m.e.oC = j("INVALID_MOBILE_CLIENT_VERSION");
    m.e.mC = j("INVALID_MOBILE_CLIENT_APPLICATION_TYPE");
    m.e.nC = j("INVALID_MOBILE_CLIENT_HANDSET");
    m.e.gz = j("ACCOUNT_ALREADY_ACTIVATED");
    m.e.bF = j("LICENSING_RESTRICTIONS");
    m.e.zo = j("BIRTH_YEAR_INVALID");
    m.e.ik = j("BIRTH_YEAR_TOO_YOUNG");
    m.e.UH = j("ZIP_CODE_INVALID");
    m.e.RB = j("GENDER_INVALID");
    m.e.Vz = j("COUNTRY_CODE_INVALID");
    m.e.iz = j("ADDRESS_BOOK_IMPORTER_ERROR");
    m.e.hz = j("ADDRESS_BOOK_AUTHENTICATION_ERROR");
    m.e.DA = j("EMAIL_CONTENT_INVALID");
    m.e.rF = j("NO_VALID_EMAIL_ADDRESSES");
    m.e.oz = j("API_CALL_NOT_ALLOWED");
    m.e.wF = j("PASSWORD_NOT_ALLOWED_FOR_SHARED_DEVICE");
    m.e.lC = j("INVALID_AD_TOKEN");
    m.e.tA = j("DEVICE_DISABLED");
    m.e.lz = j("AD_COOKIE_NOT_FOUND");
    m.e.Ro = j("INVALID_SPONSOR");
    m.e.Co = j("DAILY_TRIAL_LIMIT_REACHED");
    m.e.BB = j("FEATURE_TEMPORARILY_UNAVAILABLE");
    m.e.Qo = j("INVALID_FACEBOOK_ACCOUNT_ASSOCIATION");
    m.e.bG = j("SUBSCRIPTION_NOT_RENEWABLE");
    m.e.SB = j("GIFT_CODE_INVALID");
    m.e.TB = j("GIFT_CODE_REDEEMED");
    m.e.UB = j("GIFT_CODE_REDEEMED_BY_LISTENER");
    m.e.VB = j("GIFT_CODE_REDEMPTION_ATTEMPTS_EXCEEDED");
    m.e.WB = j("GIFT_DUPLICATE");
    m.e.fC = j("INTEGRATION_PARTNER_UNAVAILABLE");
    m.e.np = j("SERVICE_UNAVAILABLE");
    m.oa = {};
    m.oa.eH = j("TRANSFORM_CONFIRM");
    m.oa.dH = j("TRANSFORM_AUTOMATIC");
    m.oa.mb = j("TRANSFORM_NOT_ALLOWED");
    m.Fb = {};
    m.Fb.Zx = j("song");
    m.Fb.fa = j("album");
    m.Fb.vq = j("artist");
    m.Fb.i = j("station");
    m.Fb.LI = j("genrestation");
    m.kg = {};
    m.kg.yp = j("TIMEOUT_CREDIT");
    m.kg.lF = j("MONTHLY_LISTENING");

    function uc(b) {
        var c = typeof b;
        if (c == "object") if (b) {
            if (b instanceof Array || !(b instanceof Object) && Object.prototype.toString.call(b) == "[object Array]" || typeof b.length == "number" && typeof b.splice != "undefined" && typeof b.propertyIsEnumerable != "undefined" && !b.propertyIsEnumerable("splice")) return "array";
            if (!(b instanceof Object) && (Object.prototype.toString.call(b) == "[object Function]" || typeof b.call != "undefined" && typeof b.propertyIsEnumerable != "undefined" && !b.propertyIsEnumerable("call"))) return "function"
        } else return "null";
        else if (c == "function" && typeof b.call == "undefined") return "object";
        return c
    }
    function vc(b) {
        return typeof b == "string"
    }
    function wc(b) {
        b = uc(b);
        return b == "object" || b == "array" || b == "function"
    }
    Math.floor(Math.random() * 2147483648).toString(36);
    var xc = Date.now ||
    function () {
        return +new Date
    };

    function yc(b, c) {
        function d() {}
        d.prototype = c.prototype;
        b.oy = c.prototype;
        b.prototype = new d;
        b.prototype.constructor = b
    };
    m = m ? m : {};

    function zc() {};

    function Ac(b) {
        this.body = b
    }
    yc(Ac, zc);

    function Bc(b) {
        this.Lw = b
    }
    yc(Bc, zc);

    function n(b) {
        return b.Lw[0]
    }
    function Cc(b) {
        this.message = b;
        this.no = mb([b])
    }
    yc(Cc, zc);

    function Dc(b) {
        Cc.call(this, b)
    }
    yc(Dc, Cc);

    function Ec(b) {
        Cc.call(this, b)
    }
    yc(Ec, Dc);

    function Fc(b, c) {
        Cc.call(this, b);
        this.code = c
    }
    yc(Fc, Dc);

    function Gc() {
        return Math.floor(Hc() / 1E3)
    }
    function Hc() {
        return (new Date).getTime()
    }
    function Ic(b, c, d, f) {
        b = b == e ? e : b.js ? b.H : b.fbId ? b.fbId : b.fbid ? b.fbid : b.attr ? b.attr("fbid") : e;
        return b != e && b > 0 && !f ? "http://graph.facebook.com/" + b + "/picture?type=" + (c ? "square" : "large") : c ? "/images/no_artist_image.gif" : d ? "/images/no_photo_180_fb.gif" : "/images/no_photo_180.gif"
    }
    function Jc(b) {
        return b.replace(/<\/?[^>]+(>|$)|\"/g, "")
    };
    var Kc = [0, 0, 192, 224, 240, 248, 252],
        Lc = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 3, 3, 3, 3, 3, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5],
        Mc = [0, 12416, 925824, 63447168, 4194836608, 2181570688];

    function Nc() {}
    function Oc(b) {
        var c = new Nc;
        Pc(c, b[0], b[1], b[2], b[3], b[4]);
        return c
    }

    function Pc(b, c, d, f, i, l) {
        b.Gr = function (b, s) {
            var u = b[s],
                z = b[s + 1],
                V, ka;
            for (ka = 0; ka < 16; ++ka) {
                u ^= c[ka];
                var da = u,
                    Sa, Ta;
                Ta = da & 255;
                da >>= 8;
                V = da & 255;
                da >>= 8;
                Sa = da & 255;
                da >>= 8;
                da = d[da & 255] + f[Sa];
                da ^= i[V];
                da += l[Ta];
                z ^= da;
                V = u;
                u = z;
                z = V
            }
            V = u;
            u = z;
            z = V;
            z ^= c[16];
            u ^= c[17];
            b[s] = u;
            b[s + 1] = z
        };
        b.or = function (b, s) {
            var u = b[s],
                z = b[s + 1],
                V, ka;
            for (ka = 17; ka > 1; --ka) {
                u ^= c[ka];
                var da = u,
                    Sa, Ta;
                Ta = da & 255;
                da >>= 8;
                V = da & 255;
                da >>= 8;
                Sa = da & 255;
                da >>= 8;
                da = d[da & 255] + f[Sa];
                da ^= i[V];
                da += l[Ta];
                z ^= da;
                V = u;
                u = z;
                z = V
            }
            V = u;
            u = z;
            z = V;
            z ^= c[1];
            u ^= c[0];
            b[s] = u;
            b[s + 1] = z
        }
    }
    function Qc(b, c) {
        for (var d = Rc(c), f = 0; f < d.length; f += 2) b.Gr(d, f);
        for (var d = Sc(d), f = "", i = 0; i < d.length; i++) {
            var l = d[i].toString(16);
            f += l.length == 1 ? "0" + l : l
        }
        return f
    }
    function Tc(b, c) {
        return Uc(Vc(Wc(b, String(c))))
    }
    function Wc(b, c) {
        for (var d = [], f = 0; f < c.length; f += 2) d.push(parseInt(c.substr(f, 2), 16));
        d = Rc(d);
        for (f = 0; f < d.length; f += 2) b.or(d, f);
        return Sc(d)
    }
    function Xc(b) {
        for (var c = [], d = 0; d < b.length; d++) c.push(b.charCodeAt(d));
        return c
    }

    function Uc(b) {
        for (var c = [], d = 0; d < b.length; d++) c.push(String.fromCharCode(b[d]));
        return c.join("")
    }

    function Yc(b) {
        for (var c = [], d = 0; d < b.length;) {
            var f = b[d];
            d++;
            if (f >= 55296 && f <= 56319) {
                if (d == b.length) {
                    k("source exhausted");
                    break
                }
                var i = b[d];
                (i < 56320 || f > 57343) && k("unpaired high surrogate");
                f = (f - 55296 << 10) + (i - 56320) + 65536;
                d++
            } else f >= 56320 && f <= 57343 && k("UTF-16 surrogate values are illegal in UTF-32");
            i = 0;
            f < 128 ? i = 1 : f < 2048 ? i = 2 : f < 65536 ? i = 3 : f < 1114112 ? i = 4 : (i = 3, f = 65533);
            if (Kc[i] == e) {
                k("invalid bytesToWrite: " + i);
                break
            }
            var l = c.length;
            switch (i) {
            case 4:
                c[l + 3] = (f | 128) & 191, f >>= 6;
            case 3:
                c[l + 2] = (f | 128) & 191, f >>= 6;
            case 2:
                c[l + 1] = (f | 128) & 191, f >>= 6;
            case 1:
                c[l] = f | Kc[i]
            }
        }
        return c
    }

    function Vc(b) {
        for (var c = [], d = 0; d < b.length;) {
            var f = 0,
                i = Lc[b[d]];
            if (d + i > b.length) return k("source exhausted"), c;
            if (!Zc(b.slice(d, d + i + 1))) return k("not legal UTF-8"), c;
            switch (i) {
            case 5:
                f += b[d], d++, f <<= 6;
            case 4:
                f += b[d], d++, f <<= 6;
            case 3:
                f += b[d], d++, f <<= 6;
            case 2:
                f += b[d], d++, f <<= 6;
            case 1:
                f += b[d], d++, f <<= 6;
            case 0:
                f += b[d], d++
            }
            f -= Mc[i];
            f <= 65535 ? f >= 55296 && f <= 57343 ? (k("UTF-16 surrogate values are illegal in UTF-32"), c.push(65533)) : c.push(f) : f > 1114111 ? (k("ch > UNI_MAX_UTF16"), c.push(65533)) : (f -= 65536, c.push((f >> 10) + 55296), c.push((f & 1023) + 56320))
        }
        for (; c.length && c[c.length - 1] <= 8;) c.pop();
        return c
    }
    function Zc(b) {
        var c;
        switch (b.length) {
        default:
            return !1;
        case 4:
            if ((c = b[3]) < 128 || c > 191) return !1;
        case 3:
            if ((c = b[2]) < 128 || c > 191) return !1;
        case 2:
            if ((c = b[1]) > 191) return !1;
            switch (b[0]) {
            case 224:
                if (c < 160) return !1;
                break;
            case 237:
                if (c > 159) return !1;
                break;
            case 240:
                if (c < 144) return !1;
                break;
            case 244:
                if (c > 143) return !1;
                break;
            default:
                if (c < 128) return !1
            }
        case 1:
            if (b[0] >= 128 && b[0] < 194) return !1
        }
        return b[0] > 244 ? !1 : !0
    }

    function Rc(b) {
        var c = [],
            d = b.length,
            f = d % 4 == 0 ? d : d - d % 4,
            i;
        for (i = 0; i < f; i += 4) c[c.length] = b[i] << 24 | b[i + 1] << 16 | b[i + 2] << 8 | b[i + 3];
        if (i < d) {
            for (var l = f = 0; l < 4; l++) i + l < d && (f |= b[i + l] << (3 - l) * 8);
            c[c.length] = f
        }
        return c
    }
    function Sc(b) {
        for (var c = [], d = 0, f = 0; f < b.length; f++) {
            var i = b[f];
            c[d] = i >> 24 & 255;
            d++;
            c[d] = i >> 16 & 255;
            d++;
            c[d] = i >> 8 & 255;
            d++;
            c[d] = i & 255;
            d++
        }
        return c
    };

    function o(b, c) {
        function d() {
            try {
                return c.apply(b, arguments)
            } catch (d) {
                throw $c(d), d;
            }
        }(b == e || c == e) && k("neither caller nor method may be null");
        d._caller = b;
        return d
    }
    function ad(b, c, d) {
        return setTimeout(o(b, c), d)
    }
    function bd(b) {
        b != e && b.length > 0 && (b = b.replace(/^.*\/xml\//, "/json/"));
        return b
    }
    function cd(b) {
        b != e && b.length > 0 && (b = b.replace(/^.*\/music\//, "#!/music/"));
        return b
    }
    function dd() {
        return (new Date).getTime() + "" + Math.floor(Math.random() * 1E4)
    }

    function ed(b) {
        for (var c = {}, b = b.slice(b.indexOf("?") + 1).split("&"), d = 0; d < b.length; d++) {
            var f = b[d].split("=");
            c[f[0]] = f[1]
        }
        return c.code
    }
    function fd(b, c) {
        for (var d = 0; b && d < b.length; d++) if (b[d] == c) return !0;
        return !1
    }
    function gd(b) {
        return b != e && b + "" != ""
    }
    function p(b) {
        return b == e || b.length == 0
    }

    function $c(b, c, d) {
        var f = "Unknown";
        b.message ? f = b.message : vc(b) && (f = String(b));
        b = {
            msg: f,
            url: c,
            num: d,
            ua: navigator.userAgent,
            browser: hd(),
            site_version: window._pandoraVersion,
            flash_ver: id()
        };
        !jd && ++kd > 50 && (jd = !0);
        r("script_error", b, aa)
    }
    function id() {
        var b = "unknown";
        try {
            if (swfobject) var c = swfobject.getFlashPlayerVersion(),
                b = c.major + "." + c.minor + "." + c.release
        } catch (d) {}
        return b
    }
    function hd() {
        return BrowserDetect.browser + " " + BrowserDetect.version + " (" + BrowserDetect.OS + ")"
    }(function (b) {
        var c = b.cookie;
        b.cookie = function () {
            if (arguments.length < 2) return c.apply(this, arguments);
            var b = arguments.length == 3 ? jQuery.extend({}, arguments[2]) : {};
            document.domain != e && document.domain.match(/pandora.com$/) && (b.domain = ".pandora.com");
            return c.apply(this, [arguments[0], arguments[1], b])
        }
    })(jQuery);

    function ld() {
        var b = Number(parseFloat($.browser.version));
        return $.browser.msie && b <= 8
    }
    function md() {
        var b = Number(parseFloat($.browser.version));
        return $.browser.msie && b <= 7
    }
    window.emptySelection = function () {
        $.textSelect("clear")
    };

    function nd(b) {
        window.console != e && window.console.warn != e && window.console.warn.apply(window.console, arguments)
    }
    function k(b) {
        window.console != e && window.console.error != e && window.console.error.apply(window.console, arguments)
    }
    if ($.browser.msie && window.console != e) window.console.warn != e && (nd = window.console.warn), window.console.error != e && (k = window.console.error);
    var t = 0,
        od = t++,
        pd = t++,
        qd = t++,
        rd = t++,
        sd = t++,
        td = t++,
        ud = t++,
        vd = t++,
        wd = t++,
        xd = t++,
        yd = t++,
        zd = t++,
        Ad = t++,
        Bd = t++,
        Cd = t++,
        Dd = t++,
        Ed = t++,
        Fd = t++,
        Gd = t++,
        Hd = t++,
        Id = t++,
        Jd = t++,
        Kd = t++,
        Ld = t++,
        Md = t++,
        Nd = t++,
        Od = t++,
        Pd = t++,
        Qd = t++,
        Rd = t++,
        Sd = t++,
        Td = t++,
        Ud = t++,
        Vd = t++,
        Wd = t++,
        Xd = t++,
        Yd = t++,
        Zd = t++,
        $d = t++,
        ae = t++,
        be = t++,
        ce = t++,
        de = t++,
        ee = t++,
        fe = t++,
        ge = t++,
        he = t++,
        ie = t++,
        je = t++,
        ke = t++,
        le = t++,
        me = t++,
        ne = t++,
        oe = t++,
        pe = t++,
        qe = t++,
        re = t++,
        se = t++,
        te = t++,
        ue = t++,
        ve = t++,
        we = t++,
        xe = t++,
        ye = t++,
        ze = t++,
        Ae = t++,
        Be = t++,
        Ce = t++,
        De = t++,
        Ee = t++,
        Fe = t++,
        Ge = t++,
        He = t++,
        Ie = t++,
        Je = t++,
        Ke = t++,
        Le = t++,
        Me = t++,
        Ne = t++,
        Oe = t++,
        Pe = t++,
        Qe = t++,
        Re = t++,
        Se = t++,
        Te = t++,
        Ue = t++,
        Ve = t++,
        We = t++,
        Xe = t++,
        Ye = t++,
        Ze = t++,
        $e = t++,
        af = t++,
        bf = t++,
        cf = t++,
        df = t++,
        ef = t++,
        ff = t++,
        gf = t++,
        hf = t++,
        jf = t++,
        kf = t++,
        lf = t++,
        mf = t++,
        nf = t++,
        of = t++,
        pf = t++,
        qf = t++,
        rf = t++,
        sf = t++,
        tf = t++,
        uf = t++,
        vf = t++,
        wf = t++,
        xf = t++,
        yf = t++,
        zf = t++,
        Af = t++,
        Bf = t++,
        Cf = t++,
        Df = t++,
        Ef = t++,
        Ff = t++,
        Gf = t++,
        Hf = t++,
        If = t++,
        Jf = t++,
        Kf = t++,
        Lf = t++,
        Mf = t++,
        Nf = t++,
        Of = t++,
        Pf = t++,
        Qf = t++,
        Rf = t++,
        Sf = t++,
        Tf = t++,
        Uf = t++,
        Vf = t++,
        Wf = t++,
        Xf = t++,
        Yf = t++,
        Zf = t++,
        $f = t++,
        ag = t++,
        bg = t++,
        cg = t++,
        dg = t++,
        eg = t++,
        fg = t++,
        gg = t++,
        hg = t++,
        ig = t++,
        jg = t++,
        kg = t++,
        lg = t++,
        mg = t++,
        ng = t++,
        og = t++,
        pg = t++,
        qg = t++,
        rg = t++,
        sg = t++,
        tg = t++,
        ug = t++,
        vg = t++,
        wg = t++,
        xg = t++,
        yg = t++,
        zg = t++,
        Ag = t++,
        Bg = t++,
        Cg = t++,
        Dg = t++,
        Eg = t++,
        Fg = t++,
        Gg = t++,
        Hg = t++,
        Ig = t++,
        Jg = t++,
        Kg = t++,
        Lg = t++,
        Mg = t++,
        Ng = t++,
        Og = t++,
        Pg = t++,
        Qg = t++,
        Rg = t++,
        Sg = t++,
        Tg = t++,
        Ug = t++,
        Vg = t++,
        Wg = t++,
        Xg = t++,
        Yg = t++,
        Zg = t++,
        $g = t++,
        ah = t++,
        bh = t++,
        ch = t++,
        dh = t++,
        eh = t++,
        fh = t++,
        gh = t++,
        hh = t++,
        ih = t++,
        jh = t++,
        kh = t++,
        lh = t++,
        mh = t++,
        nh = t++,
        oh = t++,
        ph = t++,
        qh = t++,
        rh = t++,
        sh = t++,
        th = t++,
        uh = t++,
        vh = t++,
        wh = t++,
        xh = t++,
        yh = t++,
        zh = t++,
        Ah = t++,
        Bh = t++,
        Ch = t++,
        Dh = t++,
        Eh = t++,
        Fh = t++,
        Gh = t++,
        Hh = t++,
        Ih = t++,
        Jh = t++,
        Kh = t++,
        Lh = t++,
        Mh = t++,
        Nh = [];
    $.each({
        rC: od,
        qC: pd,
        aH: qd,
        yH: rd,
        zH: sd,
        EF: td,
        FF: ud,
        HF: vd,
        GF: wd,
        OB: xd,
        AF: yd,
        BF: zd,
        UG: Ad,
        TG: Bd,
        NG: Cd,
        WG: Dd,
        GG: Ed,
        SG: Fd,
        kH: Gd,
        OF: Hd,
        wz: Id,
        oH: Jd,
        nH: Kd,
        lH: Ld,
        lG: Md,
        mG: Nd,
        eG: Od,
        pG: Pd,
        vz: Qd,
        vG: Rd,
        gH: Sd,
        qG: Td,
        yB: Ud,
        zB: Vd,
        xB: Wd,
        iH: Xd,
        KG: Yd,
        JG: Zd,
        sG: $d,
        oG: ae,
        IH: be,
        YG: ce,
        nF: de,
        oF: ee,
        mF: fe,
        QF: ge,
        GB: he,
        gF: ie,
        tH: je,
        uH: ke,
        ZB: le,
        $B: me,
        YB: ne,
        tG: oe,
        MB: pe,
        sH: qe,
        vH: re,
        Nz: se,
        rH: te,
        DF: ue,
        dG: ve,
        hH: we,
        cG: xe,
        aC: ye,
        PB: ze,
        sC: Ae,
        SA: Be,
        Jz: Ce,
        Iz: De,
        IB: Ee,
        JB: Fe,
        Cz: Ge,
        tC: He,
        OG: Ie,
        KB: Je,
        AB: Ke,
        PF: Le,
        iF: Me,
        cC: Ne,
        bC: Oe,
        lA: Pe,
        DB: Qe,
        CB: Re,
        EB: Se,
        pH: Te,
        qH: Ue,
        xH: Ve,
        xG: We,
        rG: Xe,
        bH: Ye,
        NF: Ze,
        Pz: $e,
        Oz: af,
        Lz: bf,
        aF: cf,
        iB: df,
        UD: ef,
        Kz: ff,
        VA: gf,
        hB: hf,
        gB: jf,
        TA: kf,
        mB: lf,
        $A: mf,
        oB: nf,
        sB: of,
        ZA: pf,
        UA: qf,
        rB: rf,
        tB: sf,
        bB: tf,
        wB: uf,
        YA: vf,
        lB: wf,
        uB: xf,
        qB: yf,
        jB: zf,
        fB: Af,
        nB: Bf,
        eB: Cf,
        pB: Df,
        XA: Ef,
        vB: Ff,
        dB: Gf,
        kB: Hf,
        Fz: If,
        PE: Jf,
        gD: Kf,
        OE: Lf,
        QE: Mf,
        ME: Nf,
        LE: Of,
        HD: Pf,
        JE: Qf,
        jE: Rf,
        FD: Sf,
        lE: Tf,
        EC: Uf,
        BD: Vf,
        CD: Wf,
        QD: Xf,
        VD: Yf,
        HC: Zf,
        eE: $f,
        iE: ag,
        KD: bg,
        JD: cg,
        LD: dg,
        WC: eg,
        cD: fg,
        eD: gg,
        oD: hg,
        JC: ig,
        KC: jg,
        LC: kg,
        SC: lg,
        iD: mg,
        aE: ng,
        bE: og,
        ID: pg,
        KE: qg,
        xD: rg,
        pD: sg,
        TC: tg,
        yC: ug,
        xC: vg,
        gE: wg,
        $E: xg,
        UC: yg,
        NE: zg,
        GE: Ag,
        ED: Bg,
        dE: Cg,
        cE: Dg,
        So: Eg,
        SD: Fg,
        qE: Gg,
        RD: Hg,
        hE: Ig,
        kE: Jg,
        wD: Kg,
        sD: Lg,
        qD: Mg,
        TD: Ng,
        nE: Og,
        mE: Pg,
        bD: Qg,
        aD: Rg,
        CC: Sg,
        zD: Tg,
        VE: Ug,
        To: Vg,
        mD: Wg,
        WE: Xg,
        lD: Yg,
        fE: Zg,
        YE: $g,
        ZD: ah,
        hD: bh,
        UE: ch,
        AC: dh,
        TE: eh,
        QC: fh,
        fD: gh,
        XC: hh,
        DC: ih,
        cB: jh,
        aB: kh,
        WA: lh,
        OD: mh,
        PD: nh,
        HE: oh,
        uC: ph,
        YD: qh,
        OC: rh,
        RE: sh,
        yD: th,
        YC: uh,
        GD: vh,
        IC: wh,
        AD: xh,
        VC: yh,
        BA: zh,
        OH: Ah,
        NH: Bh,
        PH: Ch,
        KH: Dh,
        LH: Eh,
        MH: Fh,
        JH: Gh,
        vD: Hh,
        MD: Ih,
        vC: Jh,
        FC: Kh,
        GC: Lh,
        fH: Mh
    }, function (b, c) {
        Nh[c] = b
    });

    function Oh(b) {
        switch (b) {
        case Mf:
            return "128";
        case Nf:
            return "129";
        case Of:
            return "130";
        case Rf:
            return "133";
        case zg:
            return "168";
        case Eg:
            return "173";
        case Og:
            return "183";
        case Pg:
            return "184";
        case Tg:
            return "188"
        }
        k("AppEvent.getPersistable could not map event ", b, Nh[b]);
        return "0"
    };

    function Ph(b, c, d, f, i, l) {
        this.error = b;
        this.message = c;
        this.Hm = d;
        this.Su = f;
        this.Pe = i;
        this.Qe = l
    }
    function v(b, c, d, f, i) {
        w.b(If, new Ph(b, b.no, c, d, f, i))
    };
    var Qh, x, Rh = [];

    function y(b) {
        Rh.push(b);
        return b
    }
    var Sh = y({
        key: "AnonAuthToken",
        n: !1
    }),
        Th = y({
            key: "psn",
            n: !1
        }),
        Uh = y({
            key: "lastUserId",
            n: !1
        }),
        Vh = y({
            key: "storedUserIds",
            n: !1
        }),
        Wh = y({
            key: "hasLoggedIn",
            n: !1
        }),
        Xh = y({
            key: "Volume",
            n: !1
        }),
        Yh = y({
            key: "Muted",
            n: !1
        }),
        Zh = y({
            key: "landingPage",
            n: !1
        }),
        $h = y({
            key: "Username",
            n: !0
        }),
        ai = y({
            key: "Password",
            n: !0,
            Sb: !0
        }),
        bi = y({
            key: "isAnonymous",
            n: !0
        }),
        ci = y({
            key: "PlayTimeMapSeconds",
            n: !0
        }),
        di = y({
            key: "LastPlayTimeSeconds",
            n: !0
        }),
        ei = y({
            key: "DeltaListeningTimeSeconds",
            n: !0
        }),
        fi = y({
            key: "ListeningTimestamp",
            n: !0
        }),
        gi = y({
            key: "LastPlayedStationId",
            n: !0
        }),
        hi = y({
            key: "StationSortOrderAlpha",
            n: !0
        }),
        ii = y({
            key: "SkipResetTimestamps",
            n: !0
        }),
        ji = y({
            key: "StationSkipCounts",
            n: !0
        }),
        ki = y({
            key: "DailySkipCount",
            n: !0
        }),
        li = y({
            key: "CurrentTrack",
            n: !0
        }),
        mi = y({
            key: "ElapsedTime",
            n: !0
        }),
        ni = y({
            key: "ContextualHelpIntents",
            n: !0
        }),
        oi = y({
            key: "DisplayedTips",
            n: !0
        }),
        pi = y({
            key: "CurrentSkinPath",
            n: !0
        }),
        qi = y({
            key: "AlbumArtSize",
            n: !0
        }),
        ri = y({
            key: "DeclinedRenewalOffer",
            n: !0
        }),
        si = y({
            key: "lowQualityAudio",
            n: !0
        }),
        ti = y({
            key: "ShuffleListViewed",
            n: !0
        }),
        ui = y({
            key: "shuffleType",
            n: !0
        }),
        vi = y({
            key: "shuffleStations",
            n: !0
        }),
        wi = y({
            key: "shareOnTwitter",
            n: !0
        }),
        xi = y({
            key: "shareOnFacebook",
            n: !0
        });

    function yi() {
        for (var b = A(Vh) || [], c = 0; c < b.length; c++) {
            var d = zi("U" + b[c], ni),
                f = Ai(d);
            if (f != e && vc(f)) {
                var i = {};
                _.each(("" + f).split(","), function (b) {
                    gd(b) && (i[b] == e ? i[b] = 1 : i[b]++)
                });
                Bi(d, i)
            }
        }
    }
    function A(b) {
        return Ai(Ci(b), b.Sb)
    }
    function B(b, c) {
        Bi(Ci(b), c, aa, b.Sb)
    }
    function Ci(b, c) {
        return b.n ? x ? zi("U" + x, b, c) : (nd("PersistenceManager.currentUserId is null for key " + b.key), "zorro") : b.key
    }

    function zi(b, c, d) {
        return d == e ? b + "." + c.key : b + "." + c.key + "." + d
    }
    function Di(b, c) {
        return c || !md() ? Qc(Qh, Yc(Xc(b))) : b
    }
    function Ai(b, c) {
        var d;
        if (d = b != "ttls") d = (Ai("ttls") || {})[b], d = d != e && d < (new Date).getTime();
        if (d) return Ei(b, c), e;
        d = $.jStorage.get(Di(b, c));
        try {
            return d == e || d.length == 0 ? d : JSON.parse(c || !md() ? Tc(Qh, d) : d)
        } catch (f) {
            return k("Could not parse encrypted value: ", d), e
        }
    }

    function Bi(b, c, d, f) {
        c != e ? ($.jStorage.set(Di(b, f), Di(JSON.stringify(c), f)), d != e && (c = Ai("ttls") || {}, c[b] = d + (new Date).getTime(), Bi("ttls", c))) : Ei(b, f)
    }
    function Ei(b, c) {
        $.jStorage.deleteKey(Di(b, c));
        var d = Ai("ttls") || {};
        d[b] != e && (delete d[b], Bi("ttls", d))
    }
    function Fi() {
        $.jStorage.flush()
    }
    function Gi() {
        var b = Ai("ttls") || {},
            c = [];
        $.each(b, function (b, f) {
            f < (new Date).getTime() && c.push(b)
        });
        $.each(c, function (b, c) {
            Ei(c)
        })
    }

    function Hi(b) {
        B(Sh, b);
        if (x) {
            B(bi, b != e);
            for (var b = [], c = A(Vh) || [], d = 0; d < c.length; d++) if (c[d] != x && Ai(zi("U" + c[d], bi))) for (var f = c[d], i = 0; i < Rh.length; i++) Rh[i].n && Ei(zi("U" + f, Rh[i]));
            else b.push(c[d]);
            c.length != b.length && B(Vh, b)
        }
    }
    function Ii(b) {
        if (!x) return 0;
        var c = A(ci);
        c == e && (c = {});
        b = c[b];
        return b == e || isNaN(Number(b)) ? 0 : Number(b)
    }
    function Ji() {
        if (!x) return 0;
        var b = A(ci);
        b == e && (b = {});
        var c = 0,
            d;
        for (d in b) {
            var f = b[d];
            if (f == e || isNaN(Number(f))) return 0;
            c += Number(f)
        }
        return c
    }

    function Ki(b) {
        var c = A(di);
        c == e && (c = {});
        c[b] = Math.floor((new Date).getTime() / 1E3);
        B(di, c)
    }
    function Li(b) {
        if (!x) return 0;
        var c = A(di);
        c == e && (c = {});
        b = c[b];
        return b == e || isNaN(Number(b)) ? 0 : Number(b)
    }
    function Mi() {
        if (!x) return 0;
        var b = A(ei);
        return b == e || isNaN(Number(b)) ? 0 : Number(b)
    }
    function Ni() {
        if (!x) return 0;
        var b = A(fi);
        return b == e || isNaN(Number(b)) ? 0 : Number(b)
    }
    function Oi() {
        var b = A(wi);
        return b == e || b === !0
    }
    function Pi() {
        var b = A(xi);
        return b == e || b === !0
    }

    function Qi() {
        var b = A(Xh);
        return b == e || isNaN(Number(b)) ? 80 : Number(b)
    }
    function Ri(b) {
        if (!x) return e;
        var c = A(ii);
        return c && c[b] ? c[b] : e
    }
    function Si(b) {
        if (!x) return 0;
        var c = A(ji);
        return c && c[b] ? c[b] : 0
    }
    function Ti(b, c) {
        var d = x ? A(ji) : e;
        d == e && (d = {});
        d[b] = c;
        B(ji, d)
    }
    function Ui(b) {
        B(ki, {
            date: Vi(),
            skips: b
        })
    }
    function Wi() {
        if (!x) return {};
        var b = A(ni);
        return b == e || !wc(b) ? {} : b
    }
    function Xi(b) {
        b = Wi()[Oh(b)];
        return b != e ? b : 0
    }
    function Yi(b) {
        var c = Zi();
        c.push(b);
        B(oi, c.join(","))
    }

    function Zi() {
        if (!x) return [];
        var b = A(oi);
        return b == e ? [] : ("" + b).split(",")
    }
    function $i() {
        if (!x) return e;
        var b = A(pi);
        return b == e || p("" + b) || b == "null" ? e : "" + b
    }
    function aj() {
        if (!x) return 215;
        var b = A(qi);
        if (b == e || isNaN(Number(b))) return 215;
        b = Math.max(b, 134);
        b = Math.min(b, 450);
        return Number(b)
    }
    function bj() {
        if (!x) return "all";
        var b = A(ui);
        return b == e ? "all" : "" + b
    }
    function cj() {
        if (!x) return "";
        var b = A(vi);
        return b == e ? "" : "" + b
    }
    function Vi() {
        var b = new Date;
        return "" + b.getDate() + (b.getMonth() + 1) + b.getFullYear()
    }

    function dj(b) {
        b.Sb = !0;
        var c = A(b);
        b.Sb = e;
        return c
    }
    function ej() {
        if (md()) {
            var b = dj(Uh);
            if (b != e) {
                var c = x;
                x = b;
                var d = dj($h),
                    f = A(ai);
                d != e && f != e && d.length > 0 && f.length > 0 && ($.jStorage.flush(), B(Uh, b), B($h, d), B(ai, f));
                x = c
            }
        }
        b = A(Uh);
        return b != e ? (c = x, x = b, d = A($h), f = A(ai), (d = d != e && f != e && d.length > 0 && f.length > 0) ? B(Uh, b) : x = c, d) : !1
    }
    function fj(b) {
        B(Uh, b);
        if (x = b) {
            for (var c = A(Vh) || [], d = 0; d < c.length; d++) if (b == c[d]) return;
            c.push(b);
            B(Vh, c)
        }
    }

    function gj() {
        var b = $.cookie("ini");
        gd(b) && (B(Zh, b), b = window.location.hostname.indexOf("."), b < 0 && (b = 0), $.cookie("ini", e, {
            path: "/",
            domain: window.location.hostname.substring(b)
        }));
        return A(Zh)
    };
    var w = {
        jf: !1,
        wg: {},
        vg: {},
        ug: {}
    };
    w.d = function (b, c) {
        w.Fg(b, c, w.wg)
    };
    w.nn = function (b, c) {
        w.Fg(b, c, w.vg)
    };
    w.Sd = function (b, c) {
        w.Fg(b, c, w.ug)
    };
    w.Fg = function (b, c, d) {
        var f = d[b] || [];
        f.push(c);
        d[b] = f;
        c = c._caller;
        if (c != e) d = c._eventTypes || [], d.push(b), c._eventTypes = d
    };
    w.Pa = function (b, c) {
        if (c !== aa) for (var d = [w.vg, w.wg, w.ug], f = 0; f < d.length; f++) {
            var i = d[f][c];
            if (i) for (var l = 0; l < i.length; l++) i[l]._caller == b && i.splice(l--, 1)
        } else for (var d = b._eventTypes, f = 0; d && f < d.length; f++) w.Pa(b, d[f])
    };
    w.iv = function (b) {
        var c = $.extend({}, b);
        _.each(["password", "username"], function (b) {
            c[b] && (c[b] = "*****")
        })
    };
    w.b = function (b, c) {
        b != Ld && b != Ce && b != De && b != Tf && c !== aa && w.iv(c);
        for (var d = [], f = [w.vg, w.wg, w.ug], i = 0; i < f.length; i++) {
            var l = f[i][b];
            if (l) for (var q = 0; q < l.length; q++) d.push(l[q])
        }
        for (i = 0; i < d.length; i++) d[i](c, b)
    };
    w.tg = {
        Og: 10,
        pl: "/js/libs/jquery.jplayer-2.1.0",
        Ng: "html, flash"
    };
    w.Ve = function () {
        return w.tg
    };
    w.Ix = function () {
        w.dd = 0;
        setInterval(function () {
            $.get("/appstamp.txt", {
                cachebuster: "" + (new Date).getTime()
            }, function (b) {
                b = parseInt($.trim(b), 10);
                if (b > w.dd) {
                    var c = w.dd;
                    w.dd = b;
                    c > 0 && setTimeout(function () {
                        w.b(vh)
                    }, 6E4)
                }
            })
        }, 3E5)
    };
    w.Gx = function () {
        hj();
        w.paused = !1;
        setInterval(function () {
            if ($.cookie("atn") != ij && !w.paused) w.paused = !0, w.b(Lf)
        }, 1E3);
        w.d(Jf, function () {
            hj();
            w.paused = !1
        })
    };
    w.start = function (b) {
        jj();
        if (!w.jf) w.Pu = setTimeout(function () {
            r("not_loaded", {
                ua: navigator.userAgent,
                site_version: window._pandoraVersion,
                browser: hd()
            });
            w.b(De, "splash");
            $("#splash .cantload").fadeIn();
            kj("page_failed");
            $.cookie("errorCookieInfo", "start")
        }, 4E4), w.d(od, function () {
            clearTimeout(w.Pu)
        });
        if (b) {
            var c = new w.nA;
            c.Og = b.audioPlayerPoolSize;
            c.pl = b.audioPlayerLibraryPath;
            c.Ng = b.audioPlayerMechanisms;
            w.tg = c
        }
        w.Gx();
        w.Ix();
        kj("persistence");
        Qh = Oc(lj());
        Gi();
        $.jStorage.storageAvailable() || k("No persistence mechanism available");
        $.jStorage.currentBackend();
        x = e;
        yi();
        w.d(Uf, Fi);
        kj("persistence-done");
        new mj;
        new nj;
        kj("start-done")
    };
    window.onerror = function (b, c, d) {
        $c(b, c, d);
        return !0
    };
    $(function () {
        var b = Number(parseFloat($.browser.version));
        if ($.browser.msie && b < 7 || $.browser.opera && b < 10.5 || $.browser.mozilla && b < 2 && $.browser.version.indexOf("1.9.2") != 0 || $.browser.webkit && b < 528.16) $("#oldbrowser").fadeIn();
        else {
            var b = swfobject.getFlashPlayerVersion().YI > 0 || deconceptFlashVersionMajor > 0,
                c = swfobject.hasFlashPlayerVersion("10") || deconceptFlashVersionMajor > 9 || deconceptFlashVersionMajor == 9 && deconceptFlashVersionRelease >= 115,
                d = Modernizr.audio && Modernizr.audio.m4a != "" && Modernizr.audio.m4a != "no" && Modernizr.audio.mp3 != "" && Modernizr.audio.mp3 != "no" || c;
            if ($.browser.webkit) b && c ? w.tg.Ng = "flash" : d = !1;
            d ? w.start(e) : b ? ($("#splash").hide(), $("#topnav").hide(), $("#flash_upgrade").show(), swfobject.showExpressInstall({
                data: "/js/libs/swfobject-2.2/expressInstall.swf",
                width: "" + $(document).width(),
                height: "240"
            }, {}, "flash_upgrade", function (b) {
                b.success ? window.location.reload() : $("#noaudio").fadeIn()
            })) : $.browser.webkit ? $("#noaudio_webkit").fadeIn() : $("#noaudio").fadeIn()
        }
    });

    function oj(b) {
        this.isCreator = b.isCreator;
        this.stationId = b.stationId;
        this.stationName = b.stationName;
        this.isQuickMix = b.isQuickMix;
        this.initialSeed = b.initialSeed;
        this.originalSeed = b.originalSeed;
        this.adGenre = b.adGenre;
        this.genre = b.genre;
        this.genreSponsorship = b.genreSponsorship;
        this.antiTarget = b.antiTarget;
        this.originalStationId = b.originalStationId;
        this.isOnDemandStation = b.isOnDemandStation;
        this.advertisingKey = pj(b)
    };

    function qj(b) {
        this.Jb = -1;
        this.pa = b.songTitle;
        this.ue = b.artistSummary;
        this.sg = b.composerName;
        this.Sa = b.albumTitle;
        this.Ra = b.artRadio;
        this.Wp = b.stationId || "";
        this.Ta = b.musicId;
        this.Cg = b.musicIdToken;
        this.nb = b.artistMusicId;
        this.ob = b.rating;
        this.Vk = b.narrative;
        this.Bg = b.lyricSnippet;
        this.Zc = b.lyricId;
        this.Sk = b.lyricChecksum;
        this.Lp = bd(b.artistExplorerUrl);
        this.$H = bd(b.songExplorerUrl);
        this.te = cd(b.artistDetailURL);
        this.Fk = cd(b.albumDetailURL);
        this.xe = cd(b.songDetailURL);
        this.Wk = e;
        this.$p = b.userSeed;
        this.Gk = b.amazonUrl;
        this.Ek = b.albumAmazonDigitalAsin;
        this.VH = b.amazonDigitalAsin;
        this.Pk = b.itunesUrl;
        this.bl = !1;
        this.yg = b.genre;
        this.lc = b.audioWarning;
        this.Xp = b.trackToken;
        if (this.Ra == "") this.Ra = "/images/no_album_art.jpg";
        this.Ip = document.createElement("img");
        this.Ip.src = this.Ra;
        this.Kk = b.compilation
    }
    function rj(b) {
        return {
            songName: b.pa,
            artistName: b.ia(),
            songURL: sj() + b.xe,
            artURL: b.xa()
        }
    }
    h = qj.prototype;
    h.ia = ca("ue");
    h.xa = ca("Ra");
    h.k = ca("Wp");
    h.h = ca("Ta");
    h.lm = ca("Xp");
    h.Jh = ca("$p");
    h.rj = ba("bl");
    h.X = ca("bl");

    function tj(b) {
        this.yq = b.audio;
        this.ty = b.dimmed;
        this.Ue = b.gain;
        this.Lb = b.clickthrough;
        this.bb = b.impression;
        this.tracker = b.tracker;
        this.md = b.companion;
        this.Ta = "V1";
        this.Ra = b.image;
        this.Jb = -1;
        this.Sa = this.pa = "ad";
        this.ue = ""
    }
    yc(tj, qj);
    tj.prototype.ms = ca("bb");
    tj.prototype.If = ba("bb");
    tj.prototype.Bs = ca("tracker");
    tj.prototype.xa = function () {
        var b = this.Ra;
        if (b == e || b == "") b = "/img/ads/generictile.png";
        if (b && b != "/img/ads/generictile.png" && b.indexOf("_500x500") == -1) {
            var c = b.match(/(?:\.([^.]+))?$/);
            c[1] && (b = b.substr(0, b.lastIndexOf(".")) + "_500x500." + c[1])
        }
        return b
    };
    var uj = {},
        vj = j([
            [1897951377, 1693212639, -1525031913, 420768439, 417302503, -1741194345, 52987831, -945614635, -1526274679, -378321223, -475374791, 39959325, 1181604973, -554278401, -853182704, -452306687, 421330478, 380594397],
            [1404060053, 886597199, 1448060665, -1808121247, 1139683602, 800889697, 835267375, 1596187781, 491910574, 1163434067, -327565579, 1692756228, -759607368, 317519750, 972796252, -1379392801, -163661616, 1887333891, -907110853, -1353952453, -1228265123, 1721682166, 1528899802, -842239934, -320279960, -1235860953, 70065641, -1480897224, 1881862749, 69304725, -631391392, 91709832, -419736364, -791514125, -191350436, -754996637, 785145600, -1686611285, -393350898, 1185269159, -888816906, -1815055258, -41751761, 700928604, -2011885034, 2146068483, 2041517319, -1410401895, 741576081, -1948511955, -1369203215, 865433373, -439330440, -1738671154, 2050191660, 2012088320, 1781675431, -1390078070, 1575664028, -1525140194, -510541156, -1889994827, -1889980390, 588085015, 910690601, -415719515, 1963987465, -863971606, 547844609, -550187905, -586344980, -1428972585, -515325496, 1610956062, -1486505046, 89817214, 608105873, 1002873624, -2034965848, 906398982, -1908873235, -152101821, 1270951196, -295906082, -1520214497, 1319571519, -478362923, -1440427694, -1056103007, -1247497763, 950069423, -1024889454, -986195060, -83821255, -1764498657, 361222613, 1027367266, 292461089, 1584636250, -82704394, 542936294, -852576012, -1087533485, -1073243722, 95118714, 1513322080, 334915411, 1989765631, 288266386, -385837425, -1063365534, -130212403, -830000914, -1196821193, 2102003705, -393888982, 1823353138, -1784679925, 644871591, -767140491, 549081293, 1034794058, -416466450, 457012638, 1330868824, 255867216, -403289300, -533474012, 134176777, 746746034, 1789145221, 1449500133, 545450629, 1026850731, 747650549, -407549127, -1428703501, 280884703, -1618737672, 1952667393, -1144437341, -284203070, -1898978477, -998684716, -882669262, -522202499, 957272051, 848904703, -1212632351, -1777166269, 1833466880, -140306429, -271190899, 340296148, -2100715625, 1017520956, 1568790656, 1414711406, -1829289397, 448758320, 731743310, 1393889410, -2410720, 1402525902, -760095898, 1669328607, 203954291, 224069647, 482887705, -1446624914, 213741474, 1563500389, 454091946, -2043740953, -1205104991, 745524045, 1209628274, 1307178401, 412751239, 297281400, -553246558, -1885424313, 205700104, -281515109, 679656081, 1555130404, -1783610840, 176473924, 1246696177, 858264093, 161287256, -1610726608, 1399285880, 256638573, -134843014, -2069992929, -403503697, -1411002614, -725140193, -333733238, -548922272, 973171177, 1682923270, 1956657305, 773637162, -1088938374, -1076874785, -1460027475, -1332741700, 133185702, -1700256755, -1821953882, 1264950446, 1886989823, 1349750163, 771946975, 32942721, -1437247514, -169912178, 1892884859, -1076703444, 1637066940, 1276972461, -1906151679, -2020896912, 1110138860, 2007356264, -1671804284, 824576771, -1609947336, -31829220, -1926856685, -1838313337, 1724695666, -1595491235, 1924431980, -681654162, -492135060, 1603130260, 1892231553, 844598389, 772869711, 552634431, 1347895541, -718571785, 1275625039, 1835292142, 782141791, -668555069, 52515558, -474163299, -1167616342, -504181619, 1638336309, 1478134405, -11889793],
            [-875343690, 69301591, 189316830, -2015856634, -410877194, 353953633, -802935435, -18307498, -504426084, 1180502623, -2044221544, -1302817703, 1787557074, -1359813115, 573916258, -1548362240, -1006598466, -1420843782, -674790748, 156238839, 1985284753, 1373061798, -424573300, 2049870107, 851594290, -1222724274, 1492251184, 745751163, 1823419825, 1852146827, 540003352, 2016304250, -868769733, -505807539, -1165169688, -1168277998, -478256909, -1714798162, -1223748582, 865723878, 1863746582, -637743619, -535519504, 1714570638, 422343362, -1153980204, 1307274490, 493218238, -1622723427, -1270327348, -296830143, 1433532426, 1885344282, 409184997, -1981526624, -1465159525, -927935330, 2047495597, 1405046461, -181646276, 333447575, -171489046, 26820218, -873598129, -978929732, -822628396, -11189160, -1283327137, 330609452, 1316891272, 1343570767, -1753522574, 1498429397, -1432808210, -460403382, -1248644824, -2120497257, 534385745, 2116317136, 1890467714, 985579492, -392451766, 260810111, -1389436975, 1908558033, -567191413, -1873236808, 495000417, 1782945606, 1969851255, 113584410, -990001401, 873658274, -1591923529, 1998337497, -78490951, -1965242693, -1392660193, -1522724818, 1004366714, 1916985276, 1611575094, 1429838807, 1548933378, -422206136, -480667048, -377388368, 1955335192, 1261170181, -866968104, -1557979252, -1882025072, -41139205, 2116161609, -850878993, 588433809, 1432564232, 890508863, -1422135719, 2013244027, -1869522356, 557840714, 1020083974, 1464726761, 628023923, -1174477167, -1751511168, -73103507, -902543176, -1710917490, 25262469, -37137787, 1694346205, 2123300654, -906436688, 897919247, -1554388531, -415884594, 252042903, -1471507297, -2123400751, -2147139719, -202566351, 7825246, -1438614244, -1459229618, -1258087863, -142343416, 390661772, -407268172, 2036594502, -120159442, -222020749, 210077785, -1966432289, -1451184E3, 766000040, -2002131202, -1579786806, -1220122248, 477460949, -1545066009, -1606899870, 778894370, -2136751395, 1874134434, 1084754377, 1168192602, -903877372, 1648313593, -1125319284, -1138842664, 1023056974, -1007137935, 610184643, 104174413, -49193230, -425550179, 991124018, 1412522631, 1680323293, -1705464438, 415561349, 198137177, 529759260, -135549470, -1150476548, 1589839726, -1288650200, -77395161, -1168626387, 1745922256, -1824364428, 754248525, -1134228259, 1843569811, 2145825019, -229513765, 1863505598, -960859003, 1598135365, 582021244, -1829905604, -244723113, 845560546, 79122082, -928812168, 106085490, -1274872377, -545291672, 1141051139, -1354771566, 1418838420, -1201817138, -699282801, 307561740, -1030207798, 1283693874, 1062960660, 713520518, -108387298, -1641467328, -1577194833, 547555980, 482181203, 888478593, 595971472, -1767229152, -169689552, 1228105253, -1920172884, -501685658, 336264011, -479105586, -947043497, -945781448, 19759820, -1375232153, 533299021, 330837238, -1538217735, 1056094353, 922839152, -2054980281, -1643817799, 1579484197, -1840431883, 447237120, 666120076, 1224881680, -1481163909, 1657322749, 909199149, 238277334, 168512266, 1780831939],
            [-784915521, -1810578009, 1744828810, 26497320, -801664372, -557333757, 1589458604, 1552964555, 34300966, -1211513523, -2045511386, 535597336, 1369549409, 381292568, 1748209602, 1430430189, -2140935870, -1951514462, 475883860, -1536971683, 1009786584, 1330349578, 1860460156, -731713944, -542626034, 1983821775, 2016632764, -1779511196, -80774698, -324394134, 1497734830, 591209322, 1303547914, -1952620876, 253864886, -98045263, -1532560815, 1179909409, -1813396186, -859098085, 526807322, 1759532222, 1912929603, 1755220672, 305147163, -1764683207, -1277525190, -904539826, -2133558901, -1236902835, -626175839, -1613317794, 458161867, -362698212, 414021626, 1517510936, 1360671621, -707188091, -1185479618, -1439345498, -78176784, 811239166, 604915058, -2132869482, 680064460, 1383258853, 438843209, 234217492, 527380349, 690757063, -953232108, 1508481765, 206560871, -485808573, 616640362, 1285229564, -1483793917, 3588575, -1858374903, 2145278601, -3549948, -1619246373, -1947710678, 1485552890, -2027149593, -1547923647, 1527865524, 597373156, -1294117740, -482913521, -250360525, -354644513, -13394529, 1911642749, 1500766571, 1515011850, 677732920, 246839017, 1429449122, 132838709, 1546066577, -621136433, -1945350604, -1294905312, -1446072429, 655447988, 1102612835, -1997928924, -1807741828, 1695403376, -1158101793, 333191049, 4215339, 333566145, -2134719140, 1277344043, -910295764, -1418417369, -1364235560, -1566185325, 279511053, -538687596, -112222304, -59566427, 2073457525, 18116621, -1409518749, 164333845, -1184064710, -380550467, 459483681, 1470521992, -2135807315, -1032397876, -1942433739, -1246836530, 1095822130, -386001646, 407889155, -966109271, 630795252, 1953464576, -948367727, -392658393, 1651251218, -1436548228, 1134132202, -1794594697, 1525157446, -567846657, -135749906, 249792470, -681314190, -1747455432, -1861713195, 1733597515, 1131181107, -1826550950, -869012489, -986662608, 1571338098, 845016099, 1167707259, 1166381516, 1514738442, -1199603492, 1887570126, -457833665, -1343679642, -877969678, 1904968888, 1619369054, 1349524204, 98749E3, -1296052808, -45627263, -1316041726, -123028366, 180184395, 442892992, -274729, -631081912, 1742756106, 991515353, 1275736827, -370126724, -2096719402, -817357271, 1072457735, 415977073, 1823234105, 1496211413, 439033250, -1593539569, -491478190, -1440731662, -1042032585, 1302343482, -1196540190, -1158500977, 1621140636, 60853154, 1014371324, -1003791705, -75916796, 1069624911, -487028710, -2058653805, 1932441186, -263409395, 1002306880, -1692464963, 1738409292, 1516011961, 1122956378, -506805630, -1912245423, 1636774208, 726579134, 2081113110, -696453855, 1639000424, 306530098, 165746613, 1115620834, 353523360, -723644281, 1628384853, 117698022, -645606616, 1060411220, 1994914565, -1942777198, 477834240, -355253447, -287954117, -1965805346, 1452768238, -952256149, 1961686054, -332926454, -766463565, -774147018, -1159751429, -1243876169, -931821118, -701179582, -1247609100, 2144792891, -1197628595, -1614722308, 1932878804, -824119702, 1452919998, -695978852, -47395604],
            [-1662416411, 664849238, 48236840, -1413846168, -685638449, -1500076105, 919477603, -1690138665, 956777425, 1777777462, -1814748731, 1154572973, -536409431, 1605737926, 424947257, 653756606, 1979615702, 209768395, 88136844, -95094955, -143393662, -1554163958, -982371550, 636451806, -2013730806, -1805033257, 450615147, 1963727609, 56673387, -2075733335, -920638714, 663520314, 1570798799, 575001770, -1814039262, 422226671, -1663148583, 1033344194, -203329648, 919389779, -244758080, -665497976, 1478814862, -485381403, -37979635, 284470583, -194448236, 1313833373, 1067341802, -465648467, -2028003210, 1256043761, -387802701, 2081036342, -1809893727, 893745935, 960957164, -1705291701, 1270019832, -153200245, -1929461633, 1162400959, -736230871, 1059721975, 452041685, 1682011573, -1530231300, 1227321302, -164999854, 554330182, -1151939389, 51468466, 1304830773, 285188366, -262816529, -978683608, 339015484, 709094568, -2078199124, -714953439, -707869572, 459872944, 1115058229, 330979785, 699350389, -1281480624, 836014757, 2107515730, 1794712545, 1004655641, 370510462, 1156543350, 786679489, -1925896682, -1665783366, 1644738989, 191045481, -1890115790, -1328116980, -839199840, -938969602, 1508466735, 1375123098, 490771541, 1644016988, -835247901, 327018384, -1962607589, -1046682742, -1298296583, -749128412, 371692828, 1544660446, -1349238629, -936200591, 850864867, -1167346048, -1591029878, -458632129, 276529593, 1404156373, -1918891079, 739543329, 354337190, -680989491, 1130911159, -1909218508, -340458847, 785174871, 972642550, -1707975077, -621915138, 41479190, -1377936389, -1840740259, 1093802209, 476312446, 1292661884, -1858749708, -663818515, 1943286213, 674401302, 1808736809, 1188879117, -551923492, -1738488916, 1888278141, -158915581, 1378709144, -422664945, -1429611513, -715104627, -445764441, 1207771773, -132051491, 255825740, 103706129, 1325354819, -1508293149, -312869040, 1620368365, 1882733280, -491430073, -2128532624, -730116803, 1920728466, 1618610156, -297096837, -23081946, -1154486620, 834987212, -1603612903, -676812413, -945800982, -1131820228, 1489386486, -972390899, 499296735, 1601995384, 1634415354, 880125410, 1619693388, 2126618071, 215140118, -1371110770, -449112070, -173757107, 185766062, 1550742739, -2039647466, 956648945, -1566041925, 1121370938, -1224818446, -1579960974, 1867033918, 1631888970, 2079878003, 239356868, -1697637046, 1136903403, -1655599155, 484554528, -1386766480, -1292973233, -1794986041, -339327072, -1208345764, 986468206, 75395400, 1231977161, 2131977316, 1103326838, -868693154, -1303407548, 781575089, -562174672, -842369853, 72000772, -95734497, -71090782, 352017836, 396048840, -1119189535, 1056615697, 741109617, -383110460, 1991688528, -503439060, -208677681, 646723033, -307219704, 2072915125, -1284478919, -2126191584, -154218713, 233120349, 1564527956, -1958570404, 1922427254, -2075301849, -2011290657, -1773517327, 1385071848, 1473919391, -678413190, 2024865505, -1194089001, 748330465, 1299427837, -480935039, -1962658591, -1080979780, 1917369392, -1583441E3, 311327542]
        ]);
    uj.wf = j([-660494265, -1126562572, 1416121723, 3651267882, -1381132614, -2080913454, -1750824686, -1445620563, 1800353587, 106414398, -55703929, 1879595236, 878713105, 714982793, 501235137, 3224649685, -916098940, -77882640, 578344223, -856773873, -664499978, 637393335, -1327613289, 1726668591, -1059857244, -294476294, 1409764844, -877821011, 1259827619, 3031209938, -1241716425, 648910553, 1566661992, -224834686, 2959008482, 1627725132, -810378076, -1958601416, 991632156, -651335083, -136757049, -1715159933, 532690048, 2009531291, 303411786, 202292237, -370113870, 1803419292, 1248939638, 142007909, 591938179, 1046957386, 1857826114, 2037103708, -1159437909, -385950441, -271129120, 1762475667, 855301808, 463072772, -1096833063, 1647679280, -48529371, 1719350744, 4068669942, -28803088, 1653329889, -1523268064, 1715789566, -1946606739, 1368744971, -194947497, 1616727936, 771947589, -651898160, -45434397, 1525356784, 2056092818, 1822690470, -659734215, -899776830, 1774074969, 1430932950, -1169732143, -518826133, -880171331, -211358708, 917549877, -664906879, 2041131815, 1515085202, -483385565, -233710239, 1862353104, -610192193, 1013067784, -704845450, 1860068494, -2125661920, -1282901791, 1647498396, 588265275, -1463358468, -850368446, 1656681537, 321177603, 1114014808, 956821095, 1201043762, -1010568576, -995084615, 1589798068, -1803244996, 1609538643, -1044839665, -395547718, 988061102, -1146338788, 1422945689, -1173118286, 825424519, 803059170, 1265963545, 1532589967, -268816798, 1003839844, -403833827, -817012773, -969864230, 212765583, 1394175023, -1399513825, 855448945, 2107464022, 782642322, -1616599864, -460202943, 2120164615, 1164455951, -233788760, -1231550135, 24380903, 1589588816, 1152934902, -543783606, -91585648, 875290618, 3291392323, -854654845, -1104584739, 1419422153, 3795354100, 791667E3, 820561805, 3442925786, 1263006914, 64258524, -1947973732, -1708097896, 1942996444, 1910390267, 1440359941, 751401112, 3827134104, 1597046497, -161663280, -1714400200, -1230905565, 2217201430, 315859216, -238511334, 2338077650, -476395597, -1346284591, 710300276, 1364396870, 311507069, 364653411, -1489317857, 334218407, -2070576169, 1251875558, 1124899333, -349538053, -96829059, 1830648549, -1181382411, 1831622427, -109755364, 1244441180, -1335247390, 124887960, 1267985868, 1008103971, -1011101729, 1086588634, -2117572687, -350174254, 611773780, -1249775550, 291547320, -1130255089, -655258465, 1888208838, 91871292, 700097208, 1169704430, -1518381703, 16535717, 1211520120, 2812139429, 3436945905, -1910507150, 3711077761, 1065846889, 1484390204, 517974799, -721530141, 2845699247, 2763455610, -89931965, -238406889, -1660991278, -1880932477, 638328291, -1982133493, -249044509, 2451888729, 29992993, 811022951, -1974044114, -461666609, 3706703411, -1315250886, 1185116276, 803093281, 527636763, -500483594, -372024003, 2951618859, -1380201253, -919527311, -733867907, 189843210, -1179202420, 1621433870, -1593351101, 559878802, 612486684, -359208402, -369904452, 1094879814, 1162569174, 2751592268, 3556020291, -853885970, -395929680, -74256028, -336745025, 1764240269, 1520031788, 1645587281, -2014855690, -966535934, 1861518926, -600056631, -1760014917, -852402451, 1677729289, 3504318996, 943938819, -2079630206, 1895723367, 3301784455, -338959859, 167434988, -1728077981, 382787553, 1421238184, -1940336516, -357777760, -359938633, -750536467, 1188304636, 38263995, 1383900149, 584774019, 1719979903, -1563043338, -989338565, 2067172070, -58623508, 1206475204, -622914062, -1830518459, -640702285, -1796077080, 284769645, 1001060277, -1638921804, -404328488, 284611983, 514850637, 2286758663, -396311030, 1997779636, 1318109199, 1124598223, 1180777079, -86062826, 1214100162, -301611745, -725208289, -1681254079, 1480452079, -1011855731, 3025937248, 298327635, -1283222561, -1311737006, 108856055, -1444578933, 1314656422, 2030950498, -559801647, 3165553101, -1336049088, -22536359, -2094065153, 3426863568, 4228916042, 1134997164, -32732626, 240459749, -264075480, -1043194417, 1410374347, 1128220939, 3627726687, 1434446356, 127294998, 1491247620, 1196741935, 999133711, 3294614116, -586192950, 939119733, -1853793073, -1021692741, -1888416014, -220582014, 707040027, 2570508360, 382320335, 451646459, 151909683, -1056102474, -135388413, -131461424, 4149580046, -2001734575, 1464503295, -240343824, -581603511, -1864904878, 1271548579, -921217668, 1270264145, 1328040049, 2220240467, 3807347713, -989042165, 1733563373, 1667782717, -1732895826, 3646475477, 1180237858, -1530461817, 1180234731, 2154007546, -1894642054, 2819390741, 425381193, 2437963693, 1861346093, -1197164522, -1048094536, -897920954, -730480671, -868566865, 1168874199, -1015258452, -1699906002, -1176995742, 687066406, -1604879858, 1971691214, 1149665063, 2763980186, -1609691996, 1043122588, 1478358082, -834619493, 398112309, 1945223810, 2080414944, 445365338, -1145536819, 372166828, -1917358246, 1083265930, -791173261, 1103879931, 1905766388, 1549854583, 1569800660, -197307887, -1527749415, 1086405811, -371290099, -1082969597, -1072746871, 157108079, 662340189, 911781418, -8030400, -481884736, 1710765868, 1232781665, 305252938, -80195530, 615735632, 1824127533, -877972583, 949652926, 465049070, 1789555911, -1879432520, 1678327592, -1757693291, -2095414891, 1219662397, -1769946258, 381309764, 1651893013, -1129259060, -859683293, -95404371, 418871801, -2135701739, -90225019, 919569214, 430258911, -1515930247, 410705037, -1964005706, -162531798, -2002415430, -485722690, -1547715385, -1402562782, -995184654, -2110929414, -1435254315, 1110375827, -1804605163, -278774202, 607738417, -225446776, -1260926338, 3894632676, -1623651469, -1499884200, -1965012448, -579868709, 1435906359, 796079865, 1888265847, -2142439541, 373803685, -1999123204, 1608537823, 632525034, 290785349, 363170827, 2083860643, 609551684, 662520996, -352032894, 2117914225, 631792652, 2072268947, 1274503502, 2887666022, -492036562, 2100999107, -1237535332, -1634544639, -2053428156, 4060148426, -293488197, 2135098761, -1356021012, 262304738, 1046245290, -444537175, 1691828198, -406478198, -1716035396, -1057179023, -615375754, 333053762, 1231605603, 2042766024, 1841024095, 1746843240, 2271374569, 2087390907, 3704049673, 2184862765, 1847363428, 178429479, 377835361, 585948585, 1999855405, 2401213409, 1338039896, 850477211, 4196263641, 1942852851, 1457100782, 2909172663, -1582363235, 1641997721, -1570293357, 945877454, -1296627143, 1539899779, -1079629092, 1491228658, 1371812101, 1927849890, -676266839, 2514689334, 1768582397, -1182142479, -358223566, -1566651555, 1732998016, 3286447986, 1507153160, -1917579734, 4111634, -2028285938, 2060329129, -428819835, 1138047383, 2034634825, 567845973, -1307363395, 2031387624, 1858749674, -1784875763, -1920526739, -90989064, -1327162914, -1945724092, 285071889, -1921330742, 619118301, -822995138, -1268099087, -1646672011, 1419456093, 1738765445, 955776024, -1570114143, 453308750, 1162928134, 2250962272, 1589221676, -1999142747, 860879390, 1195013569, -1651054317, 2108776840, -426133752, -1999599622, 1493368876, -886446823, 1750244024, -1133202947, -637058752, 1434163510, -2135206530, 3115260693, -1868654977, 2102889E3, 2138631127, -1215046581, 139038471, -1971848184, -155455, 785006883, -1237818916, -653696914, 698697188, -1284163114, 690990227, -1111046925, -624439803, 1746934941, -527579526, 1173962690, 2836924527, 1668124736, 101896863, 614085212, -1198123200, 1277962310, 988899046, 991349895, 1398934464, 1015496740, 239113763, -950572166, 902494170, 178892502, 270175568, 598391055, 1956912209, -626936489, 1093583906, 4037454178, 2137686094, 4005353236, -201513415, 1120511626, -1308260124, 859020292, -878996736, -861824791, 2444098190, -222883560, -763608609, -247120679, -342567360, -1662605666, 3610303873, -1970307577, 530815132, 1612461120, -1780588840, -1292718444, -2095339581, 1748100077, 1549536216, 1653214857, 656856995, -2101943244, -1222007353, 1521836994, -1542349594, 1146741764, 188646794, 135015929, 1857961979, -1042920498, -1295449290, -1718950649, -1051555942, 1062536069, 930519416, -171473304, 2802361334, 1410768666, -1080136067, 1103019065, 901538749, 2011766546, -1987012976, -887638115, -859878875, 1046373694, 2218256914, 833577225, 41795647, 860545703, -1972872592, -668191907, 2104738195, -265216903, -402055505, 1689332099, 1226450128, 447021852, -1453439674, 1144517581, 2468907190, 138862871, 4279997678, -836204292, -487384847, -1984853539, 3227953933, -494323739, 1837462581, 2428317174, -1583638929, 938420607, -989423883, -1480335846, -1735575472, 604010387, -1186170580, 1302955830, -1605454480, 204298045, 1898244038, 330891886, 3114582626, 4165713346, 798272028, -1739032003, -1667384938, 2117371861, -1474746580, 850026051, -522489099, 1303676220, 1934673900, -1318949773, 118688351, -1009081047, 3869252712, -2057756659, 273082460, 846003028, -1388127382, 156997640, -1533061352, 162096736, 1006642308, 19949502, -930475241, 1279008923, 2092665779, 1107004847, 4196374315, -594064827, -2043025608, -1748792551, -671131867, 3033188784, -225762753, -147028085, 2138374873, 1391983881, 1248205622, 1652641166, -1143137002, 2463961, 404210109, -2019348041, 1814599874, -1345607787, 1325328814, -354179855, -1009460787, 1593670706, -1313661340, 2668705646, 564648466, 1901453377, 1935848565, 910715861, 2925144821, 3564090865, -1827037870, 611291550, 1515721561, 1793541853, 1017710988, 1457149716, 756248344, 147364445, 2111075113, -227498236, 1908355546, 2735126109, -68612277, -2013518858, -817808015, 1342089452, -273014590, -346824511, -1612994, -2058475288, -67114748, -1971830338, -1796630176, -1545170844, 1065787859, -1091995956, 1500222658, -1939959582, 122371156, -1984567002, -551998351, -1352458875, 1119224167, 616450329, -2115265398, -38718351, -295590751, 518219998, -1940536747, -764174336, 2237359003, 581333134, 1807008154, 4246497581, -397702507, 3178287182, 526806814, 1211874530, 1513621758, -1954716528, -430188675, 3366539768, 1262837027, -1688385429, -1781620317, 1266305098, 773242498, 157978117, 1419030366, 515511589, -2063747213, -730013373, -1054523385, 484756414, 35623825, 216320615, 1691836589, 1794035273, -2082695065, 922721320, 1878749341, -1305513215, 1644043826, 127892, -1251947033, 1150006723, 1080070758, 2136578945, 462411162, 3882339054, -1609084730, 2023969044, 3025640197, -194669384, -12971330, 702409552, 3226043507, -1908143328, -1077985832, 1688057226, -997553583, -1745798717, 196114755, 1418498237, -2125202191, 418562584, -2127649646, -66403193, -974461686, 2046969883, -950896169, 1506525513, 878156774, 959651354, 591127819, 2131345853, -322888082, -1503363837, 113062829, 487359024, -528601753, 646501387, -499239777, 2000221745, 1000773826, -346043076, 2298469777, 1007674591, 1430602838, 309530649, 565139671, 626380291, 1609844074, -255434734, -533886984, 873312462, 1923315311, 522376963, 909551101, -1037646823, 442434660, -1522302597, 193268365, -710477685, -835250760, -1220994910, 1791569505, 265110506, -178655522, 880984896, 1149081892, -111317326, -1305580433, -1822998318, 2080682536, 2665659774, -1919090231, 1136016173, -521409108, 2082575876, -2072414865, -1233955330, -1604955237, -1357030910, 1717615367, -778020548, 1521217351, 1937780677, -1428467119, -1839895297, 1493162039, 1188032609, 518318201, 1366018198, -843374102, -183255804, -1809418464, 1797905089, 494374247, -1775900094, 596929468, -230871542, 1846523, -284028413, -1774580693, 447649291, 334681480, -1368654162, 2000833224, 504048287, -1871395290, 4004749259, -128739999, -1052091643, -661807186, 744246375, 2285405697, -1714621237, 895732307, 216506644, -880199469, 3188409296, -417881250, -1231210446, -461819453, -708193271, 895355799, -972115330, -1317439242, 2009906410, -2052130286, 1507828598, 251933587, 3472738875, -867954189, -1205920007, 743761377, -583210684, 47787561, 491230641, 670630064, -1750788404, -1562694456, 824555619, -1086006153, 555352614, 480217707, 638728558, 295940809, 1888187443, 1564832304, -318520085, -1471319122, 2784463140, -1779382278, 714185035, -102979203, 3783603648, -1054127395, 1629264597, 902944718, -1484909634, 545004424, 2512438705, 1263876993, 1228970266, 2619424046, -539412187, -1188763182, 587758845, -2044731633, -1143797743, -1791171110, -1833663692, 1583039740, 1536464179, 83857190, -1724672447, 657942303, 1362014812, 1413514054, -1601132546, 496805369, 1065233394, 1913623406, -1469938605, 911026636, 1122267871, 1419022742, 1820083946, 309949464, 2104971925, -999654350, 1775142240]);
    var lj = j([
        [229897818, 849839868, -332487530, -907383437, -1140707779, 1654199944, 1768821727, 652357015, 623000070, 1470604882, -1700802255, 325928445, 1032404949, 1187458971, 1923722567, -1203655686, -1390756482, 697642389],
        [-838202984, 1582992320, -1714076669, 679877749, 189010644, 1849391637, 1294974997, -1459294, -1488742285, -1267499271, 726168914, 2094845591, 754773706, -1978458060, -964803934, 127750555, 475421891, -1954094281, 1930533718, 1804524105, 394085593, -2051681430, 1657887374, -1897984338, -15890258, -495691821, -1572079538, -1249123943, 1045945831, -1502595007, 1833385681, 1320753672, -704191285, -1083120076, 99601038, -2126564410, -844996408, -471190585, -95833021, -642258511, -13931089, 204284672, 363505287, 350301540, 2096251266, 1373144888, 630788670, -1816153472, -401154963, -97762171, 1780264345, -463978616, -247249674, -1749504896, 1661023437, 907615021, -12831512, 397335952, -1786395721, 993476149, -1289892824, -1486484666, -1637501503, 1675351685, 956816708, -391449187, 1892156646, -1927668726, 534517972, -2067356029, 1379383480, -1110405008, -1415767431, -297252165, -827208828, 1370363882, -977108484, 1148411618, -424551702, 2063167191, 174620934, -1391584961, 745393472, -333539626, -524786491, -2117597493, -1848292203, 161065330, -1666287795, -629597872, -1515716318, 279188318, 837684612, 1390580413, 1470418347, -1721969561, 1616928068, 819446181, 113011226, -1137116088, 1893567469, 1270822224, -1942858657, 780944747, -764992437, -5230105, 2052542001, -999992473, -1537640841, 650047489, 1734205268, 824706066, -788513771, 957925301, -374186585, 1533109320, -1173745566, -826461704, 2145721040, -357151714, 841612069, 2114269302, 1241753843, -1049389401, 2142940283, -1838067471, -1324159491, 1905776214, -157297790, -201054091, -540165134, -709698336, -1016771856, -1488430653, -594563498, 1731530846, -1798530146, -1606210681, -120326099, -638304073, 162704055, 1158793164, -1080616086, 1632271664, -953274094, 1725021944, 690842045, 1739639665, -44622681, -1967781309, -641513874, -761373643, 65745658, -1214426411, -1813964993, 645427078, 1338844898, -2050732116, 1578591624, 1083724660, 590026151, 374619257, -1119927069, 919795828, -1845588850, 949741829, 1681149992, 2078866991, 27836027, 991084966, 1816575850, 588384585, -1794583888, -1101425630, 1569299599, -958842176, 1540325237, -888719722, 1539346640, 509413950, 1355091328, 969898415, 249646189, -297327243, 449063944, -701365741, 1107499286, -1381919827, -680597934, -778804932, 1098355179, 921066823, -1666097852, 1340413236, 1635380422, 2096582952, 767918068, -2000835789, -1834546588, -1280335848, -278303333, -780249545, 461588273, -667101715, -401949267, -1858128041, 1434456423, -1750756032, -374815067, 195467630, 2099495900, -1597721624, -1903156491, -1493112415, -78449633, 246041414, 252275050, 75487554, 924386488, -134584506, -1983745120, 149251714, -2087652145, 1622942259, 505617848, 587788700, 1687633870, 841560575, 2549740, 1514529746, -1765142328, -167150553, 1778487572, 444538353, 4769090, 154804769, -760448134, -718437660, 1384148803, -823751116, 1125707753, -464419398, -597630465, 1284194762, -1132703057, -382861132, 8794989, 623742166, -728917168, 102274724, -1816409486, -776347168, -75071976, -440781865, 1682065087, 2078723742],
        [-21733635, -306381912, -744029967, -176378044, 1429039436, -1164660022, -381547734, -1299991660, 1607009042, -402998702, -754759649, -439166825, -710246648, 1827069566, 95384152, -641266701, 1622567497, -1349685950, 349194347, -65540781, -294482240, -809162226, 1024527238, -2048819911, -1414777854, -1706213789, 2015358012, 1154205471, -727150729, 1910149322, -220239283, 1094825782, -684452274, 1939354503, -277056907, -494300589, 916538274, 892016842, -742209427, -1484685128, -1017654794, 847680589, 932969587, 142238672, 1099215356, 1985912574, -886341855, 696524866, 2145491540, 1058435670, 1159229527, 999079252, 86553755, 805114715, 1787566030, -91209740, -829271227, 1839351800, 1401981608, -139328093, 1934503773, -1434150918, 1964025873, 1804658669, -608913682, -921334185, -15173140, -2124493524, -1988743674, 1137069043, -177302877, -2040222398, 423375948, -481425272, -569706283, 206961364, -1995276609, -271767082, 703822755, -427391440, -185040687, 2128784808, 196339784, 1762627017, 2069139401, -1843691302, 736819839, 1542164659, -1512726270, 1458966678, -385056603, 1024786372, 1010105275, 824382034, -2068651977, 477383174, 791412835, 28915243, -1389343508, 577668759, -673413218, 1342015518, 250058625, 246215074, -216638913, 414242972, -289953053, -1820650324, 1832775439, 111065849, -1237666466, 1577571453, 1826822183, 243112583, 372960343, -1937708138, 2103358009, 763214910, 1800183795, -1992244437, -478430059, 1210796593, 1184941843, -1205185367, 159027875, -1041734734, -1829498500, 2107083548, 1717162088, -1973878467, -979334533, -1793931378, 85668082, 1777533755, 981628988, 1650968752, 695069126, -1039023194, 49931267, -82940838, 1189597009, 28043600, 380817357, 1018153443, -1258808613, 1477041890, -1102691390, 817007353, -85096175, 1369063118, 641924991, -1297538737, 466052501, 1236104331, 1283110662, 525901675, -595677004, 1267730858, -1311074061, -1367762857, 1162231097, -24262407, 979403729, -1629480743, 943319477, 1346742362, 1842491538, 684231818, 1644633962, -734924384, -418702453, -2017213300, -188901916, -2093017368, 1433345104, -1469387383, 202250897, 636101491, 926093488, -1073854191, -1275868552, -697868318, -679652007, -439843226, -969688977, 260882203, 137526431, -705670178, -735332500, -898570095, -202874621, 1951633522, 1251469271, 1358944081, 1854037419, -952514179, -221850763, -615500027, -7901447, -1842188195, 796332468, -1820356461, 1042145500, 300996451, 985124197, 685221834, -333293243, 1437878022, -1378933693, 307092097, -2052507185, -149857939, -1781671066, 294895386, 433559162, 1422069771, -1738410930, -1239801250, 1639309903, -723122509, 1546543226, 1627266706, -1531749319, 1934841867, -334231859, -1926427978, -1592311471, 717274623, 404420987, 1893525710, -1529537637, -917170529, 936436263, -1450703610, 2047953531, 70803453, 1124273233, 1284478630, 1799480282, -905101325, 438026463, -59942803, 1430045468, -155909065, 916399199, 1391353235, 385801221, -850529431, 806123563, 39169159, -1463583305, 1078258570, 1679455913, -249910367, -573522649, -71380760],
        [1982223603, -1914120326, 1673119344, -168093710, 1947706464, -934868568, 2011192205, -161518924, 1095646864, 1078536813, 1518513073, 680733802, 868705769, -1164672567, -907727792, -195111916, -723872473, -53086897, -797237490, -1310522730, 135608533, -1864755069, 505723833, 340204661, 126389924, -779012581, -1414928074, -1999261634, 1626444430, 265750136, 952664295, 1814671453, 136123214, -1148729170, -2102244111, -1744560770, 166251269, 2019206348, 675536010, 2033139586, 1664460932, 867947356, 415015563, -1949352336, 1934943806, 1097729844, -215743455, 1152939329, -1230477738, -1062002250, -1646094734, -745966900, -1113255229, -1045012556, 1898513641, 815662513, -1209695412, -1474435823, -759507396, -872643116, -108293793, -572780926, 2022587303, -26207250, 2045611257, -31016004, -1067849877, -1746594747, -1595407948, 445118195, -2022755727, -467239754, -2142137154, 1647650691, -492521712, 1924021825, -451120621, 1007593429, 1585867336, 566249380, 167652736, -997230851, -820510928, 1987537237, -77322129, 262455164, 274897663, 1452723459, 253350837, 1993954181, 311086899, 415511719, 172713492, 1598988379, 933809783, -464840682, -1782212473, -2022230711, 1837947820, 1746531791, -206384375, 1552574670, 1930803788, -195613728, -254531863, 2100839943, 404263737, 2076054570, -1257047081, 1122290846, 947256648, -357075167, 1653644953, -1558596525, 479604551, 1668133562, 472305059, -1332310297, -931671832, -198191009, 257794323, 1840067446, 1332484586, -1686394935, 836568977, 1059869891, 124574933, -1157811146, 759298928, -1853108948, 1750828, -2054155681, 926532184, 349063367, 737772888, -1935143471, 2055341648, -5740653, 1123272834, 1403698003, 427644913, 2084653420, 53827208, -556580955, -622974526, -718538160, 777066131, 10642179, -1473927485, 42961280, 733402084, -1298075695, -330803213, 716645118, 991501217, 1804621255, 295909446, 699884413, -502219415, -303184296, -983523053, -1926299132, -1270671729, 1764727330, -985542033, 1070783554, -449455124, 950733955, 1144604746, -213809266, 2113881892, 289964390, 667808448, -205094838, 1829894736, -237492343, 1714574299, 452117068, 687998055, -344931971, 473450841, -240555773, 921904454, -1947709052, 716848713, -923746189, 1655336916, -1361111575, 1374401370, 1351735416, -503841965, -210662912, 28550606, -1013775971, -1627755881, -1956449285, -1231132106, -1798511564, 1839607845, 1333480181, 828920720, -550535857, -79200818, -2072427763, -92182117, -1007537560, -531634013, 597078630, 1019601208, 427553351, 1358839937, 1295606149, 1253698240, 1321359326, 1827036120, -96297979, 1961035071, -1449129387, 1906218152, -1852074724, 830126831, 259976739, -480649884, 562280542, -849465299, 1526639975, 1025967841, 1384043246, 2123956991, -206097982, 373358100, -1299736234, -287411656, 1139982495, 780957194, 982178842, 1868585192, -342016983, -201343E3, 1529621679, -1608908150, -1201917255, 1653588554, -236943630, 160438843, -1639974092, -1312483576, -359232666, 1179000579, -1991728832, -168800292, -195944685, 1440643255, -1784478805, 1294228634, 231058942],
        [346310866, -760785108, -255773812, 462402975, -1991838300, 240492811, 382342214, -535902431, -1506588573, 227308918, -1235754389, 1744325636, 1494196796, -81336513, -1254187923, 1131677180, 618125740, -1255254505, -1029117223, 1746489860, -400793256, -1790807970, 447773130, 897514369, 1839734262, 1931953313, 2039336191, 250787664, -2025426637, 1326940614, -929563768, 1936457968, 750315571, 807450175, 1324985591, 1730186793, 574834892, 446538401, -461826422, -1804212375, 1272844656, -1597838884, 609411969, -918395893, -1091983950, 2034242906, -687308265, 588920300, 1900791685, -1750628192, 1141924258, 2075806930, 1916119262, -1924883801, -1793833298, -744070970, 1751868198, -1068060208, -551272117, 1934334331, -2122147844, 420717243, -1740382679, 635830970, -1464421974, -611800772, -1879975247, 899221619, 235128823, 1385409654, 76799203, 816779713, -926092397, 1649034526, 1731428310, -1566667886, -544352885, 848104315, 2068987801, -1501879997, -971648040, 597634660, 1011756967, -816256336, 509827742, 2105236561, -2073381484, 535587639, 1442863916, -259688764, 1154162298, -1329147873, 1242116280, -674309101, -2129691236, -1590254342, -1776959195, -185688384, 149638103, 30587288, 283319883, -2086106302, 1382586556, 713320120, 159643440, 2087908061, 1707758771, 1408264143, -798412373, 1313073328, -980735637, 426682037, -1786021936, -1598979960, 149656261, -1074946190, 562266820, 1071849995, 203272844, 928777036, -1746950025, -738917907, -1864172749, -1027921778, 808351611, 115564112, 451258030, 1391532245, 974074225, 1052258170, 1500394287, 7472814, -2133625261, 864640902, -1996258910, -1513661669, 1086557597, 835755723, 869467621, -663168492, 1650292399, -1193685367, -1423305959, -1082638598, 604520037, -355064967, -317184772, 789017940, -775204512, -449424947, 685481445, 1875371481, 949742154, -1563315671, 828175252, -1712992024, -2125014394, -94286895, 139800385, -1914750551, -1591004111, 1727600768, -70726198, 157276910, 983607038, 1854715835, 587547850, 71192417, 1202500605, 313054625, 1332967648, 2096005486, 1915131330, -91820094, -544224602, -292927581, -1335047682, -336867977, -625557152, 2072714926, 2079774434, 769210250, -859846950, -38963052, -1473111984, -1396332027, -559123088, 245192377, 1430587735, 807115516, -1797967089, -605290717, -1832360828, 735521680, -119714850, -2041009803, -225999952, -52361340, 1532219385, -1753338216, 1482882949, -729913722, 526862483, 1344697426, -1879713815, 1420857364, 178749626, 348151218, 1024138671, 73407581, 201150095, 258443307, -1880539428, 922289345, -1726210854, -569095356, -1212013925, 593943551, 1877108094, -1369467026, 756404946, 1671239417, -1038910312, 1028722355, -1464597671, 1588106857, -1194587045, -1745622080, 408802864, -307788967, -1238595610, 1953339802, -175053189, 323314842, -1729050542, 488025824, 846074955, -1859913371, 1139433929, -909139537, -400097536, 1669572363, 348222980, 713310757, 181818277, -1736954573, -1728472916, -1450741757, -2092843115, -1230542315, -184772168, -1280578355, -1536881661, 1341851270, -1756297125, -915020579]
    ]);

    function wj() {
        this.kl = !1;
        this.sd = {};
        this.Rb = e;
        var b = xj(C._data.timeout);
        !isNaN(b) && b < yj && (zj = yj = b)
    }
    var zj = 18E3,
        yj = 3600;

    function Aj(b) {
        var c = new wj;
        c.Ea = b.adCookieValue;
        c.Pg = b.authToken;
        c.I = b.listenerState;
        c.ga = b.alertCode;
        c.da = b.username;
        c.p = b.listenerId;
        c.ya = b.hasExplicitContentFilterEnabled;
        c.ei = b.hasExplicitPINSet;
        c.ck = b.webAuthToken;
        c.v = b.webName;
        c.Ch = b.fullName;
        c.sl = b.autoRenew;
        c.Wf = b.subscriptionDaysLeft;
        c.Xf = b.subscriptionHasExpired;
        c.Jg = b.accountMessageKey;
        c.mi = b.isGiftee;
        c.Fh = b.gender;
        c.hc = b.zipcode;
        c.Rg = b.birthYear;
        c.Cc = b.isProfilePrivate;
        c.Ne = b.disallowProfileNotes;
        c.Se = b.fbDisconnected;
        c.H = b.fbId;
        c.rd = b.emailOptIn;
        c.sf = b.notifyOnNote;
        c.rf = b.notifyOnFollow;
        c.mJ = b.proxyHostname;
        c.nJ = b.proxyPort;
        c.Iu = b.homepageUrl;
        c.zi = b.monthlyListeningCapHours;
        c.uq = b.antidote;
        c.Je = b.complimentarySponsor;
        c.Hu = b.highQualityTrialAudio;
        c.Ow = b.pingAndo;
        c.Qj = b.timeoutCredits;
        c.Nr = b.facebookAppId;
        c.eg = b.tsck;
        c.fg = b.tscs;
        var d = b.twShareUserTokens;
        gd(d) ? (d = d.split("|"), c.Bb = d[0], c.ee = d[1]) : (c.Bb = e, c.ee = e);
        b = b.fbShareUserTokens;
        gd(b) ? (b = b.split("|"), c.rh = b[0], c.sh = b[0], c.th = b[1]) : (c.rh = e, c.sh = e, c.th = e);
        return c
    }

    function Bj(b, c) {
        b.Ki = c.Ki;
        b.H = c.H;
        b.qh = c.qh;
        b.sd = c.sd;
        b.Rb = c.Rb
    }
    function Cj(b) {
        b.ei = !0
    }
    function D(b) {
        return b.I == m.u.jg()
    }
    wj.prototype.rb = function () {
        return this.I == m.u.og()
    };

    function Dj() {
        var b = E.l;
        return b.I != m.u.jg() && b.I != m.u.xk() && b.I != m.u.nk() && b.I != m.u.jk()
    }
    function Ej() {
        var b = E.l;
        return b.t() && b.I != m.u.nk()
    }
    function Fj(b) {
        b = parseInt(b.hc, 10);
        return b < 63E3 || b > 65999
    }
    function Gj(b) {
        var c = "";
        if (b.Fh.length > 0 && (b = b.Fh.charAt(0), b == "M" || b == "F")) c = b;
        return c
    }
    wj.prototype.js = ca("H");

    function Hj(b, c) {
        b.H = c;
        if (c == e) b.Rb = e, b.sd = {}
    }
    function Ij(b) {
        return !b.t() && !(b.Je != e && b.Je.length > 0 && !b.Hu) && A(si) != !0 ? "mp3-hifi" : "aacplus"
    }
    wj.prototype.t = function () {
        return this.I != m.u.og() && this.I != m.u.Ep() && !(this.I == m.u.jk() || this.I == m.u.Dp())
    };

    function Jj(b) {
        if (D(b) && !Kj(b) && !b.kl) b.kl = !0, w.b(qf)
    }
    function Kj(b) {
        if (b.rb()) return !0;
        var b = 600,
            c = xj(C._data.playtime);
        isNaN(c) || (b = Math.min(b, c));
        return Ji() < b
    }
    function Lj(b) {
        var c = "0";
        b.Ea != e && (c = b.Ea.split(":")[6]);
        return parseInt(c, 10)
    }

    function Mj(b) {
        return b.qh
    }
    function Nj(b) {
        return b.I == m.u.lk() || b.I == m.u.ip() && b.Xf
    };

    function Oj(b, c) {
        this.Ib = b;
        this.Da = c
    }
    function Pj(b) {
        var c = new Oj;
        c.Ib = b.attr("data-like-type");
        c.Da = b.attr("data-like-objectid");
        c.Hb = b.attr("data-like-id");
        return c
    }
    function Qj(b) {
        var c = new Oj;
        c.Hb = b.id;
        c.ZH = b.listenerId;
        c.Ib = b.likeType;
        c.Da = b.objectId;
        c.bI = b.stationName;
        c.aI = b.stationImgUrl;
        c.YH = b.contextType;
        c.WH = b.contextId;
        c.XH = b.contextName;
        return c
    }
    Oj.prototype.Ub = ca("Ib");

    function Rj(b) {
        this.yq = b.audio;
        this.ty = b.dimmed;
        this.Ue = b.gain;
        this.Lb = b.clickthrough;
        this.bb = b.impression;
        this.tracker = b.tracker;
        this.md = b.companion;
        this.kv = b.minutesToNext;
        this.Ta = "0";
        this.Ra = b.image;
        this.Jb = -1;
        this.Sa = this.pa = "audioad";
        this.ue = ""
    }
    yc(Rj, tj);

    function Sj(b, c, d, f) {
        this.i = b;
        this.Ma = c;
        this.description = d;
        this.context = f
    }
    Sj.prototype.C = ca("i");
    Sj.prototype.h = ca("Ma");
    Sj.prototype.getContext = ca("context");

    function C() {}
    function Tj() {
        return !(p(C._data.sc) && p(Uj()) && isNaN(xj(C._data.tip)) && $.isEmptyObject(Vj()))
    }
    function Wj() {
        var b = C._data.sc;
        b && b.length > 0 && w.b(jg, {
            stationCode: b,
            stationName: C._data.sn
        });
        if ((b = Uj()) && b.length > 0) {
            var b = "!/search/" + escape(b),
                c = Xj();
            c && c.length > 0 && (b += "/" + escape(c));
            window.location.hash = "#" + b
        }
        b = xj(C._data.tip);
        isNaN(b) || w.b(mg, b);
        b = Vj();
        _.each(b, function (b, c) {
            w.b(Ke, [c, b])
        })
    }
    function xj(b) {
        return b != e && b.length > 0 ? parseInt(b, 10) : NaN
    }

    function Yj(b, c) {
        return b == NaN || !b || b > c ? c : b
    }
    function Vj() {
        var b = {};
        _.each(C._data, function (c, d) {
            d.indexOf("ext_") == 0 && (b[d] = c)
        });
        return b
    }
    function Uj() {
        return C._data.search
    }
    function Xj() {
        var b = C._data.searchfilter;
        return b != e ? b.toLowerCase() : e
    }
    function Zj() {
        return C._data.tc || ""
    }
    function $j() {
        return C._data.accountBirthYear
    }
    function ak() {
        var b = C._data.accountEmailOptIn;
        return !(b != e && b == "false")
    }
    function bk() {
        return C._data.rsat
    }
    function ck() {
        C._data.rsat = e
    }

    function sj() {
        return "http://" + C._data.host + (C._data.port != "80" ? ":" + C._data.port : "") + "/"
    }
    window.TunerVars = C;
    var dk = !1,
        ek = !1,
        fk = !1,
        gk = 0,
        hk = 0,
        ik = e,
        jk = e,
        kk = e,
        lk = e,
        mk = e;

    function nk(b) {
        w.b(Ke, b)
    }
    window.Pandora_onExternalEvent = nk;
    window.Pandora.sendTunerCommand = function (b, c, d) {
        nk([b, c, d])
    };

    function ok() {
        if (dk && ek) {
            var b = Pandora.getSecretary();
            if (b != e && Pandora.eiWorking) b.onTunerReady();
            else k("ExternalEventService: could not communicate with secretary (onTunerReady)")
        }
    }

    function pk(b, c, d) {
        var f = Pandora.getSecretary();
        f != e && Pandora.eiWorking ? f.sendToLocalConnection(b, c, d) : k("ExternalEventService: could not communicate with secretary (" + b + ":" + c + ")")
    }
    Pandora.waitForSecretary(function (b) {
        b ? (dk = !0, ok()) : k("ExternalEventService: can't communicate with secretary")
    });
    Pandora.waitForLifter(function (b) {
        b ? (b = Pandora.getLifter().lift(), fk = !0, ik = b.username, jk = b.password, kk = b.station, lk = b.volume, mk = b.lowAudioQuality, gk = b.isImported ? b.isImported : 0) : k("ExternalEventService: can't communicate with lifter")
    });
    w.d(od, function () {
        ek = !0;
        ok()
    });
    $(window).bind("unload", function () {
        var b = Pandora.getSecretary();
        b != e && b.shutdown != e && b.shutdown()
    });
    var qk, rk, sk, tk, uk, vk, wk, xk, yk, zk, Ak, Bk, Ck, Dk, Ek, Fk, Gk, Hk, Ik, Jk, Kk, Lk, Mk, Nk;

    function Ok() {
        qk = !0;
        sk = rk = "0";
        uk = tk = "";
        yk = xk = wk = vk = "0";
        zk = e;
        Ak = 0;
        Ck = Bk = !1;
        Dk = "";
        Ek = "0";
        Fk = C._data.pub != e ? C._data.pub : "default";
        Gk = C._data.zone != e ? C._data.zone : "prod";
        Hk = "false";
        Ik = "0";
        Jk = "CA";
        Lk = Kk = "0";
        var b = $.cookie("v3ad");
        b && Pk(b);
        if (document.cookie != e && document.cookie.match(/v2pub=(\w+)/)) Fk = RegExp.$1;
        w.d(rd, function (b) {
            b && (Pk(b.Ea), Hk = D(b))
        });
        w.d(sd, function (b) {
            b && (Pk(b.Ea), Hk = D(b))
        })
    }

    function Pk(b) {
        var c = new Date;
        c.setTime(c.getTime() + 2592E6);
        var d = "v3ad=" + b + "; ";
        d += "expires=" + c.toGMTString() + "; ";
        d += "path=/; ";
        document.domain != e && document.domain.match(/pandora.com$/) && (d += "domain=.pandora.com;");
        document.cookie = d;
        b = b.split(":");
        qk = String(b[0]) != "0";
        rk = b[1];
        sk = b[2];
        tk = b[3];
        uk = b[4];
        vk = b[5];
        wk = b[6];
        Bk = String(b[7]) == "1";
        yk = b[8];
        Ek = b[9];
        b.length >= 14 && (Ik = b[10], Jk = b[11], Kk = b[12], Lk = b[13])
    }
    function Qk() {
        return (new Date).getTime() + "" + Math.floor(Math.random() * 1E6)
    }

    function Rk(b) {
        if (!qk) return e;
        b || (b = {});
        b.ag = rk;
        b.gnd = sk;
        b.zip = tk;
        b.hours = vk;
        b.tile == e && (b.tile = ++Ak);
        b.comped = wk;
        b.exp = xk;
        b.fb = yk;
        b.dma = Ek;
        b.clean = Bk || Ck ? "1" : "0";
        b.msa = Ik;
        b.st = Jk;
        b.co = Kk;
        b.et = Lk;
        uk = uk.replace(/^\W*/, "").replace(/\W*$/, "");
        if (uk.length > 0) for (var c = uk.split(","), d = 0; d < c.length; d++) b[c[d]] = "1";
        return b
    }
    window.AdService_updateListenerTargetingOptions = Rk;

    function Sk(b, c, d) {
        b == e && (b = {});
        b.fam = Tk(d);
        if (c != e) {
            c = c instanceof Backbone.Model ? c.attributes : c.stationData;
            d = Uk(c) ? !0 : Vk(c, d);
            b.station = pj(c);
            var f = c.initialSeed;
            b.artist = f == e ? "" : f.musicId;
            if (Hk) b.gcat = "none";
            else if (!b.gcat) {
                var i = c.genreSponsorship;
                b.gcat = i ? i : "none"
            }
            zk = f = c.adGenre;
            b.genre = f ? f : i;
            Ck = c.antiTarget;
            Dk = d ? "comedy" : "";
            b = c.originalSeed ? c.originalSeed.key : "";
            window.gStationSeed = b;
            window.gStationArtistId = c.originalSeed && c.originalSeed.type == "artist" ? b : e;
            b = "";
            c.originalSeed && (c.originalSeed.artistName ? b = c.originalSeed.artistName : c.originalSeed.stationName && (b = c.originalSeed.stationName));
            window.gStationArtistName = b;
            window.gStationSongName = c.originalSeed && c.originalSeed.songName ? c.originalSeed.songName : "";
            b = "";
            c.originalSeed && (c.originalSeed.artistDetailUrl ? b = c.originalSeed.artistDetailUrl : c.originalSeed.songDetailUrl && (b = c.originalSeed.songDetailUrl));
            window.gStationSeedUrl = b;
            window.gGenreSponsorship = c.genreSponsorship
        }
    }

    function Uk(b) {
        if (b.genre) for (var c = 0; c < b.genre.length; c++) if (b.genre[c].toLowerCase() == "comedy") return !0;
        return !1
    }
    function Wk(b) {
        if (b != e) {
            var b = b instanceof Backbone.Model ? b.attributes : b.stationData,
                c = b.advertisingKey,
                d = b.isOnDemand;
            return !b.isCreator && gd(c) || d
        }
        return !1
    }

    function Vk(b, c) {
        if (b.isQuickMix) {
            var d = {};
            if (c) for (var f = 0; f < c.length; f++) {
                var i = c[f] instanceof Backbone.Model ? c[f].attributes : c[f];
                d[i.stationId] = i
            }
            i = b.quickMixStationIds || [];
            for (f = 0; f < i.length; f++) {
                var l = d[i[f]];
                if (l) {
                    if (l.antiTarget) break;
                    if (Uk(l) || Vk(l, c)) return !0
                }
            }
        }
        return !1
    }

    function Tk(b) {
        if (b != e) for (var c = 0; c < b.length; c++) {
            var d = b[c],
                d = d instanceof Backbone.Model ? d.attributes : d.stationData,
                d = d.adGenre;
            if (d == "toddler") return 1;
            else if (d == "kids") return 2;
            else if (d == "tween") return 3
        }
        return -1
    }
    function Xk(b) {
        if (b != e) {
            var c = e,
                d;
            for (d in b) if (d != "ord" && d != "tile" && d != "sz" && b[d] != e && b[d] !== "") {
                var f = d + "*" + b[d];
                c == e ? c = f : c.length + b[d].length + 2 < 255 && (c += "!" + f)
            }
            return c != e ? ";u=" + c : e
        } else return e
    }
    window.AdService_getDisplayAdUrl = function () {
        return Mk
    };
    window.AdService_getAndClearDisplayAdCompanionUrls = function () {
        var b = Nk;
        Nk = e;
        return b
    };

    function Yk(b, c, d, f, i, l) {
        var q = Zk(b, c, d, f);
        q != e && $k(q, function (b) {
            i(b, q)
        }, function (b) {
            al(b.name + " : " + f, f, "proxy get failure", c);
            l(b)
        })
    }

    function Zk(b, c, d, f) {
        if (Ck && Dk == "comedy") return e;
        b = bl() + b + "/pand.";
        b += Fk;
        b += "/";
        b += Gk;
        b += ".";
        b += c;
        b += Dk;
        d == e && (d = {});
        for (var i in d) i != "sz" && i != "ord" && i != "tile" && d[i] != e && d[i] !== "" && (b += ";" + i + "=" + d[i]);
        c = Xk(d);
        c != e && (b += c);
        d.tile != e && (b += ";tile=" + d.tile);
        b += ";sz=" + f;
        b += ";ord=" + Qk();
        return b
    }

    function cl(b, c, d, f, i, l) {
        var q = bl() + b + "/pand.";
        q += Fk;
        q += "/";
        q += Gk;
        q += ".";
        q += "tuner";
        q += "";
        c == e && (c = {});
        d == e && (d = {});
        for (var s in c) s != "sz" && s != "ord" && c[s] != e && c[s] !== "" && (q += ";" + s + "=" + c[s]);
        for (s in d) s != "sz" && s != "ord" && d[s] != e && d[s] !== "" && (q += ";" + s + "=" + d[s]);
        b = Xk(c);
        b != e && (q += b);
        q += ";sz=" + f;
        q += ";ord=" + Qk();
        q != e && $k(q, function (b) {
            i(b, q)
        }, function (b) {
            al(q, f, b.name, "tuner");
            l(b)
        })
    }

    function dl(b, c, d, f) {
        b = "/sponsorship/?feature=p1TrialSponsor&sponsor=" + b;
        c && (b += "&st=true");
        $k(b, function (b) {
            b = el(b, "p1trial", "sponsorship");
            d(b)
        }, f)
    }
    function fl(b, c, d, f, i) {
        try {
            var l = b.ms ? b.bb : b.impression;
            if (!p(l)) b.If ? b.If(e) : b.impression = e, gl(l, c, d)
        } catch (q) {
            d(q)
        }
        try {
            var s = b.Bs ? b.tracker : b.tracker;
            p(s) || gl(s, f, i)
        } catch (u) {
            i(u)
        }
    }

    function el(b, c, d) {
        var f = {};
        b && (b = $.trim(b));
        if (b == e || b.length == 0) return al($.trim(b), d, "Ad content is null or empty - ad blocked?", c), f;
        var i = b.indexOf("?>");
        i > -1 && (b = b.substr(i + 3));
        try {
            var l = $.parseXML(b)
        } catch (q) {
            return hl(b, c, d)
        }
        if ($(l).find("parsererror").length > 0) return hl(b, c, d);
        $(l).find("name").each(function () {
            f[$(this).text()] = $.trim($(this).siblings().text())
        });
        return f
    }

    function hl(b, c, d) {
        var f = {},
            i = b.replace(/<\!\[CDATA\[|\]\]>/g, "");
        $("name", i).each(function () {
            f[$(this).text()] = $.trim($(this).siblings().text())
        });
        if (!f || _.size(f) == 0) f = il(b, c, d);
        return f
    }

    function il(b, c, d) {
        for (var f = {}, i = $.trim(b.replace(/<\!\[CDATA\[|\]\]>/g, "")), l = "type,audio,image,dimmed,tracker,companion,impression,clickthrough,minutesToNext,gain,movie,uif,aspectRatio,logoimage,richmedia_companion,followon_companion".split(","), q = ["clickthrough", "tracking", "tracker"], i = $.trim($(i).text()).split(/\s+/), s = 0, u = i.length; s < u; s++) {
            var z = i[s],
                V = i[s + 1],
                ka;
            if (!(ka = _.contains(l, V))) a: {
                ka = q;
                for (var da = V, Sa = !1, Ta = 0; Ta < ka.length; Ta++) {
                    if (Sa) {
                        ka = aa;
                        break a
                    }
                    Sa = da && da.indexOf(ka[Ta]) == 0
                }
                ka = Sa
            }
            ka ? f[z] = "" : (f[z] = V, s++)
        }(!f || _.size(f) == 0) && al(b, d, "AdService : XML parse failed", c);
        return f
    }
    function bl() {
        return "http://" + String.fromCharCode(97) + "d.doublec" + String.fromCharCode(108) + "ick.net/"
    }
    function pj(b) {
        var c = b.advertisingKey;
        /\*$/.test(b.stationName) && (c = b.originalStationId);
        return c
    }
    function jl(b, c) {
        var d = b.split(";");
        _.each(_.keys(c), function (b) {
            for (var i = 0; i < d.length; i++) d[i].indexOf(b + "=") == 0 && (d[i] = b + "=" + c[b])
        });
        return d.join(";")
    }
    window.Patron = {
        getGenre: function () {
            return zk
        }
    };

    function al(b, c, d, f) {
        if (b != e) try {
            var i = {},
                l = b,
                q = b.indexOf(";u=");
            q > 0 && (l = b.substr(0, q));
            l.length > 512 && (l = l.replace(/\s/g, ""), l = l.substr(0, 512));
            i.adUrl = l + " : " + hd();
            i.adType = c;
            i.reason = d;
            i.client = f;
            $.ajax({
                cache: !1,
                type: "POST",
                data: i,
                error: kl,
                success: ll,
                timeout: 1E4,
                url: "/radio/services/brokenAd.jsp"
            })
        } catch (s) {
            nd("Exception in BrokenAdManager", s)
        }
    }
    function kl(b, c) {
        nd("BrokenAdManager.error: " + c)
    }
    function ll(b, c) {
        c != "success" && nd("BrokenAdManager: unexpected status: " + c)
    };

    function ml(b, c, d) {
        d = new flensed.flXHR({
            instancePooling: !0,
            noCacheHeader: !1,
            xmlResponseText: !1,
            onerror: d,
            onreadystatechange: function (b) {
                if (b.readyState == 4) try {
                    c(b.responseText)
                } catch (d) {}
            }
        });
        d.setRequestHeader = nl;
        d.open("GET", b);
        d.send()
    }
    function nl() {};

    function $k(b, c, d) {
        ml(b, c, d)
    }
    function gl(b, c, d) {
        try {
            var f = new Image(1, 1);
            f.onload = function () {
                f.onerror = f.onload = e;
                c && c()
            };
            f.onerror = function () {
                f.onerror = f.onload = e;
                d && d()
            };
            f.src = b
        } catch (i) {
            al(b, "impression", "fallback image ping failed", "ads")
        }
    };
    var ol = [],
        pl = !1,
        kd = 0,
        jd = !1;
    setInterval(function () {
        kd = 0
    }, 1E3);
    setInterval(function () {
        jd = !1
    }, 6E4);
    var ql = e;

    function jj() {
        "start" == $.cookie("errorCookieInfo") && (Math.random() * 100 < 5 ? (w.d(af, function () {
            $.cookie("errorCookieInfo", e)
        }), ql = "" + (new Date).getTime() + "." + (Math.random() * 1E3 | 0), $.cookie("errorCookieInfo", "log")) : $.cookie("errorCookieInfo", e));
        kj("start")
    }

    function kj(b) {
        "log" == $.cookie("errorCookieInfo") && r("cant_load_site", {
            ua: hd(),
            flash_ver: id(),
            checkpoint: b,
            site_version: window._pandoraVersion,
            ticket: ql
        })
    }
    function r(b, c, d) {
        var f = rl() + "/v1";
        try {
            if (!(b == e || b == "")) {
                var i = {
                    type: b
                };
                c != e && $.each(c, function (b, c) {
                    b == e || b == "" || c == e || c == "" || (i[b] = c)
                });
                d && d.p && (i.listener_id = d.p);
                sl(f, i)
            }
        } catch (l) {
            k("StatsCollectorUtil.logEvent error: " + l)
        }
    }

    function tl(b, c) {
        try {
            c && c.p && c.p % 10 == 0 && r("promo_box", b, c)
        } catch (d) {
            k("StatsCollectorUtil.logEvent error listenerId % 10 failed: " + d)
        }
    }
    function ul(b) {
        var c = rl() + "/v2";
        try {
            if (!(b == e || b.length == 0)) {
                var d = {};
                $.each(b, function (b, c) {
                    d["type" + b] = c
                });
                sl(c, d)
            }
        } catch (f) {
            k("StatsCollectorUtil.logMultipleEvents error: " + f)
        }
    }

    function sl(b, c) {
        if (pl && !(jd && c.type == "script_error")) {
            var d;
            a: {
                d = xc();
                for (var f = 0; f < ol.length; f++) {
                    var i = ol[f].url,
                        l = ol[f].data,
                        q = ol[f].time;
                    if (i != e && i == b && l != e && _.isEqual(l, c) && q != e && d - q < 300) {
                        d = !0;
                        break a
                    }
                }
                ol.length >= 7 && ol.shift();
                ol.push({
                    url: b,
                    time: d,
                    data: c
                });
                d = !1
            }
            d || $.ajax({
                cache: !1,
                type: "GET",
                data: c,
                dataType: "jsonp",
                crossDomain: !0,
                error: vl,
                success: wl,
                url: b
            })
        }
    }
    function rl() {
        var b = C._data.statsHost,
            c = C._data.statsPort;
        pl = b ? !0 : !1;
        return "http://" + b + (c != e ? ":" + c : "")
    }

    function vl(b, c) {
        nd("StatsCollectorUtil.jsonpError: " + c);
        !jd && ++kd > 50 && (jd = !0)
    }
    function wl(b, c) {
        c != "success" && nd("StatsCollectorUtil.jsonpSuccess: unexpected status: " + c)
    };
    var ij;

    function hj() {
        ij = "AT-" + (new Date).getTime() + "-" + Math.floor(Math.random() * 1E3);
        $.cookie("atn", ij)
    };

    function xl(b, c, d, f, i) {
        this.url = b;
        this.method = c;
        this.Yg = f;
        this.iq = d;
        this.timeout = 12E4;
        this.wx = !0;
        this.Uy = !1;
        this.mx = o(this, this.lx);
        this.qx = i
    }
    var yl = e,
        zl = 0,
        Al = 0,
        Bl = e,
        Cl = e;
    xl.prototype.apply = function (b) {
        var c = this.url;
        if (!this.Uy) {
            var d = yl + "P";
            c += c.indexOf("?") >= 0 ? "&" : "?";
            c += "rid=" + d.substr(6);
            Bl != e && c.indexOf("lid=") < 0 && (c += c.indexOf("?") >= 0 ? "&" : "?", c += "lid=" + Bl);
            c += "&method=" + this.method.substr(this.method.indexOf(".") + 1);
            if (this.iq) for (d = 1; d < b.length; d++) c = c + "&arg" + d + "=" + escape(b[d]);
            c.length > 1024 && (c = c.substr(0, 1024))
        }
        if (this.wx) {
            d = this.method;
            d.indexOf("misc.") != 0 && (b = [zl + (Gc() - Al)].concat(b));
            var f = [];
            f.push('<?xml version="1.0"?><methodCall><methodName>');
            f.push(d);
            f.push("</methodName><params>");
            for (d = 0; d < b.length; d++) f.push("<param>"), Dl(b[d], f), f.push("</param>");
            f.push("</params></methodCall>");
            b = f.join("");
            b = Qc(Cl, Yc(Xc(b)))
        } else b = "";
        this.Yg.send(c, b, this.timeout, this.mx)
    };
    xl.prototype.lx = function (b) {
        var c = b;
        b instanceof Ac && (c = El(b.body));
        this.qx(c)
    };
    xl.prototype.setTimeout = ba("timeout");

    function Dl(b, c) {
        c.push("<value>");
        if (wc(b)) if (b.constructor == Array) {
            c.push("<array><data>");
            for (var d = 0; d < b.length; d++) Dl(b[d], c);
            c.push("</data></array>")
        } else {
            c.push("<struct>");
            for (d in b) b[d] != e && (c.push("<member>"), c.push("<name>"), c.push(d), c.push("</name>"), Dl(b[d], c), c.push("</member>"));
            c.push("</struct>")
        } else typeof b == "number" ? (c.push("<int>"), c.push(b), c.push("</int>")) : typeof b == "boolean" ? (c.push("<boolean>"), c.push(b ? "1" : "0"), c.push("</boolean>")) : vc(b) ? (c.push("<string>"), vc(b) && c.push(b.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;").split("'").join("&apos;").split('"').join("&quot;")), c.push("</string>")) : k("unknown type: value: " + b + ", current output: " + c.join(""));
        c.push("</value>")
    }

    function El(b) {
        if (b.nodeName != "methodResponse") return Fl("invalid top node: " + b.nodeName);
        var c = b.firstChild;
        if (c == e) return Fl("no child in methodResponse");
        if (c.nodeName == "fault") {
            b = Gl(c.firstChild);
            if (b == e) return Fl("invalid fault data");
            c = b.faultString.split("|");
            return c.length != 4 ? new Fc(b.faultString, b.GI) : new Fc(c[3], c[2])
        } else if (c.nodeName == "params") {
            for (var b = [], d = 0; d < c.childNodes.length; d++) {
                var f = c.childNodes[d];
                if (f.nodeType != 3) {
                    if (f.nodeName != "param") return Fl("not a param node");
                    f = Gl(f.firstChild);
                    if (f == e) return Fl("invalid item");
                    b.push(f)
                }
            }
            return new Bc(b)
        } else return Fl("invalid response data: " + c.nodeName)
    }
    function Fl(b) {
        k("XmlRpc parse error: " + b);
        return new Fc(b, 0)
    }

    function Gl(b) {
        if (b.nodeName != "value") return k("not a value node");
        if (b.childNodes.length == 0) return "";
        var c = b.firstChild;
        if (c.nodeType == 3) return c.nodeValue;
        if (c.nodeName == "struct") {
            for (var d = {}, f = 0; f < c.childNodes.length; f++) {
                var i = c.childNodes[f];
                if (i.nodeType != 3) {
                    if (i.nodeName != "member") return k("not a member node");
                    for (var i = i.childNodes, l, q = 0; q < i.length; q++) {
                        var s = i[q];
                        if (s.nodeType != 3) if (s.nodeName == "name") l = i[q].firstChild.nodeValue;
                        else if (s.nodeName == "value") {
                            if (b = Gl(i[q]), b == e) return e
                        } else return k("unknown node: " + i[q].nodeName)
                    }
                    d[l] = b
                }
            }
            return d
        } else if (c.nodeName == "array") {
            b = c.firstChild;
            if (b.nodeName != "data") return k("not a data node");
            d = [];
            for (f = 0; f < b.childNodes.length; f++) if (b.childNodes[f].nodeType != 3) {
                c = Gl(b.childNodes[f]);
                if (c == e) return e;
                d.push(c)
            }
            return d
        } else return c.nodeName == "int" || c.nodeName == "i4" ? Number(c.firstChild.nodeValue) : c.nodeName == "boolean" ? c.firstChild.nodeValue == "1" ? !0 : !1 : c.nodeName == "string" ? c.childNodes.length == 0 ? "" : c.firstChild.nodeValue : k("unknown node: " + c.nodeName)
    };
    var F = uj.wf(),
        G = "cY",
        H = [20, 48, 14, 37, 17, 31, -1, 27, 3, 13, 9, 22, 40, 6, 46, 18, 10, 23, 47, 39, 28, 24, 2, 1, 4, 41, 15, 33, 21, 36, 43, 49, 32, 42, 11, 26, 29, 25, 12, 16, 35, 44, 38, 0, 7, 5, 34, 8, 45, 19, 30],
        I = [28, 48, 27, 25, -1, 6, 4, 9, 1, 39, 14, 24, 42, 45, 47, 18, 20, 21, 31, 7, 16, 0, 12, 30, 33, 32, 40, 26, 10, 15, 19, 44, 35, 36, 3, 23, 38, 37, 17, 13, 5, 34, 11, 22, 49, 41, 46, 2, 8, 43, 29],
        J = [9, 2, 26, 5, 24, 0, 6, 15, 29, 34, 18, 1, 37, 46, 44, 41, 48, 42, 47, 45, 7, 31, 38, 12, 16, 17, 30, 13, 19, 35, 33, 32, 8, 28, 11, 20, 22, 49, 40, 23, 36, 25, 39, 14, 43, 3, 27, -1, 21, 4, 10],
        K = "DS",
        L = 549566546,
        M = 3243032073,
        N = "JC",
        O = [0, 30, 11, 7, 9, 38, 23, 10, 37, 40, 29, 42, 14, 27, 24, 15, 3, 33, -1, 43, 39, 32, 45, 44, 26, 21, 31, 4, 47, 5, 17, 34, 6, 13, 48, 49, 2, 35, 25, 36, 46, 16, 1, 22, 28, 41, 18, 12, 8, 20, 19],
        P = [41, 32, 14, 27, 20, 15, 39, 28, 10, 46, 45, 24, 16, 5, 40, 35, 43, 7, 0, 48, 25, 29, 13, 42, -1, 22, 23, 17, 18, 6, 30, 36, 1, 33, 47, 26, 2, 37, 44, 11, 34, 4, 31, 19, 49, 3, 12, 9, 38, 21, 8];

    function Hl() {
        this.aa = !1;
        this.LJ = e
    }
    h = Hl.prototype;
    h.send = function (b, c, d, f) {
        w.b(Ce, b);
        this.aa && k("request pending");
        this.aa = !0;
        this.gd = f;
        this.xI = b;
        this.wI = c;
        b.indexOf("/jsonp") != -1 ? $.ajax({
            cache: !1,
            contentType: "text/plain",
            type: "GET",
            data: {
                req: c
            },
            dataType: "jsonp",
            processData: !0,
            crossDomain: !0,
            error: o(this, this.Jm),
            success: o(this, this.Yu),
            timeout: d,
            url: b
        }) : $.ajax({
            cache: !1,
            contentType: "text/xml",
            type: "POST",
            data: c,
            dataType: "xml",
            processData: !1,
            error: o(this, this.Dv),
            success: o(this, this.Ym),
            timeout: d,
            url: b
        })
    };
    h.Jm = function (b, c) {
        nd("jsonpError: ", c);
        this.qd(new Ec(c))
    };
    h.Yu = function (b, c) {
        c == "success" ? this.Ym($.parseXML(b.rpcResult)) : (nd("jsonp unexpected status: " + c), this.Jm(0, c))
    };
    h.qd = function (b) {
        this.aa = !1;
        this.gd(b)
    };
    h.Ym = function (b) {
        this.qd(new Ac(b.lastChild))
    };
    h.Dv = function () {
        this.qd(new Ec("load failed"))
    };

    function Il(b) {
        this.Va = b == e ? [] : b;
        this.Va.constructor != Array && k("call method must have an Array for its args parameter")
    }
    Il.prototype.Gh = ca("Va");

    function Q(b) {
        this.Va = b == e ? [] : b;
        this.Va.constructor != Array && k("call method must have an Array for its args parameter")
    }
    Q.prototype.Gh = function () {
        for (var b = [], c = 0; c < this.Va.length; c++) b.push(this.Va[c]);
        E.l && E.l.Pg ? b.unshift(E.l.Pg) : $c("User not logged in while in AuthorizedRequestArguments. Args=" + this.Va.join(","));
        return b
    };

    function Jl(b, c, d, f, i, l) {
        this.method = b;
        this.Va = c;
        this.Tn = d;
        this.cm = f;
        this.context = i;
        this.Wu = l;
        this.wl = 0;
        this.jd = !1
    }
    Jl.prototype.getContext = ca("context");
    Jl.prototype.cancel = function () {
        this.jd = !0
    };
    var E = {
        op: "radio/xmlrpc/v32",
        mp: "radio/jsonp",
        VENDOR: "html5tuner",
        Eb: "HTML5",
        kp: {
            misc: "message,logTunerDiagnostics,logRadioEventMessage,sync,getCookies,setCookie".split(","),
            listener: "isUsernameUnique,getUsername,getArtistBookmarks,getSongBookmarks,emailPassword,addTrackingCode,getListenerResult,addTiredSong,setExplicitContentFilter,setExplicitPIN,verifyExplicitPIN,emailExplicitPINRescue,getProfileInfo,getExtendedProfileInfo,setProfileInfoExtended,getProfileInfoWithStations,getCountNewFeedPosts,publishSongShare,publishStationShare,getSVNAds,checkSVNAdComplete,exerciseTimeoutCredit,clearVendorBilledTrialExpiredAlertCode,clearVendorBilledSubscriberTimedOutAlertCode,acknowledgeSubscriptionExpiration,getShowCpa,canListen,setAwareOfProfile,setPrivacySettings,setFacebookShareUserTokens,setTwitterShareUserTokens,like,unlike,getLikeInfo,getFollowInfo,search,banListener,unbanListener,accountMessageDismissed,deleteCreditCard,getAvailableFeatures".split(","),
            music: "search,searchCancelled,shareSong,getSeedSuggestions,getRelatedSongInfoForFacebookShare,searchTextForArtists,getSearchRecommendations".split(","),
            playlist: ["getFirstFragment", "narrative", "getFragment"],
            station: "createStation,createMixStation,addSeed,deleteSeed,deleteSeedByMusicId,addThumbUp,addFeedback,deleteFeedback,transformShared,getStations,setStationName,removeStation,getStation,getQuickMix,setQuickMix,shareStation,setStationNameAndDescription".split(","),
            friends: "getServices,activity,find,findByAddress,add,invite,findFans,hideFeedItem,hideActivityItem,hideAllFeedItems,reportFeedSpam,follow,unfollow".split(","),
            facebook: ["getFriends", "connectListener", "addFacebookFriends", "disconnect"]
        },
        up: {
            vendor: ["getVendor"],
            listener: "createListener,createListenerAndWhitelist,register,activateAccount,changeAccount,resetPassword,setBillingInformation,authenticateListener,getCreditCard,unsubscribe,setPrivacySettings,startComplimentaryTrial,redeemGiftCode,createP1Gift,loadGift,emailGift".split(","),
            facebook: ["getSigPlus"]
        }
    };
    E.init = function () {
        E.Yg = new Hl;
        E.f = {};
        E.J = [];
        E.aa = !1;
        E.yn = Oc(vj());
        Cl == e && (Cl = Oc(uj.wf()), delete uj.wf);
        yl == e && (yl = Hc());
        E.l = e;
        E.yr = o(E, E.qd);
        E.gl(E.kp, E.xs(), !0);
        E.gl(E.up, E.vs(), !1);
        E.f.listener.setBillingInformation.setTimeout(18E4);
        E.f.station.getStations.setTimeout(3E5)
    };
    E.NI = ea("/");
    E.us = function () {
        var b = C._data.shost,
            c = C._data.sport;
        return b == e || c == e || C._data.nossl ? "/" : "https://" + b + ":" + c + "/"
    };
    E.xs = function () {
        return "/" + E.op
    };
    E.vs = function () {
        return E.us() + E.mp
    };
    E.gl = function (b, c, d) {
        for (var f in b) for (var i = b[f], l = 0; l < i.length; l++) {
            E.f[f] == e && (E.f[f] = {});
            var q = i[l];
            E.f[f][q] = new xl(c, f + "." + q, d, E.Yg, E.yr)
        }
    };
    E.g = function (b, c, d, f, i) {
        b = E.ln(b, c, d, f, i, !1, !1);
        E.Ah();
        return b
    };
    E.ln = function (b, c, d, f, i, l, q) {
        b == e && k("dispatchRequest called with null rpc");
        var s = c.Gh();
        if (s != e) for (var u = 0; u < s.length; u++) s[u] == e ? k("dispatchRequest called with null, method: " + b.method) : typeof s[u] == "object" && s[u].constructor != Array && (k("dispatchRequest called with non Array object, method: " + b.method), k("maybe you forgot to use '.getValue()'?"));
        b = new Jl(b, c, d, f, i, q);
        l ? E.J.unshift(b) : E.J.push(b);
        return b
    };
    E.Pq = function () {
        for (var b = 0; b < E.J.length; b++) E.J[b].cancel()
    };
    E.Ah = function () {
        if (!(E.aa || E.J.length == 0)) {
            var b = E.J[0];
            b.wl++;
            b.jd ? (E.J.shift(), E.Ah()) : (E.aa = !0, b.method.apply(b.Va.Gh()))
        }
    };
    E.qd = function (b) {
        w.b(De, "rpc response");
        if (b instanceof Fc && b.code == m.e.np()) E.J.shift(), E.aa = !1, w.b(Df);
        else if (b instanceof Fc && b.code == m.e.Vo()) E.J.shift(), E.aa = !1;
        else if (b instanceof Fc && b.code == m.e.hp()) E.J.shift(), E.aa = !1, w.b(Ze);
        else if (b instanceof Fc && b.code == m.e.Xo()) E.J.shift(), E.aa = !1;
        else if (b instanceof Fc && b.code == m.e.Eo()) E.J.shift(), E.aa = !1, w.b(jf);
        else {
            if (E.J[0].Wu) if (E.J.shift(), b instanceof Cc) {
                var c = E.J.shift();
                E.aa = !1;
                c.jd || E.oh(c, b);
                return
            } else E.la(Aj(n(b)));
            else if (b instanceof
            Fc && (b.code == m.e.wo() && E.l != e || b.code == m.e.sk() && !D(E.l))) if (c = E.J[0], c.wl < 3) {
                var b = A($h),
                    c = A(ai),
                    d = new Il([b, c, E.VENDOR, "", "", E.Eb, !0]);
                E.ln(E.f.listener.authenticateListener, d, e, e, {
                    da: b,
                    dJ: c
                }, !0, !0)
            } else E.J.shift(), c.jd || E.oh(c, new Dc("Dispatch request reached max attempts"));
            else c = E.J.shift(), b instanceof Fc && m.e.pk(), c.jd || E.oh(c, b);
            E.aa = !1;
            E.Ah()
        }
    };
    E.oh = function (b, c) {
        c instanceof Dc ? b.cm != e && b.cm.call(E, c, b.getContext()) : b.Tn != e && b.Tn.call(E, c, b.getContext())
    };
    E.cb = function () {
        return E.l != e
    };
    E.yu = function () {
        return A(Sh) != e
    };
    E.mf = function () {
        Hi(e)
    };
    E.Im = function () {
        B($h, e);
        B(ai, e)
    };
    E.Nj = function (b, c) {
        b = b != e ? b.toLowerCase() : e;
        b != e && E.l.da != b ? k("Returned username does not match sent username: " + E.l.da + " != " + b) : D(E.l) ? Hi(E.l.Pg) : (B($h, b), B(ai, c), A(Wh) !== !0 && B(Wh, !0), E.mf(), $.cookie("v2lo", e))
    };
    E.la = function (b) {
        var c = E.l;
        E.l = b;
        Bl = b != e ? b.p : e;
        fj(b != e ? b.p : e);
        E.rx(b);
        c != e && b != e && c.p == b.p ? (Bj(b, c), w.b(sd, b)) : (w.b(rd, b), b != e && (Jj(b), E.dv(), E.xi(), E.fs(function (b) {
            w.b(bf, b)
        })))
    };
    E.ev = 0;
    E.xi = function (b) {
        if (b || E.l && !D(E.l)) fk ? Pandora.getLifter().markImported(1) && (gk = 1) : E.ev++ < 10 && setTimeout(E.xi, 500)
    };
    E.dv = function () {
        if (gd(A($h)) && A($h) == ik) {
            if (gd(kk) && p(A(gi))) {
                B(gi, kk);
                var b = lk;
                gd(b) && (b = parseInt(b, 10), b >= 0 && b <= 100 && w.b(Tf, b))
            }
            A(si) != !0 && mk == 1 && B(si, mk)
        }
    };
    E.rx = function (b) {
        var c = b == e ? "" : escape(b.ck),
            b = new Date;
        b.setTime(b.getTime() + 2592E6);
        c = "at=" + c + "; path=/; ";
        c += "expires=" + b.toGMTString() + "; ";
        document.domain != e && document.domain.match(/pandora.com$/) && (c += "domain=.pandora.com;");
        document.cookie = c
    };
    E.py = function (b, c) {
        E.g(E.f.misc.sync, new Il([C._data.c]), function (d) {
            var f = E.By(n(d));
            f == e ? c(new Cc("Invalid sync value from server: " + n(d))) : b(f)
        }, c, {})
    };
    E.By = function (b) {
        for (var b = Wc(E.yn, b), c = 0; c < 4; c++) b.shift();
        b = Uc(Vc(b));
        b = Number(b);
        return isNaN(b) ? e : b
    };
    E.Aq = function (b, c) {
        E.g(E.f.listener.getListenerResult, new Il([b, E.VENDOR, E.Eb]), E.Um, c, {})
    };
    E.Jl = function (b) {
        var c = C._data.af,
            c = new Il([E.VENDOR, "", "", E.Eb, !0, c != e ? c : ""]);
        E.g(E.f.listener.createListener, c, E.Um, b, {
            newUser: !0
        })
    };
    E.Um = function (b, c) {
        w.b($e);
        var d = Aj(n(b));
        d.Ki = c.newUser;
        E.la(d);
        E.Nj(e, e)
    };
    E.Oq = function (b, c, d) {
        E.g(E.f.listener.canListen, new Il([b, ""]), function (b) {
            c(n(b))
        }, d, {})
    };
    E.Wa = function (b, c, d) {
        (b == e || c == e) && k("null arguments");
        var f = new Il([b, c, E.VENDOR, "", "", E.Eb, !0]);
        return E.g(E.f.listener.authenticateListener, f, E.rl, d, {
            username: b,
            password: c
        })
    };
    E.cx = function (b, c, d, f, i, l, q) {
        E.g(E.f.listener.register, new Q([b, c, d, f, i, l, E.VENDOR, "", E.Eb]), function (b, c) {
            E.rl(b, c);
            w.b(Le)
        }, q, {
            username: b,
            password: c
        })
    };
    E.rl = function (b, c) {
        w.b($e);
        var d = Aj(n(b));
        E.la(d);
        E.Nj(c.username, c.password)
    };
    E.qs = function (b, c, d) {
        E.g(E.f.station.getStations, new Q([b]), function (b) {
            var b = n(b),
                d = (new Date).getTime(),
                l = 0;
            $.each(b, function () {
                E.Yc(this, d - l++)
            });
            c(b)
        }, d, {})
    };
    E.As = function (b, c) {
        E.g(E.f.station.getStations, new Q([]), function (c) {
            var c = n(c),
                f = (new Date).getTime(),
                i = 0;
            $.each(c, function () {
                E.Yc(this, f - i++)
            });
            b(c)
        }, c, {})
    };
    E.Yc = function (b, c) {
        c || (c = (new Date).getTime());
        b.chronologicalSequence = c;
        var d = b.initialSeed;
        d != e && (d.song != e ? b.originalSeed = {
            type: "song",
            key: d.song.musicId,
            songName: d.song.songTitle,
            artistName: d.song.artistSummary,
            songDetailUrl: d.song.songDetailUrl,
            isComedy: d.song.isComedy
        } : d.nonGenomeStation != e ? b.originalSeed = {
            type: "nonGenomeStation",
            stationId: d.nonGenomeStation.stationId,
            stationName: d.nonGenomeStation.stationName,
            seedNames: d.nonGenomeStation.seeds,
            key: d.nonGenomeStation.musicId,
            isComedy: d.nonGenomeStation.isComedy,
            redirect: d.nonGenomeStation.isRedirect
        } : d.artist != e && (b.originalSeed = {
            type: "artist",
            key: d.artist.musicId,
            artistName: d.artist.artistName,
            likelyMatch: d.artist.likelyMatch,
            isComposer: d.artist.isComposer,
            artistDetailUrl: d.artist.artistDetailUrl,
            isComedy: d.artist.isComedy
        }));
        if (b.isQuickMix == 1) b.isCreator == 0 && (b.transformType = m.oa.mb()), b.stationName && b.stationName.replace && (b.stationName = b.stationName.replace("QuickMix", "Shuffle"))
    };
    E.Dx = function (b, c, d, f, i) {
        E.g(E.f.station.setStationNameAndDescription, new Q([b, c, d]), function (b) {
            f(n(b))
        }, i, {})
    };
    E.Cx = function (b, c, d, f) {
        E.g(E.f.station.setStationName, new Q([b, c]), function () {
            d(b)
        }, f, {})
    };
    E.En = function (b, c, d, f) {
        for (var i = [], l = 0; l < c.length; l++) i.push("" + c[l]);
        E.g(E.f.station.setQuickMix, new Q([b, i, "", ""]), function (b) {
            b = n(b);
            E.Yc(b);
            d(b)
        }, f, {})
    };
    E.rs = function (b, c) {
        E.g(E.f.station.getQuickMix, new Q([]), function (c) {
            c = n(c);
            E.Yc(c);
            b(c)
        }, c, {})
    };
    E.Sm = function (b, c, d) {
        E.g(E.f.music.search, new Q([b]), function (b) {
            c(n(b))
        }, d, {})
    };
    E.Xw = function (b, c, d) {
        var f = b.indexOf("@");
        f > -1 && (b = b.substring(0, f));
        E.g(E.f.listener.search, new Q([b]), function (b) {
            c(n(b))
        }, d, {})
    };
    E.ls = function (b, c, d, f) {
        var i = String(Ii(b.k()) * 1E3),
            l = String((new Date).getTime() - Li(b.k()) * 1E3);
        Ki(b.k());
        var q = String(Mi()),
            s = String(Ni()),
            u = Ij(E.l);
        c ? (b = [b.k(), Zj(), u, "" + q, "" + s], c = E.f.playlist.getFirstFragment) : (b = [b.k(), i, l, Zj(), u, "" + q, "" + s], c = E.f.playlist.getFragment);
        E.g(c, new Q(b), function (b) {
            d(n(b))
        }, f, {})
    };
    E.ah = function (b, c, d) {
        var f = Kl,
            i = Ll;
        d || (d = "");
        var l = new Q([b, d]);
        c && c.length > 0 && (l = new Q([b, c, d]));
        E.g(E.f.station.createStation, l, function (b) {
            b = n(b);
            E.Yc(b);
            f(b)
        }, i, {})
    };
    E.lq = function (b, c, d, f, i) {
        E.g(E.f.station.addFeedback, new Q([b, c, d, "", !0, !1, 13]), f, i, {})
    };
    E.nc = function (b, c, d, f, i) {
        var l = b.za ? c.K.k() : b.k();
        return E.g(E.f.station.addFeedback, new Q([l, c.lm(), d]), function () {
            if (c.C().k() == l) c.K.ob = d ? 1 : -1;
            f(c)
        }, i, {})
    };
    E.hl = function (b, c, d, f) {
        E.g(E.f.station.addSeed, new Q([b, c]), d, f, {})
    };
    E.mq = function (b, c, d, f, i) {
        E.g(E.f.listener.addTiredSong, new Q([c, d, b]), f, i, {})
    };
    E.Le = function (b, c, d) {
        return E.g(E.f.station.removeStation, new Q([b]), c, d, {})
    };
    E.Dr = function (b, c, d) {
        E.g(E.f.listener.emailPassword, new Il([b]), c, d, {})
    };
    E.OI = function (b, c) {
        return E.g(E.f.listener.getSongBookmarks, new Q([]), b, c, {})
    };
    E.MI = function (b, c) {
        return E.g(E.f.listener.getArtistBookmarks, new Q([]), b, c, {})
    };
    E.ts = function (b, c) {
        E.g(E.f.music.getSearchRecommendations, new Q([]), function (c) {
            b(n(c))
        }, c, {})
    };
    E.Ky = function (b, c, d) {
        E.g(E.f.listener.changeAccount, new Q([b.oldusername, b.oldpassword, b.newusername, b.newpassword, b.emailOptIn, b.gender, b.birthYear, b.zipCode]), function (d) {
            c({
                ldata: n(d),
                newpass: b.newpassword
            })
        }, d, {})
    };
    E.Py = function (b, c, d) {
        E.g(E.f.listener.setPrivacySettings, new Q([b.isProfilePrivate, b.disallowComments, b.optOut, b.noNotifyOnNote, b.disallowFacebookConnect, b.noNotifyOnFollow]), function (b) {
            c(n(b))
        }, d, {})
    };
    E.My = function (b, c, d, f) {
        E.g(E.f.listener.setExplicitContentFilter, new Q([b]), function () {
            d(c)
        }, f, {})
    };
    E.yx = function (b, c, d) {
        E.g(E.f.listener.setExplicitPIN, new Q([b.pin, b.rescueEmail]), c, d, {})
    };
    E.Wy = function (b, c, d) {
        E.g(E.f.listener.verifyExplicitPIN, new Q([b.pin]), function (b) {
            c(n(b))
        }, d, {})
    };
    E.mh = function (b, c) {
        return E.g(E.f.listener.emailExplicitPINRescue, new Q(e), function (c) {
            b(c)
        }, c, {})
    };
    E.zs = function (b, c, d, f) {
        E.g(E.f.playlist.narrative, new Q([b, c]), function (b) {
            d(n(b))
        }, f, {})
    };
    E.ws = function (b, c, d, f) {
        E.g(E.f.music.getSeedSuggestions, new Q([b, c, 10]), function (b) {
            d(n(b))
        }, f, {})
    };
    E.Yw = function (b, c, d, f) {
        E.g(E.f.listener.publishSongShare, new Q([b, c]), function (b) {
            d(n(b))
        }, f, {})
    };
    E.Zw = function (b, c, d, f, i, l) {
        E.g(E.f.listener.publishStationShare, new Q(["" + b, c, d, f]), function (b) {
            i(n(b))
        }, l, {})
    };
    E.os = function (b, c, d) {
        E.g(E.f.listener.getExtendedProfileInfo, new Q([b]), function (b) {
            c(n(b))
        }, d, {})
    };
    E.Ax = function (b, c, d, f, i, l, q, s, u) {
        E.g(E.f.listener.setProfileInfoExtended, new Q([b, c, d, f, i, l, q]), function (b) {
            s(n(b))
        }, u, {})
    };
    E.gs = function (b, c, d, f) {
        E.g(E.f.listener.getCountNewFeedPosts, new Q([b, c]), function (b) {
            d(n(b))
        }, f, {})
    };
    E.ps = function (b, c, d) {
        E.g(E.f.listener.getProfileInfoWithStations, new Q([b]), function (b) {
            c(n(b))
        }, d, {})
    };
    E.ss = function (b, c, d) {
        E.g(E.f.music.getRelatedSongInfoForFacebookShare, new Q([b, 3]), function (b) {
            c(n(b))
        }, d, {})
    };
    E.zx = function (b, c, d, f, i) {
        E.g(E.f.listener.setFacebookShareUserTokens, new Q([b, c, d]), function (b) {
            f(n(b))
        }, i, {})
    };
    E.Fx = function (b, c, d, f) {
        E.g(E.f.listener.setTwitterShareUserTokens, new Q([b, c]), function (b) {
            d(n(b))
        }, f, {})
    };
    E.fv = function (b, c, d, f, i, l, q) {
        E.g(E.f.listener.like, new Q([b, c, d, f, i]), function (b) {
            l(n(b))
        }, q, {})
    };
    E.Iy = function (b, c, d, f) {
        E.g(E.f.listener.unlike, new Q([b, c]), function (b) {
            d(n(b))
        }, f, {})
    };
    E.Hy = function (b, c, d) {
        E.g(E.f.listener.unlike, new Q([b]), function (b) {
            c(n(b))
        }, d, {})
    };
    E.ks = function (b, c, d) {
        E.g(E.f.listener.getFollowInfo, new Q([b]), function (b) {
            c(n(b))
        }, d, {})
    };
    E.Hh = function (b, c, d, f) {
        return E.g(E.f.listener.getLikeInfo, new Q([b, c]), function (b) {
            d(n(b))
        }, f, {})
    };
    E.uj = function (b, c, d, f, i, l) {
        return E.g(E.f.station.shareStation, new Q([b, c, d, f]), i, l, {})
    };
    E.tj = function (b, c, d, f, i) {
        return E.g(E.f.music.shareSong, new Q([b, d, c]), f, i, {})
    };
    E.nq = function (b, c) {
        E.g(E.f.listener.addTrackingCode, new Q([b]), c, c, {})
    };
    E.hs = function (b, c) {
        E.g(E.f.listener.getCreditCard, new Q(e), function (c) {
            b(n(c))
        }, c, {})
    };
    E.xx = function (b, c, d, f, i, l, q, s, u, z, V, ka) {
        E.g(E.f.listener.setBillingInformation, new Q([b, c, d, f, i, l, q, s, u, z]), function (b) {
            V(n(b))
        }, ka, {})
    };
    E.fr = function (b, c, d, f, i, l, q, s, u, z, V, ka, da, Sa, Ta) {
        E.g(E.f.listener.createP1Gift, new Q([b, c, d, f, i, l, q, s, u, z, V, ka, da]), function (b) {
            Sa(n(b))
        }, Ta, {})
    };
    E.gv = function (b, c, d, f) {
        E.g(E.f.listener.loadGift, new Q([b, c]), function (b) {
            d(n(b))
        }, f, {})
    };
    E.Cr = function (b, c, d, f) {
        E.g(E.f.listener.emailGift, new Q([b, c]), function (b) {
            d(n(b))
        }, f, {})
    };
    E.Jy = function (b, c) {
        E.g(E.f.listener.unsubscribe, new Q([]), function (c) {
            b(n(c))
        }, c, {})
    };
    E.Cu = function (b, c, d, f) {
        E.g(E.f.friends.hideFeedItem, new Q([b, c]), function (b) {
            d(n(b))
        }, f, {})
    };
    E.zu = function (b, c, d) {
        E.g(E.f.friends.hideActivityItem, new Q([b]), function (b) {
            c(n(b))
        }, d, {})
    };
    E.Au = function (b, c, d) {
        E.g(E.f.friends.hideAllFeedItems, new Q([b]), function (b) {
            c(n(b))
        }, d, {})
    };
    E.ix = function (b, c, d) {
        E.g(E.f.friends.reportFeedSpam, new Q([b]), function (b) {
            c(n(b))
        }, d, {})
    };
    E.Yr = function (b, c, d) {
        E.g(E.f.friends.follow, new Q([b]), function (b) {
            c(n(b))
        }, d, {})
    };
    E.Tj = function (b, c, d) {
        return E.g(E.f.friends.unfollow, new Q([b]), function (b) {
            c(n(b))
        }, d, {})
    };
    E.Eq = function (b, c, d) {
        E.g(E.f.listener.banListener, new Q(["" + b]), c, d, {})
    };
    E.Dy = function (b, c, d) {
        E.g(E.f.listener.unbanListener, new Q(["" + b]), c, d, {})
    };
    E.tr = function (b, c, d) {
        E.g(E.f.station.deleteSeed, new Q(["" + b]), c, d, {})
    };
    E.ur = function (b, c, d, f) {
        E.g(E.f.station.deleteSeedByMusicId, new Q(["" + b, c]), d, f, {})
    };
    E.Uq = function (b, c, d, f, i, l) {
        E.g(E.f.listener.checkSVNAdComplete, new Q([b, c, d, f]), i, l, {})
    };
    E.Ur = function (b, c) {
        E.g(E.f.listener.getSVNAds, new Q([]), b, c, {})
    };
    E.Ir = function (b, c) {
        E.g(E.f.listener.exerciseTimeoutCredit, new Q([]), b, c, {})
    };
    E.ax = function (b, c, d) {
        E.g(E.f.listener.redeemGiftCode, new Q([b]), function (b) {
            c(n(b))
        }, d, {})
    };
    E.bx = function (b, c, d, f, i) {
        E.g(E.f.listener.redeemGiftCode, new Il([b, c, d]), function (b) {
            f(n(b))
        }, i, {})
    };
    E.dy = function (b, c, d, f) {
        E.g(E.f.listener.startComplimentaryTrial, new Q([b, c, E.VENDOR, E.Eb]), function (b) {
            E.la(Aj(n(b)));
            d()
        }, f, {})
    };
    E.cq = function (b) {
        E.g(E.f.listener.accountMessageDismissed, new Q([b]), e, e, {})
    };
    E.dr = function (b, c, d) {
        E.g(E.f.facebook.connectListener, new Q([b, "", "", "", !0]), c, d, {})
    };
    E.qr = function () {
        E.g(E.f.listener.deleteCreditCard, new Q(e), e, e, {})
    };
    E.dg = function (b, c, d) {
        return E.g(E.f.station.transformShared, new Q(["" + b]), function (b) {
            c(n(b))
        }, d, {})
    };
    E.kx = function (b, c, d) {
        E.g(E.f.listener.resetPassword, new Il([bk(), b, E.VENDOR, E.Eb]), function (d) {
            d = Aj(n(d));
            E.Nj(d.da, b);
            E.la(d);
            c()
        }, d, {
            password: b
        })
    };
    E.fs = function (b) {
        E.g(E.f.listener.getAvailableFeatures, new Q([]), function (c) {
            b(n(c))
        }, e, {})
    };
    E.fq = function (b) {
        E.g(E.f.listener.acknowledgeSubscriptionExpiration, new Q([]), e, b, {})
    };
    E.Wq = function (b) {
        E.g(E.f.listener.clearVendorBilledTrialExpiredAlertCode, new Q([]), e, b, {})
    };
    E.Vq = function (b) {
        E.g(E.f.listener.clearVendorBilledSubscriberTimedOutAlertCode, new Q([]), e, b, {})
    };
    for (L = H[8]; L != -1;) switch (L) {
    case 23:
        L = H[19];
        break;
    case 35:
        L = H[45];
        break;
    case 15:
        F[248] = 1515439684;
        L = H[48];
        break;
    case 20:
        F[614] = 391466338;
        L = H[5];
        break;
    case 9:
        F[753] = -418823080;
        L = H[9];
        break;
    case 8:
        F[219] = -1412001646;
        L = H[29];
        break;
    case 26:
        L = H[26];
        break;
    case 31:
        L = H[4];
        break;
    case 40:
        F[526] = 1289869302;
        L = H[6];
        break;
    case 38:
        F[853] = -368902694;
        L = H[23];
        break;
    case 12:
        L = H[11];
        break;
    case 19:
        F[3] = -839045805;
        L = H[47];
        break;
    case 36:
        F[525] = -872321307;
        L = H[20];
        break;
    case 46:
        F[518] = -260980333;
        L = H[46];
        break;
    case 14:
        F[549] = 195916383;
        L = H[39];
        break;
    case 0:
        L = H[36];
        break;
    case 45:
        F[64] = 1537562347;
        L = H[27];
        break;
    case 16:
        F[303] = 69467365;
        L = H[34];
        break;
    case 11:
        F[857] = -1520238756;
        L = H[44];
        break;
    case 48:
        F[213] = -186638233;
        L = H[0];
        break;
    case 43:
        L = H[21];
        break;
    case 28:
        L = H[28];
        break;
    case 5:
        F[171] = 4177965640;
        L = H[15];
        break;
    case 27:
        F[776] = -1451336324;
        L = H[18];
        break;
    case 29:
        F[543] = -2133600140;
        L = H[17];
        break;
    case 4:
        L = H[41];
        break;
    case 10:
        L = H[49];
        break;
    case 13:
        F[251] = -1168161326;
        L = H[50];
        break;
    case 42:
        F[519] = 3869514022;
        L = H[2];
        break;
    case 33:
        F[964] = 744733413;
        L = H[37];
        break;
    case 24:
        F[784] = -1442093238;
        L = H[14];
        break;
    case 7:
        F[818] = 224809636;
        L = H[43];
        break;
    case 47:
        F[476] = -806391621;
        L = H[22];
        break;
    case 32:
        L = H[40];
        break;
    case 21:
        L = H[33];
        break;
    case 6:
        L = H[35];
        break;
    case 25:
        L = H[24];
        break;
    case 49:
        F[61] = 2039996358;
        L = H[16];
        break;
    case 18:
        F[314] = 364839967;
        L = H[30];
        break;
    case 2:
        L = H[1];
        break;
    case 41:
        L = H[31];
        break;
    case 44:
        L = H[10];
        break;
    case 3:
        F[310] = 1487604147;
        L = H[7];
        break;
    case 22:
        F[151] = -2058038501;
        L = H[42];
        break;
    case 37:
        L = H[13];
        break;
    case 17:
        F[1011] = 180521428;
        L = H[38];
        break;
    case 34:
        F[1005] = -886158851;
        L = H[3];
        break;
    case 1:
        F[379] = -2136600503;
        L = H[25];
        break;
    case 39:
        F[923] = -1190478566;
        L = H[32];
        break;
    case 30:
        F[860] = 2023719060, L = H[12]
    };

    function Ml(b) {
        p(b.username) || p(b.password) ? (fj(e), w.b(hf)) : E.Wa(b.username, b.password, function (c) {
            c instanceof Cc && (c.code == m.e.xo() ? (E.xi(!0), w.b(hf)) : v(c, Vf, b))
        })
    }
    function Nl() {
        E.Pq();
        ck();
        B($h, e);
        B(ai, e);
        fj(e);
        E.la(e);
        $.cookie("v2i", e);
        $.cookie("v2u", e);
        $.cookie("v2p", e);
        $.cookie("v2s", e)
    }

    function Ol(b) {
        E.cx(b.username, b.password, b.emailOptIn, b.gender, b.birthYear, b.zipCode, function (c) {
            var d = fa();
            c.code == m.e.qk() ? d = ha() : c.code == m.e.rk() ? d = ga() : c.code == m.e.lg() ? d = ja() : c.code == m.e.ik() ? d = la() : c.code == m.e.mg() && (d = ia());
            v(c, Xf, b, lf, d)
        })
    }
    function Pl(b) {
        E.kx(b, function () {
            w.b(zd)
        }, function (b) {
            b.code == m.e.lg() ? w.b(nf, ta()) : b.code == m.e.mg() ? w.b(nf, ua()) : w.b(Wf)
        })
    }
    function Ql() {
        E.Jl(function (b) {
            k("Could not create new user:", b.message)
        })
    }

    function Rl(b) {
        E.os(b, function (b) {
            w.b(td, b)
        }, function (c) {
            v(c, fg, b)
        })
    }
    function Sl(b) {
        E.Ax(b.webName, b.fullName, b.isProfilePrivate, b.homeTown, b.school, b.employer, b.bio, function (b) {
            w.b(ud, b)
        }, function (c) {
            v(c, ah, b)
        })
    }
    function Tl(b) {
        E.gs(b.webname, b.lastFeedId, function (b) {
            b && b.count && (b = parseInt(b.count, 10), b > 0 && w.b(xd, b))
        }, g())
    }
    function Ul(b) {
        E.ps(b, function (b) {
            b && b.webName && w.b(wd, b)
        }, function (c) {
            v(c, hg, b)
        })
    }

    function Vl(b) {
        E.qs(b, function (b) {
            for (var d = [], f = 0; f < b.length; f++) {
                var i = b[f];
                if (!(i.isQuickMix == !0 && i.isCreator == !0)) {
                    var l = i,
                        i = i.initialSeed;
                    i != e && (i.artist != e ? l.artUrl = i.artist.artUrl : i.song != e && (l.artUrl = i.song.artUrl));
                    d.push(l)
                }
            }
            w.b(vd, d)
        }, function (c) {
            v(c, gg, b)
        })
    }
    function Wl(b) {
        E.Dr(b, function () {
            w.b(yd)
        }, function (b) {
            w.b(mf, b.message)
        })
    }
    function Xl(b) {
        E.ah(b, e, e)
    }
    function Yl(b) {
        E.ah(b.stationCode, b.stationName, b.searchText)
    }
    function Zl(b) {
        E.ah(b.stationCode, b.stationName, e)
    }

    function Kl(b) {
        $l(b);
        w.b(Qf, b.stationId)
    }
    function Ll(b) {
        w.b(vf, b)
    }
    function am(b) {
        var c = b.searchText,
            d = b.searchFilter;
        E.Sm(c, function (b) {
            b.searchText = c;
            b.searchFilter = d;
            w.b(Md, b)
        }, function (c) {
            v(c, ng, b)
        })
    }
    function bm(b) {
        var c = b.searchText,
            d = b.searchFilter;
        E.Xw(c, function (b) {
            b.searchText = c;
            b.searchFilter = d;
            w.b(Nd, b)
        }, function (c) {
            v(c, ng, b)
        })
    }
    function cm(b) {
        E.Sm(b, function (c) {
            c.searchText = b;
            w.b(ae, c)
        }, function (c) {
            v(c, Dg, b)
        })
    }

    function dm(b) {
        E.Le(b, function () {
            for (var c = 0; c < em.length; c++) {
                var d = em[c];
                if (d.k() == b) {
                    d.destroy();
                    em.splice(c, 1);
                    var d = [b],
                        f;
                    if (f = em.length == 1) f = em[0], f = f.Bc && f.za;
                    f && (f = em[0], f.destroy(), em = [], d.push(f.k()));
                    w.b(Dd, d)
                }
            }
        }, function (c) {
            v(c, lg, b)
        })
    }

    function fm(b) {
        E.ts(function (c) {
            !b && E.l && !D(E.l) && c.length >= 2 && (!c[0] || c[0].length == 0) && (!c[1] || c[1].length == 0) ? setTimeout(function () {
                fm(!0)
            }, 1500) : w.b(Pd, c)
        }, function (b) {
            b.code != "QUICKMIX_NOT_PLAYABLE" && nd("Could not get search suggestions.", b);
            w.b(Pd, [])
        })
    }
    function gm(b) {
        E.Dx(b[0], b[1], b[2], function (b) {
            w.b(Fd, b)
        }, function (c) {
            v(c, tg, b)
        })
    }
    function hm(b) {
        E.Cx(b[0], b[1], function (c) {
            w.b(Fd, {
                stationId: c,
                stationName: b[1]
            })
        }, function (c) {
            k("Could not update station: ", c);
            v(c, Fg, b)
        })
    }

    function im(b) {
        E.My(b.contentFilterEnabled, b, function (b) {
            E.Ky(b, function (b) {
                w.b(Qd, b);
                E.la(Aj(b.ldata))
            }, function (d) {
                k("Failed to update account settings.", d);
                v(d, $f, b, Ff, d)
            })
        }, function (c) {
            k("Failed to update explicit content filter.", c);
            v(c, $f, b)
        })
    }
    function jm(b) {
        E.Py(b, function (b) {
            w.b(Rd, b);
            E.la(Aj(b))
        }, function (c) {
            k("Failed to update privacy settings.", c);
            v(c, ag, b)
        })
    }
    function km(b) {
        E.yx(b, function (b) {
            w.b(Ud, b)
        }, function (c) {
            k("Failed to update explicit PIN.", c);
            v(c, wg, b)
        })
    }

    function lm(b) {
        E.Wy(b, function (b) {
            w.b(Vd, b)
        }, function (c) {
            k("Failed to verfiy explicit PIN.", c.message);
            v(c, xg, b)
        })
    }
    function mm() {
        E.mh(function () {
            w.b(Wd)
        }, function (b) {
            k("Failed to email explicit PIN.", b);
            v(b, yg, e)
        })
    }
    function nm(b) {
        var c = b[0],
            d = b[1];
        E.lq(c, d, b[2], function () {
            w.b(Sd, [c, d])
        }, function (c) {
            k("Failed to add thumb up track.", c);
            v(c, ug, b)
        })
    }
    function om(b) {
        var c = b[0],
            d = b[1];
        E.hl(c, d, function () {
            w.b(Td, [c, d])
        }, function (c) {
            k("Failed to add seed.", c);
            v(c, vg, b)
        })
    }

    function pm(b) {
        E.mq(b.k(), b.h(), b.Jh(), function () {
            w.b(Xd, b)
        }, function (c) {
            k("Failed to add tired track.", c);
            w.b(Xd, b)
        })
    }
    function qm(b) {
        E.zs(b.track.k(), b.track.h(), function (c) {
            w.b(Yd, {
                narrative: c,
                track: b.track,
                allowActions: b.allowActions
            })
        }, function (c) {
            k("Failed to add tired track.", c);
            v(c, Ag, b.track)
        })
    }
    function rm(b) {
        E.ws(b.stationId, b.musicId, function (b) {
            w.b($d, b)
        }, function (b) {
            k("Failed to get seed suggestions.", b)
        })
    }

    function sm(b) {
        E.hl(b.C().get("stationId"), b.h(), function () {
            w.b(be, b)
        }, function (c) {
            v(c, Eg, b)
        })
    }
    function tm(b) {
        E.ss(b, function (c) {
            c.stationId = b;
            w.b(ge, c)
        }, function (c) {
            nd("Error loading related track info for facebook share: " + c.message);
            w.b(ge, {
                stationId: b
            })
        })
    }
    function um(b) {
        var c = b == e ? e : b.uid,
            d = b == e ? e : b.key,
            f = b == e ? e : b.secret;
        E.zx(c, d, f, function () {
            E.l.rh = c;
            E.l.sh = d;
            E.l.th = f;
            w.b(Se, b)
        }, function (b) {
            E.l.rh = e;
            E.l.sh = e;
            E.l.th = e;
            w.b(tf, b.message)
        })
    }

    function vm(b) {
        var c = b == e ? e : b.twitterShareUserKey,
            d = b == e ? e : b.twitterShareUserSecret;
        E.Fx(c, d, function () {
            E.l.Bb = c;
            E.l.ee = d;
            w.b(Ue, b)
        }, function (b) {
            E.l.Bb = e;
            E.l.ee = e;
            w.b(sf, b.message)
        })
    }
    function wm(b) {
        b.doEmail && E.uj(b.stationToken, b.emails.split(" ").join(""), b.message, Zj(), function () {
            w.b(We, {
                email: !0
            })
        }, function (c) {
            v(c, Og, b, rf)
        });
        b.doProfile && E.Zw(b.stationId, b.stationName, b.stationInitialSeed, b.message, function () {
            w.b(We, {
                profile: !0
            })
        }, function (c) {
            v(c, Og, b, rf)
        })
    }

    function xm(b) {
        if (b.doEmail) {
            var c = b.musicId;
            E.tj(c, b.emails.split(" ").join(""), b.message, function () {
                w.b(We, {
                    email: !0
                })
            }, function (c) {
                v(c, Pg, b, rf)
            })
        }
        if (b.doProfile) c = b.musicId, E.Yw(c, b.message, function () {
            w.b(We, {
                profile: !0
            })
        }, function (c) {
            v(c, Og, b, rf)
        })
    }
    function ym(b) {
        E.fv(b.type, b.objectId, b.context, b.contextId, b.contextName, function (b) {
            b.objectId && w.b(ie, b)
        }, function (c) {
            v(c, Tg, b)
        })
    }
    function zm(b) {
        E.Iy(b.Ub(), b.Da, function (b) {
            w.b(ke, b)
        }, function (c) {
            v(c, Xg, b)
        })
    }

    function Am(b) {
        E.Hy(b, function (b) {
            w.b(je, b)
        }, function (c) {
            v(c, Ug, b)
        })
    }
    function Bm(b) {
        E.Hh(b.Ub(), b.Da, function (c) {
            b.Hb = c.likeId;
            w.b(me, b)
        }, function (c) {
            v(c, Vg, b)
        })
    }
    function Cm(b) {
        E.ks(b, function (b) {
            w.b(le, b)
        }, function (c) {
            v(c, Wg, b)
        })
    }
    function Dm(b) {
        E.l == e || !Dj() ? w.b(ne, {
            cdata: e,
            ctx: b
        }) : E.hs(function (c) {
            w.b(ne, {
                cdata: c,
                ctx: b
            })
        }, function (c) {
            c && c.code == "CREDIT_CARD_NO_RECORD_FOUND" ? w.b(ne, {
                cdata: e,
                ctx: b
            }) : (k("Failed to get card information.", c), v(c, Yg, b))
        })
    }

    function Em(b) {
        E.xx(b[0], b[1], b[2], b[3], b[4], b[5], b[6], b[7], b[8], b[9], function (b) {
            E.la(Aj(b));
            w.b(oe, b)
        }, function (c) {
            k("Failed to set billing information.", c);
            v(c, Zg, b, yf, c)
        })
    }
    function Fm(b) {
        E.fr(b[0], b[1], b[2], b[3], b[4], b[5], b[6], b[7], b[8], b[9], b[10], b[11], b[12], function (b) {
            E.la(Aj(b));
            b.p1gift = !0;
            w.b(oe, b)
        }, function (c) {
            v(c, wh, b)
        })
    }
    function Gm(b) {
        var c = b[0];
        E.gv(c, b[1], function (b) {
            w.b(Ne, b)
        }, function (b) {
            v(b, xh, c)
        })
    }

    function Hm(b) {
        var c = b[0];
        E.Cr(c, b[1], function (b) {
            w.b(Oe, b)
        }, function (b) {
            v(b, yh, c)
        })
    }
    function Im() {
        E.Jy(function (b) {
            w.b(re, Aj(b))
        }, function (b) {
            k("Failed to unsubscribe", b);
            v(b, $g, e, xf)
        })
    }
    function Jm(b) {
        var c = b.feedId,
            d = b.deleteCompletely;
        b.isActivityDelete ? E.zu(c, function (b) {
            w.b(Ee, Aj(b))
        }, function (c) {
            k("Failed to unsubscribe", c);
            v(c, Lg, b, Af)
        }) : E.Cu(c, d, function (b) {
            w.b(Ee, Aj(b))
        }, function (c) {
            k("Failed to unsubscribe", c);
            v(c, Lg, b, Af)
        })
    }

    function Km(b) {
        E.ix(b, function (b) {
            w.b(Fe, Aj(b))
        }, function (c) {
            k("Failed to unsubscribe", c);
            v(c, Ng, b, Bf)
        })
    }
    function Lm(b) {
        E.Au(b, function (b) {
            w.b(Ge, Aj(b))
        }, function (c) {
            k("Failed to unsubscribe", c);
            v(c, Mg, b, Cf)
        })
    }
    function Mm(b) {
        E.Yr(b.webName, function () {
            w.b(pe, b)
        }, function (c) {
            v(c, bh, b)
        })
    }
    function Nm(b) {
        E.Tj(b.webName, function () {
            w.b(qe, b)
        }, function (c) {
            v(c, ch, b)
        })
    }
    function Om(b) {
        E.Eq(b, function () {
            w.b(se, b)
        }, function (c) {
            v(c, dh, b)
        })
    }
    function Pm(b) {
        E.Dy(b, function () {
            w.b(te, b)
        }, function (c) {
            v(c, eh, b)
        })
    }

    function Qm(b) {
        var c = b.stationID,
            d = b.seedID,
            f = b.musicID;
        f ? E.ur(c, f, function () {
            w.b(Xe, [c, f])
        }, function (c) {
            v(c, fh, b)
        }) : E.tr(d, function () {
            w.b(Xe, [c, d])
        }, function (c) {
            v(c, fh, b)
        })
    }
    function Rm(b) {
        E.ax(b, function (b) {
            E.la(Aj(b));
            w.b(ye, b)
        }, function (c) {
            k("Failed to redeem gift code: ", c.message);
            v(c, mh, b, wf)
        })
    }
    function Sm(b) {
        E.bx(b.user, b.pass, b.code, function (b) {
            E.la(Aj(b));
            w.b(ye, b)
        }, function (c) {
            k("Failed to redeem gift code against account: ", c.message);
            v(c, nh, b, wf)
        })
    }

    function Tm(b) {
        E.Uq(b.svnName, b.activityBenefit, b.hoursEarned, b.probablyCompleted, function (b) {
            w.b(xe, n(b))
        }, function (b) {
            k("Failed to check SVN complete: ", b.message);
            v(b, ih, [], lh)
        })
    }
    function Um() {
        E.Ur(function (b) {
            b = n(b);
            b = b != e && b.length > 0 ? b.pop() : e;
            w.b(ve, b)
        }, function (b) {
            k("Failed to fetch SVN ads: ", b.message);
            v(b, gh, [], jh)
        })
    }
    function Vm() {
        E.Ir(function (b) {
            w.b(we, parseInt(n(b), 10))
        }, function (b) {
            k("Failed to exercise timeout credit: ", b.message);
            v(b, hh, [], kh)
        })
    }

    function Wm(b) {
        E.dy(b.sponsor || "", b.referrer || "unknown", function () {
            w.b(ze, b)
        }, function (c) {
            k("Failed to start complimentary trial", c);
            var d = E.l,
                f = "";
            switch (c.code) {
            case m.e.Uo():
                f = d && d.Je != e ? Qa() : d && !d.t() ? Ra() : Ua();
                break;
            case m.e.sk():
                f = Va();
                break;
            case m.e.Cp():
                f = Wa();
                break;
            case m.e.Ro():
                f = Xa([b.sponsor || ""]);
                break;
            case m.e.Co():
                f = Ya();
                break;
            default:
                f = Za()
            }
            c.no = f;
            v(c, oh, b)
        })
    }
    function Xm(b) {
        E.cq(b)
    }
    function Ym(b) {
        E.dr(b, function () {
            w.b(Se)
        }, function (b) {
            w.b(tf, b)
        })
    }
    function Zm() {
        E.qr()
    }

    function $m(b) {
        var c = b.stationId,
            d = b.context;
        E.dg(c, function (b) {
            w.b(Ye, {
                oldStationId: c,
                station: b,
                context: d
            })
        }, function (b) {
            v(b, sh, c)
        })
    }
    function an() {
        E.fq(function (b) {
            v(b, Jh, e)
        })
    }
    function bn() {
        E.Vq(function (b) {
            v(b, Kh, e)
        })
    }
    function cn() {
        E.Wq(function (b) {
            v(b, Lh, e)
        })
    }
    function dn(b) {
        b > 0 ? (B(Xh, b), B(Yh, !1)) : B(Yh, !0)
    };

    function en(b, c) {
        this.we = b;
        this.we["class"] = "Track";
        this.i = c;
        this.K = new qj(b);
        var d = b.audioURL;
        if (d != e) {
            var f = d.substr(d.length - 48, 48),
                d = d.substr(0, d.length - 48);
            d += Tc(E.yn, f)
        }
        this.ql = d;
        this.Bn = b.isSeed;
        this.oo = b.userSeed;
        this.zy = b.trackToken;
        this.ry = b.testStrategy || "";
        this.cy = b.songType;
        this.Z = b.fileGain;
        this.ib = this.Kb = !1;
        this.Ce = b.audioEncoding;
        if (this.Ce == "aacplus") this.Ce = "m4a";
        this.Z = this.Z == "" || isNaN(Number(this.Z)) ? e : Number(this.Z)
    }
    h = en.prototype;
    h.load = function () {
        if (this.m == e) this.m = fn(this), this.m.load(this.ql, this.Ce, this.Qu)
    };
    h.ie = function (b, c) {
        this.m != e && this.m.ie(b, c)
    };
    h.play = function () {
        this.ib = !0;
        this.m == e && this.load();
        this.ie(this.Z);
        this.m.play()
    };
    h.stop = function () {
        if (this.m != e) this.m.stop(), this.m = e
    };
    h.nj = function () {
        this.ib ? this.m.nj() : this.play()
    };
    h.pause = function () {
        this.m && this.m.pause()
    };
    h.suspend = function () {
        this.m != e && (gn(this.m, o(this, function () {
            if (this.m) this.m.De = e;
            this.i && !this.i.active && hn(this.i)
        })), this.m.suspend())
    };
    h.C = ca("i");
    h.h = function () {
        return this.K.h()
    };
    h.Jh = ca("oo");
    h.lm = ca("zy");

    function jn(b) {
        this.w = b.stationId;
        this.fy = b.stationIdToken;
        this.iy = b.stationName;
        this.za = b.isQuickMix;
        this.Bc = b.isCreator;
        this.pf = b.isNew;
        this.qb = b.initialSeed;
        this.hq = b.adGenre;
        this.bs = b.genre;
        this.cs = b.genreSponsorship;
        this.tq = b.antiTarget;
        this.$q = b.isComedy;
        this.nf = !1;
        this.Af = e;
        this.Rf = !1;
        this.O = [];
        this.active = !1;
        this.fm = this.paused = !0;
        this.Ay = b.transformType;
        this.QI = b.isOnDemandStation;
        this.bJ = b.originalStationId;
        this.ze = pj(b);
        this.stationData = new oj(b);
        this.nh = e;
        this.vc = kn;
        this.gm = this.eh = 0;
        this.s = e;
        this.Rw = 0;
        this.ej = b.quickMixStationIds;
        this.Cf = b.quickMixType;
        this.cg = {};
        ln[this.k()] = this;
        b = !x ? e : Ai(Ci(li, this.w));
        if (b != e) if (b["class"] == "AudioAdTrack" && !this.ze) this.O.push(new mn(b, this)), nn = Gc();
        else if (!this.ze) {
            var c;
            a: {
                c = b.musicId;
                var d = Ai(Ci(mi, this.k()));
                if (d != e && (d = d.split(","), d.length == 2 && d[0] == c && (c = parseInt(d[1], 10), !isNaN(c)))) break a;
                c = e
            }
            c == e && (c = 0);
            b = new en(b, this);
            b.Qu = c;
            this.O.push(b);
            on(this, b.Z)
        }
    }
    jn.prototype.update = function (b) {
        this.w = b.stationId;
        this.fy = b.stationIdToken;
        this.iy = b.stationName;
        this.za = b.isQuickMix;
        this.Bc = b.isCreator;
        this.pf = b.isNew;
        this.qb = b.initialSeed;
        this.hq = b.adGenre;
        this.bs = b.genre;
        this.cs = b.genreSponsorship;
        this.tq = b.antiTarget;
        this.ej = b.quickMixStationIds;
        this.Cf = b.quickMixType
    };
    var kn = 1E3;
    h = jn.prototype;
    h.suspend = function () {
        this.active = !1;
        this.s != e && this.s.suspend()
    };
    h.start = function () {
        this.active = !0;
        this.paused = !1;
        this.s != e ? pn(this) : this.O.length == 0 ? qn(this, o(this, function () {
            rn(this, !0)
        })) : rn(this, !0)
    };
    h.dn = function () {
        this.O.length > 0 ? this.active && this.O[0].load() : qn(this, o(this, this.dn))
    };

    function rn(b, c) {
        if (b.active) b.Rf = !0, hn(b), sn({
            userInitiated: c
        }, o(b, function () {
            if (this.ze && this.fm) tn(o(this, function (b) {
                if (b) b.i = this, this.O.splice(0, 0, b);
                un(this, c)
            })), this.fm = !1;
            else {
                var b = vn(c);
                if (b) b.i = this, this.O.splice(0, 0, b);
                un(this, c)
            }
        }))
    }

    function un(b, c) {
        if (b.active) if (b.O.length > 0) {
            var d = b.O.shift();
            b.cg[d.h()] = d;
            b.s = d;
            pn(b);
            b.paused || (b.s.load(), b.s.play());
            b.Rf = !1;
            b.s.K.rj(c);
            b.O.length == 0 && qn(b)
        } else qn(b, o(b, function () {
            rn(this, c)
        }))
    }
    function wn(b) {
        b.O = _.reject(b.O, function (b) {
            return b.Kb ? (b.stop(), !0) : !1
        });
        b.s != e && b.s.Kb && (b.s.pause(), hn(b));
        b.handleError()
    }
    function xn(b, c, d) {
        if (c == b.s && c != b.Nw) {
            var f = c.we;
            f.narrative = e;
            d == 0 ? d = 600 : b.Nw = c;
            x && Bi(Ci(li, b.k()), f, d * 1E3)
        }
    }
    h.handleError = function () {
        if (this.nh == e && (this.nh = setTimeout(o(this, this.nx), this.vc), this.vc < 3E4 && (this.vc *= 1.5, this.vc > 3E4))) this.vc = 3E4
    };
    h.nx = function () {
        this.nh = e;
        this.s == e && rn(this, !1)
    };

    function pn(b, c) {
        if (b.active && b.s != e) {
            var d = b.s.Z;
            if (d == e) d = b.eh;
            b.s.ie(d, c)
        }
    }
    h.play = function () {
        this.paused = !1;
        this.active && this.s != e && this.s.nj()
    };
    h.pause = function () {
        this.paused = !0;
        this.active && this.s != e && this.s.pause()
    };
    h.Qn = function (b) {
        if (this.active && !this.Rf && (b || yn(this), b || zn(this))) {
            this.paused = !1;
            var c = o(this, function () {
                rn(this, !0);
                w.b(Jd, this.s ? this.s.K : e)
            });
            b ? c() : An("skip", c)
        }
    };

    function zn(b, c) {
        if (E.l != e && !Ej() ? 0 : Bn() <= 0) return c || w.b(pf), !1;
        else if (Cn(b)) return c || w.b(of), !1;
        Dn(b);
        var d = Si(b.k());
        Ti(b.k(), d - 1);
        Ui(Bn() - 1);
        return !0
    }

    function qn(b, c) {
        b.Af = c;
        if (!b.nf) b.nf = !0, E.ls(b, b.pf, o(b, function (b) {
            var c = this;
            $.each(b, function (b, d) {
                var q = new en(d, c);
                c.O.push(q);
                on(c, q.Z)
            });
            this.nf = !1;
            if (this.pf && this.O.length > 0) En(this), this.pf = !1;
            if (this.Af) this.Af(), this.Af = e;
            Fn(b[0])
        }), o(b, function (b) {
            nd("Station.start got ERROR on playlist", b);
            this.nf = !1;
            (b instanceof Fc ? b.code : e) == m.e.gp() ? w.b(Hf) : this.handleError()
        }))
    }

    function En(b) {
        var c = e,
            d = b.O[0];
        d.Bn || (b.qb.song != e ? c = '"' + b.qb.song.songTitle + '"' : b.qb.nonGenomeStation != e ? c = '"' + b.qb.nonGenomeStation.stationName + '"' : b.qb.artist != e ? c = b.qb.artist.artistName : k("Unknown initial seed type", b.qb));
        if (c != e && c.length > 0) d.K.Wk = c
    }
    function hn(b) {
        if (b.s != e) b.s.stop(), b.s = e
    }
    function on(b, c) {
        if (c != e) b.eh = (b.gm * b.eh + c) / ++b.gm
    }
    h.nc = function (b, c) {
        var d = this.cg[b];
        if (d != e) {
            var f = Gn(this.za ? d.K.k() : this.k());
            f && f.ze && f.Ay == m.oa.mb() ? Hn(this, d) : !this.Bc && !this.za || this.za && !f.Bc ? w.b(Je, {
                event: c ? Nf : Of,
                musicId: d.h(),
                stationId: this.za ? d.K.k() : this.k()
            }) : E.nc(this, d, c, o(this, function (b) {
                this.active && w.b(Kd, {
                    track: b.K,
                    stationId: this.k()
                });
                b.K.ob == -1 && Hn(this, b)
            }), function (b) {
                w.b(kf, b)
            })
        }
    };

    function Hn(b, c) {
        if (c == b.s && b.active && !b.Rf && zn(b, !0)) In(b), b.paused = !1, rn(b, !0)
    }
    h.destroy = function () {
        In(this);
        this.cg = {};
        var b = Jn[this.k()];
        b && clearInterval(b);
        Jn[this.k()] = e
    };

    function In(b, c) {
        c || (hn(b), $.each(b.O, function (b, c) {
            c.stop()
        }));
        b.O = []
    }

    function yn(b) {
        try {
            if (b.s != e) {
                var c = b.s.K;
                if (c != e) {
                    var d = "true",
                        f = "false";
                    (E.l != e && !Ej() ? 0 : Bn() <= 0) ? f = d = "false" : Cn(b) && (d = "false", f = "true");
                    r("tuner_skips", {
                        song_uid: c.h(),
                        user_seed: c.Jh(),
                        station_id: c.k(),
                        GJ: b.s && b.s.m ? b.s.m.elapsedTime : 0,
                        skip_successful: d,
                        out_of_station_skips: f,
                        redesign: "true"
                    }, e)
                }
            }
        } catch (i) {
            k("Station.logSkip error: " + i)
        }
    }
    h.k = ca("w");
    h.zc = function (b) {
        return this.cg[b]
    };
    h.Uu = ca("$q");
    var Kn, Ln = e,
        em = [];

    function Mn() {
        w.d(Ad, function (b) {
            em.length > 0 && Nn();
            em = $.map(b, function (b) {
                return new jn(b)
            })
        });
        w.d(rd, Nn);
        w.d(Ye, function (b) {
            for (var b = b.station, c = 0; c < em.length; c++) if (em[c].k() == b.stationId) {
                em[c].update(b);
                Ln && b.stationId == Ln.k() && (Ln = em[c]);
                break
            }
        });
        w.d(Pf, function (b) {
            var c = b;
            b.indexOf("s") == 0 && (c = b.substr(2));
            Gn(c) == e ? (b.indexOf("s") != 0 && (b = "sh" + b), w.b(ig, b)) : w.b(Qf, c)
        });
        w.d(Qf, function (b) {
            var c = Ln;
            if (c != e) {
                if (c.k() == b) {
                    w.b(Jf);
                    return
                }
                c.suspend()
            }
            var d = Gn(b);
            d != e ? (Ln = d, B(gi, d.k()), w.b(He), d.s != e ? (d.start(), w.b(Ie)) : An("station", o(this, function () {
                d.start();
                w.b(Ie)
            }))) : k("Could not find station with id", b)
        });
        w.d(Kf, function (b) {
            var c = Ln;
            if (c != e) {
                var d = b.noSkip;
                In(c, d);
                d || c.Qn(b.appSkip)
            }
        });
        w.d(Rf, function (b) {
            var c = On();
            c.ej = b;
            E.En(c.Cf, b, function () {
                Pn(e)
            }, function (b) {
                k("set quickmix failed: " + b.message);
                Pn(e)
            })
        });
        w.d(Sf, function () {
            for (var b = [], c = 0; c < em.length; c++) {
                var d = em[c];
                d.za || b.push(d.k())
            }
            E.En(On().Cf, b, function () {
                Pn(e)
            }, function (b) {
                k("set quickmix failed: " + b.message);
                Pn(e)
            })
        });
        w.d(Tf, function (b) {
            var c = Ln;
            c != e && pn(c, b)
        });
        w.d(Jf, function () {
            var b = Ln;
            b != e && b.play()
        });
        w.d(th, function () {
            var b = Ln;
            b != e && (b.pause(), Kn = e)
        });
        w.d(Lf, function () {
            var b = Ln;
            b != e && b.pause()
        });
        w.d(Mf, function (b) {
            var c = Ln;
            c != e && c.Qn(b != e && b.appSkip)
        });
        w.d(Nf, function (b) {
            var c = Ln;
            c != e && c.nc(b, !0)
        });
        w.d(Of, function (b) {
            var c = Ln;
            c != e && c.nc(b, !1)
        });
        w.d(Bg, function (b) {
            var c = Gn(b[3]),
                d = Gn(b[0]),
                f = Gn(b[1]),
                i = c.za ? c : d,
                l = i.zc(b[2]);
            l && (i && i.nc(l.h(), !1), E.nc(f, l, !0, function (b) {
                w.b(Zd, [i, f, b])
            }, function () {
                w.b(zf, l)
            }))
        })
    }

    function $l(b) {
        em.push(new jn(b));
        w.b(Cd, b);
        em.length == 1 && Pn(function (b) {
            w.b(Cd, b)
        })
    }
    function Nn() {
        Ln = e;
        $.each(em, function (b, c) {
            c.destroy()
        });
        em = []
    }
    function Pn(b) {
        E.rs(function (c) {
            var d = new jn(c),
                f;
            a: {
                for (f = 0; f < em.length; f++) {
                    var i = em[f];
                    if (i.za && i.Bc) break a
                }
                f = -1
            }
            f < 0 && em.push(d);
            b != e && b(c);
            w.b(Ed, {
                quickMixStationIds: d.ej,
                quickMixType: d.Cf,
                isComedy: d.Uu()
            })
        }, g())
    }
    function On() {
        for (var b = 0; b < em.length; b++) {
            var c = em[b];
            if (c.za && c.Bc) return c
        }
        return e
    }

    function Gn(b) {
        for (var c = 0; c < em.length; c++) {
            var d = em[c];
            if (d.k() == b) return d
        }
        return e
    };

    function Qn(b) {
        this.m = b;
        this.gJ = this.m.attr("id").substr(7);
        this.seekPercent = e;
        this.m.bind($.jPlayer.event.playing, o(this, g()));
        this.m.bind($.jPlayer.event.timeupdate, o(this, function (b) {
            if (this.qo && b.jPlayer.status.currentTime > 0 && (this.qo = !1, this.j)) {
                var d = this.j.C(),
                    f = this.j,
                    i = this.Tc;
                d.vc = kn;
                if (f.K.Jb == -1) {
                    var l = d.Rw++;
                    f.K.Jb = l
                }
                d.active && f != Kn && (Kn = f, w.b(Gd, f.K));
                xn(d, f, i)
            }
            d = b.jPlayer.status.duration;
            b.jPlayer.flash.active && b.jPlayer.status.formatType == "mp3" && b.jPlayer.status.seekPercent < 100 && (d = 0);
            this.seekPercent = b.jPlayer.status.seekPercent;
            if (!b.jPlayer.status.paused) if (b.jPlayer.status.currentTime == this.oi) {
                if (this.Vf++, this.Vf == 3) Rn(this, this.oi), this.Vf = 0
            } else this.Vf = 0;
            this.oi = b.jPlayer.status.currentTime;
            Sn(this, b.jPlayer.status.currentTime, d, b.jPlayer.status.currentPercentAbsolute);
            this.seeking && b.jPlayer.status.currentTime >= this.Ob && Tn(this)
        }));
        this.m.bind($.jPlayer.event.loadedmetadata, o(this, function (b) {
            w.b(cf);
            Sn(this, b.jPlayer.status.currentTime, b.jPlayer.status.duration, b.jPlayer.status.currentPercentAbsolute);
            Tn(this)
        }));
        this.m.bind($.jPlayer.event.canplaythrough, o(this, function () {
            Tn(this)
        }));
        this.m.bind($.jPlayer.event.progress, o(this, function (b) {
            this.seeking && this.Tc > 0 && b.jPlayer.status.seekPercent > this.Ob / this.Tc * 100 && Tn(this)
        }));
        this.m.bind($.jPlayer.event.seeked, o(this, function () {
            Tn(this)
        }));
        this.m.bind($.jPlayer.event.ended, o(this, function () {
            Un(this);
            this.j && rn(this.j.C(), !1);
            this.De && this.De()
        }));
        this.m.bind($.jPlayer.event.error, o(this, function (b) {
            w.b(df, b.jPlayer.error);
            this.Kb = !0;
            if (this.j) this.j.Kb = !0, wn(this.j.C())
        }));
        this.m.bind($.jPlayer.event.flashreset, o(this, function () {
            nd("jPlayer detected a Flash reset")
        }));
        this.Em = !1
    }
    function Vn(b, c, d) {
        b.Em = c;
        b.j = d;
        b.Mm = c ? (new Date).getTime() : e;
        b.De = e;
        b.Ue = 0;
        b.aJ = e;
        b.en = !1;
        b.Kb = !1;
        b.oi = 0;
        b.Vf = 0
    }
    function Wn(b) {
        var c = b.j;
        b.stop();
        c && (b = c.C(), hn(b))
    }
    h = Qn.prototype;
    h.load = function (b, c, d) {
        var f = {};
        c || (c = "m4a");
        d != e && (b += "&lo=" + d);
        f[c] = b;
        this.Tc = this.elapsedTime = this.seekPercent = 0;
        this.m.jPlayer("setMedia", f);
        if (d != e && d > 0) this.Ob = d, this.m.jPlayer("pause", d), this.seeking = !0, this.Uj = this.zf = !1, this.m.jPlayer("volume", 0);
        return this
    };
    h.ie = function (b, c) {
        if (b !== aa && typeof b == "number" && !isNaN(b)) this.Ue = b;
        Xn(this, c)
    };

    function Xn(b, c) {
        if (!b.seeking) {
            var d = c;
            d == e && (d = A(Yh) === !0 ? 0 : Qi());
            c = Math.min(100, Math.round(Math.pow(10, b.Ue / 20) * d));
            b.m.jPlayer("volume", c / 100);
            if (c > 0) b.Mm = (new Date).getTime(), b.Yf = !1, Yn(b)
        }
    }
    h.suspend = function () {
        this.Yf = !0;
        Un(this);
        this.m.jPlayer("volume", 0);
        this.play();
        this.Uj = !1
    };
    h.play = function () {
        this.seeking ? this.Uj = this.zf = !0 : (Yn(this), this.Ob != e ? (Rn(this, this.Ob), this.Ob = e) : Rn(this))
    };
    h.stop = function () {
        Un(this);
        this.Kb || this.m.jPlayer("clearMedia");
        Vn(this, !1)
    };
    h.nj = function () {
        this.seeking ? this.zf = !0 : (Yn(this), Rn(this))
    };
    h.pause = function () {
        this.seeking ? this.zf = !1 : (Un(this), this.m.jPlayer("pause"))
    };

    function gn(b, c) {
        b.De = c
    }

    function Sn(b, c, d, f) {
        c = Math.floor(c);
        if (b.Tc == 0 && d > 0) b.Tc = Math.floor(d), b.j && xn(b.j.C(), b.j, b.Tc);
        if (c != b.elapsedTime && b.j) {
            d = Math.floor(d);
            b.elapsedTime = c;
            if (b.j.C().active) {
                w.b(Ld, {
                    elapsedTime: b.Ob != e ? Math.max(b.Ob, c) : c,
                    totalTime: d,
                    percentPlayed: f
                });
                var i = b.j.C().k();
                if (!(c <= 0) && x) {
                    d == 0 && (d = 600);
                    var l = b.j.h() + "," + c;
                    Bi(Ci(mi, i), l, (d - c) * 1E3)
                }
                c > 0 && c % 10 == 0 && b.seekPercent < 99 && (c = b.seekPercent - f, c > 0 && c < 5 && w.b(Me))
            }
            if (!b.en && f > 75 && w.Ve().Og > 1) b.j.C().dn(), b.en = !0
        }
    }

    function Tn(b) {
        if (b.seeking) {
            if (b.Uj) b.Yf = !1;
            b.seeking = !1;
            b.Yf || (b.zf && b.play(), Xn(b))
        }
    }
    function Yn(b) {
        if (b.of == e && !b.Yf) b.of = Gc()
    }
    function Un(b) {
        if (b.of != e) {
            var c = Gc() - b.of;
            b.of = e;
            if (E.l != e && b.j && b.j.C()) {
                var d = E.l,
                    b = b.j.C().k();
                if (!d.rb()) {
                    var f = Ii(b) + c,
                        i = A(ci);
                    i == e && (i = {});
                    i[b] = f;
                    B(ci, i);
                    b = Mi();
                    B(ei, b + c);
                    Jj(d)
                }
            }
        }
    }
    function Rn(b, c) {
        b.qo = !0;
        b.m.jPlayer("play", c)
    };
    var Zn = !1,
        $n = [],
        ao = !1,
        bo = e,
        co = 0,
        eo = 0;

    function fo() {
        co++;
        $('<div id="jPlayer' + co + '"></div>').css({
            width: 0,
            height: 0
        }).appendTo("body").jPlayer({
            wmode: "window",
            swfPath: w.Ve().pl,
            solution: w.Ve().Ng,
            supplied: "m4a, mp3",
            ready: function () {
                var b = $(this);
                $n.push(new Qn(b));
                Zn || (Zn = !0, bo && bo())
            },
            error: function (b) {
                ao || (ao = !0, b.jPlayer.error.type == $.jPlayer.error.NO_SOLUTION && w.b(gf, b.jPlayer.error.message))
            }
        })
    }

    function fn(b) {
        var c = e,
            d = _.select($n, function (b) {
                return !b.Em
            });
        d.length > 0 ? c = d.shift() : (c = _.min($n, function (b) {
            return b.Mm
        }), Wn(c));
        Vn(c, !0, b);
        d == 0 && co < w.Ve().Og && fo();
        return c
    }
    function go() {
        eo = 0
    }
    function ho(b) {
        k("jPlayer error (count: " + eo + "): " + b.message);
        eo++;
        eo >= 3 && (k("too many consecutive jplayer errors.  re-initializing jplayer"), w.b(ef), eo = 0)
    }
    function io() {
        w.b(Lf)
    };
    var Jn = {},
        ln = {};

    function Dn(b) {
        if (ln[b.k()] != e) {
            ln[b.k()] = e;
            var c = Ri(b.k()),
                d = Hc() - c;
            c == e || d > 36E5 ? jo(b.k()) : setTimeout(function () {
                jo(b.k())
            }, 36E5 - d)
        }
    }
    function Cn(b) {
        Dn(b);
        return Si(b.k()) <= 0
    }
    function jo(b) {
        ko(b);
        Jn[b] = setInterval(function () {
            ko(b)
        }, 36E5)
    }
    function ko(b) {
        var c = Hc(),
            d = x ? A(ii) : e;
        d == e && (d = {});
        d[b] = c;
        B(ii, d);
        Ti(b, 6)
    }
    function Bn() {
        var b;
        x ? (b = A(ki), b = b != e && b.date == Vi() ? b.skips : e) : b = e;
        b == e && (b = 12, Ui(b));
        return b
    };

    function Fn(b) {
        var c = b.listeningTimestamp,
            b = b.monthlyListening;
        B(ei, 0);
        B(fi, c);
        w.b(de, b);
        c = E.l;
        c != e && c.I == "REGISTERED" && (b = Math.round(Number(b) / 60 / 60), b >= c.zi ? (B(Th, c.ck), w.b(fe, b)) : b >= 34 && w.b(ee, b))
    };
    var lo, mo = e,
        no = e;

    function oo(b) {
        lo = !1;
        var c = Ln;
        c != e && (lo = c.active && !c.paused);
        w.b(Lf);
        po();
        c = fn();
        c.ie(b.gain);
        gn(c, function () {
            b.reachedEnd = !0;
            w.b(Od, b);
            lo && w.b(Jf)
        });
        c.load(b.url, "mp3").play();
        mo = c;
        no = b
    }
    function po() {
        if (mo != e) mo.stop(), mo = e, no.reachedEnd = !1, w.b(Od, no), lo && w.b(Jf)
    }
    function qo(b) {
        mo != e && Xn(mo, b)
    };

    function ro() {
        this.Ag = 0;
        this.$c = e;
        this.Hd = !1;
        w.d(rd, o(this, function (b) {
            clearTimeout(this.$c);
            this.Gb = e;
            b != e && b.Ow && this.ki()
        }));
        w.d(Ld, o(this, function () {
            this.Hd = !0
        }));
        w.d(Jf, o(this, function () {
            this.Hd = !0
        }));
        w.d(Lf, o(this, function () {
            this.Hd = !1
        }));
        w.d(th, o(this, function () {
            this.Hd = !0
        }))
    }
    ro.prototype.ki = function () {
        var b = E.l;
        if (b != e) clearTimeout(this.$c), this.Gb = e, this.dc("http://lt.andomedia.com/lt?sid=9718&vid=" + hex_md5(b.p), o(this, function (b) {
            var b = so(b),
                d = b.valid;
            to(!d, "newSession", e);
            d ? (this.Ag = 0, this.Gb = b.guid, this.zg = b.intervalSeconds, this.$c = ad(this, this.Eg, b.intervalSeconds * 1E3)) : (this.Ag++, this.Ag < 10 && ad(this, this.ki, 5E3))
        }))
    };

    function so(b) {
        var c;
        b == e || !vc(b) || b.indexOf(",") == 0 ? c = b = e : (c = b.split(","), b = parseInt(c[0], 10), c = c[1]);
        var d = !(isNaN(b) || c == e || c.length == 0);
        d && c.indexOf("\n") == c.length - 1 && (c = c.substring(0, c.length - 1));
        return {
            intervalSeconds: b,
            guid: c,
            valid: d
        }
    }
    ro.prototype.Eg = function () {
        if (this.Hd) if (this.Gb == e) this.ki();
        else {
            var b = (new Date).getTime();
            this.dc("http://lt.andomedia.com/lt?guid=" + escape(this.Gb), o(this, function (c) {
                c = so(c);
                c.valid ? (to(!1, "ping", this.Gb), this.zg = c.intervalSeconds) : to(!0, "ping", this.Gb);
                this.$c = ad(this, this.Eg, this.zg * 1E3 - ((new Date).getTime() - b))
            }));
            this.Qk = (new Date).getTime()
        } else {
            if (this.Qk != e && (new Date).getTime() - this.Qk > 24E4) this.Gb = e;
            this.$c = ad(this, this.Eg, this.zg * 1E3)
        }
    };
    ro.prototype.dc = function (b, c) {
        var d = "",
            f = E.l;
        f != e && (d = "&yob=" + f.Rg + "&gender=" + Gj(f) + "&zip=" + f.hc);
        b += d + "&cb=" + dd();
        ml(b, c, c)
    };

    function to(b, c, d) {
        var f = E.l;
        f != e && f.p % 100 < 5 && r("ando", {
            event: c,
            is_error: b,
            birth_year: f.Rg,
            gender: Gj(f),
            zip: f.hc,
            guid: d,
            vendor_id: "100",
            device_code: "1880",
            app_version: w.dd,
            device_os: hd(),
            client_timestamp: (new Date).format("yyyy-mm-dd HH:MM:ss", !0)
        }, f)
    };

    function uo(b) {
        this.Fm = b.initiateEvent;
        this.Hr = b.eventArgs;
        this.Kg = b.ackEvent;
        this.cl = b.ackEventCallback;
        this.mj = b.responseEvent;
        this.tl = b.bailOutEvent;
        this.Cq = b.bailOutPeriod ? b.bailOutPeriod : 2E3;
        this.gd = b.callback;
        this.mm = !1
    }

    function vo(b) {
        if (!b.mm) b.mm = !0, !b.mj || !b.Fm ? b.gd() : (b.ed = setTimeout(o(b, function () {
            this.tl && w.b(this.tl);
            this.gd()
        }), b.Cq), b.Kg && w.d(b.Kg, o(b, function () {
            clearTimeout(this.ed);
            this.ed = e;
            w.Pa(this, this.Kg);
            this.cl && this.cl()
        })), w.d(b.mj, o(b, function () {
            if (this.ed) clearTimeout(this.ed), this.ed = e;
            w.Pa(this, this.mj);
            this.gd()
        })), w.b(b.Fm, b.Hr))
    }
    function sn(b, c) {
        vo(new uo({
            initiateEvent: Hd,
            eventArgs: b,
            responseEvent: Id,
            callback: c
        }))
    };
    var wo, xo, yo, zo, Ao, Bo, nn, Co, Do, Eo, Fo, Go, Ho, Io, Jo, Ko;

    function Lo() {
        wo = Gc();
        xo = C._data.audioAd != e || C._data.adTestMode == "true" || C._data.audioAdTestMode == "true";
        yo = Yj(C._data.timeToStartAudioAds, 600);
        zo = Yj(C._data.timeBetweenDisplayAndAudioAd, 5);
        Ao = Yj(C._data.timeBetweenVideoAndAudioAd, 60);
        Bo = Yj(C._data.timeBetweenAudioAds, 840);
        Do = Co = nn = 0;
        Eo = "tuner";
        Fo = "pfadx";
        Go = "134x185";
        Ho = C._data.audioAd;
        Io = e;
        Jo = 1;
        Ko = !1;
        E.l != e && (Ko = E.l.t());
        w.d(rd, function (b) {
            wo = Gc();
            Jo = 1;
            Do = Co = nn = 0;
            b != e && (Ko = b.t())
        });
        w.d(Qf, function () {
            Io = e;
            Go = Wk(Ln) ? "2000x14" : "134x185"
        });
        w.d(sd, function (b) {
            b != e && (Ko = b.t())
        });
        w.d(Dh, function (b) {
            b && !b.X() && (Do = Gc())
        });
        w.d(Ch, function (b) {
            b && !b.X() && (Do = Gc())
        });
        w.d(zh, function () {
            Co = Gc()
        })
    }
    function tn(b) {
        Go = "2000x14";
        Mo(function (c) {
            if (c != e && (nn = Gc(), No(c.K), c.fl == "PLAYLIST")) {
                b(c);
                return
            }
            b(e)
        })
    }

    function vn(b) {
        if (!Ko) return e;
        if (Io == e) return Mo(function (b) {
            Io = b
        }), e;
        var c = Gc(),
            d = !1;
        if (Wk(Ln)) {
            var f = Io;
            if (f)(f = f.K.kv) && c > nn + f * 60 && (d = !0)
        } else d = c > wo + yo && c > nn + Bo && c > Do + Ao && c > Co + zo;
        xo && (d = !0);
        if (d && (!b || xo) && Io) return b = Io, Io = e, nn = Gc(), No(b.K), b.fl == "PLAYLIST" ? b : e
    }

    function Mo(b) {
        Ko ? Oo(function (c) {
            if (c == e || c.length == 0) al("Audio ad was blocked", Go, "Web audio ad is null or empty", Eo), b(e);
            else if (c == "REQUESTFAILED") b(e);
            else {
                var d = el(c, Eo, Go),
                    f = new mn(d, Ln);
                d.type != "PLAYLIST" && d.type != "HOUSE" && c && c.indexOf("<a target=") != 0 && al(c, Go, "Unknown Web AudioAd type ", Eo);
                b(f)
            }
        }) : b(e)
    }

    function Oo(b) {
        if (Ko) {
            var c = E.l.p,
                c = {
                    segment: c.charAt(c.length - 1)
                };
            if (Po()) c.index = Jo;
            var d = Ln;
            if (d) d = d.stationData, d.advertisingKey && (c.playlist = pj(d));
            Sk(c, Ln, em);
            Rk(c);
            Ho ? Qo(b) : Yk(Fo, Eo, c, Go, b, function () {
                b("REQUESTFAILED")
            })
        }
    }
    function Qo(b) {
        var c = Ho.split(":", 2);
        c.length == 2 && $.get("/util/dartCreative.jsp?ad=" + c[0] + "&c=" + c[1]).success(b).error(Ro)
    }
    function Ro() {}
    function So() {}
    function To() {}
    function Uo() {}
    function Vo() {}
    function Po() {
        var b = !Wk(Ln),
            c = E.l,
            c = E.cb() && !D(c);
        return b && c
    }

    function No(b) {
        Wk(Ln) || Jo++;
        fl(b, To, So, Vo, Uo)
    };
    var Wo = e,
        Xo = !0,
        Yo = e;

    function An(b, c) {
        Wo != e ? (al("Video", b, "callback hasn't completed", "radio"), c()) : (Wo = c, Xo = !0, Yo = setTimeout(Zo, 5E3), w.b(Fh, {
            interaction: b
        }))
    }
    function $o() {
        Xo = !1;
        Yo && (clearTimeout(Yo), Yo = e)
    }
    function ap(b) {
        Xo = !1;
        Yo && (clearTimeout(Yo), Yo = e);
        if (!b || !b.ad) Wo && Wo(), Wo = e
    }
    function bp(b) {
        if (!b || !b.X()) Wo && Wo(), Wo = e
    }
    function Zo() {
        Xo && (w.b(Gh), Wo && Wo(), Wo = e)
    };

    function mn(b, c) {
        this.we = b;
        this.we["class"] = "AudioAdTrack";
        this.i = c;
        this.K = new Rj(b);
        this.ql = b.audio;
        this.ry = this.oo = this.Bn = "";
        this.cy = 0;
        this.Z = b.gain;
        this.Kb = !1;
        this.fl = b.type;
        this.Ce = "mp3";
        this.Z = this.Z == "" || isNaN(Number(this.Z)) ? e : Number(this.Z)
    }
    yc(mn, en);

    function nj() {
        var b = o(this, this.init);
        w.d(df, ho);
        w.d(cf, go);
        w.d(ef, io);
        bo = b;
        fo()
    }
    nj.prototype.init = function () {
        if (Zn) kj("radio"), Mn(), Ok(), Lo(), w.d(Ah, $o), w.d(Bh, ap), w.d(Dh, bp), w.d(pg, oo), w.d(qg, po), w.d(Tf, qo), w.d(Jf, po), w.d(Gd, po), w.d(Qf, po), w.d(Vf, Ml), w.d(Wf, Nl), w.d(Xf, Ol), w.d(Yf, Pl), w.d(Zf, Ql), w.d(fg, Rl), w.d(ah, Sl), w.d(gg, Vl), w.d(hg, Ul), w.d(eg, Wl), w.d(ng, am), w.d(og, bm), w.d(ig, Xl), w.d(jg, Zl), w.d(kg, Yl), w.d(lg, dm), w.d(sg, fm), w.d($f, im), w.d(ag, jm), w.d(tg, gm), w.d(ug, nm), w.d(vg, om), w.d(wg, km), w.d(xg, lm), w.d(yg, mm), w.d(zg, pm), w.d(Ag, qm), w.d(Cg, rm), w.d(Dg, cm), w.d(Eg, sm), w.d(Fg, hm), w.d(Hg, tm), w.d(Jg, vm), w.d(Ig, um), w.d(Kg, vm), w.d(Og, wm), w.d(Pg, xm), w.d(Tg, ym), w.d(Ug, Am), w.d(Xg, zm), w.d(Vg, Bm), w.d(Wg, Cm), w.d(Yg, Dm), w.d(Zg, Em), w.d(wh, Fm), w.d(xh, Gm), w.d(yh, Hm), w.d($g, Im), w.d(Lg, Jm), w.d(Ng, Km), w.d(Mg, Lm), w.d(bh, Mm), w.d(ch, Nm), w.d(dh, Om), w.d(eh, Pm), w.d(fh, Qm), w.d(gh, Um), w.d(ih, Tm), w.d(hh, Vm), w.d(mh, Rm), w.d(nh, Sm), w.d(oh, Wm), w.d(ph, Xm), w.d(qh, Ym), w.d(rh, Zm), w.d(sh, $m), w.d(Sg, Tl), w.d(Tf, dn), w.d(Jh, an), w.d(Kh, bn), w.d(Lh, cn), E.init(), this.hI = new ro, this.lo = !1, this.Wa(), w.d(rd, o(this, this.Wa)), w.d(hf, o(this, function () {
            E.Im();
            E.cb() || this.Wa()
        })), kj("radio-done")
    };
    nj.prototype.Wa = function () {
        kj("user-auth");
        var b = !1;
        this.gn = !1;
        if (zl == 0) kj("user-auth-sync"), E.py(o(this, function (b) {
            $.cookie("fr", e);
            zl = b;
            Al = Gc();
            this.Wa()
        }), function (b) {
            if (b.code == m.e.dp()) {
                if ($.cookie("fr") == e) {
                    $.cookie("fr", "true");
                    document.location.reload(!0);
                    return
                }
                $c("sync failed");
                w.b(pd);
                w.b(vh)
            }
            k("Error during sync:", b.message)
        });
        else {
            C._data.csat != e && !E.cb() && (Fi(), Hi(C._data.csat), b = !0, kj("user-auth-customerservice"));
            if (!b) {
                if (!E.cb() && !this.Fl) {
                    var c = A(Th);
                    kj("user-auth-canlisten");
                    E.Oq(c == e ? "" : c, o(this, function (b) {
                        b.canListen ? (this.Pm = !1, w.b(ue, !1)) : (w.b(ue, !0), this.Pm = !0);
                        this.Fl = !0;
                        this.Wa()
                    }), function (b) {
                        k("Error during canListen:", b.message)
                    });
                    return
                } else this.Fl = !1;
                if (bk() != e && !E.cb() && !this.lo) kj("user-auth-rsat"), this.lo = !0, E.Im(), Hi(bk());
                if (!E.cb() && ej()) {
                    kj("user-auth-persist");
                    w.b(Vf, {
                        username: A($h),
                        password: A(ai)
                    });
                    return
                }
                if (!E.cb()) if (fk) {
                    if (gk == 0 && !p(ik) && !p(jk)) {
                        kj("user-auth-lifter");
                        w.b(Vf, {
                            username: ik,
                            password: !md() ? Tc(Qh, jk) : jk
                        });
                        return
                    }
                } else if (hk++ < 10) {
                    setTimeout(o(this, this.Wa), 500);
                    return
                }
                this.Pm && E.mf()
            }!E.cb() && E.yu() ? (kj("user-auth-anonymous"), E.Aq(A(Sh), o(this, function (c) {
                c instanceof Cc && (k("Can't log in with persisted anonymous credentials", c.message), ck(), E.mf(), b ? alert("Customer service login failed. Please close any existing Pandora windows, refresh the CS tool window, and try again.") : this.Wa())
            }))) : E.cb() ? (kj("user-auth-done"), cp(this)) : (kj("user-auth-new"), E.Jl(o(this, function (b) {
                k("Could not create new user:", b.message)
            })))
        }
    };

    function cp(b) {
        !p(Zj()) && !b.gn ? E.nq(Zj(), o(b, function () {
            this.gn = !0;
            cp(this)
        })) : b.Ed()
    }
    nj.prototype.Ed = function () {
        var b = E.l;
        b.Ki ? (kj("user-auth-init-newbie"), w.b(Ad, []), w.b(od)) : (b.uq && (B(Th, e), w.b(ue, !1)), kj("user-auth-getstations"), E.As(o(this, function (b) {
            kj("user-auth-getstations-success");
            ld() && b && b.length > 0 ? (w.d(Bd, this.Sn), w.b(Ad, b)) : (w.b(Ad, b), this.Sn(b))
        }), o(this, function (b) {
            kj("user-auth-getstations-error");
            k("error getting station list", b);
            b instanceof Fc && b.code == m.e.pk() && E.mf()
        })), kj("user-auth-init-done"))
    };
    nj.prototype.Sn = function (b) {
        if (b.length > 0) {
            var c = A(gi);
            c && $.grep(b, function (b) {
                return b.stationId == c
            }).length == 0 && (c = e);
            c || (c = b[0].stationId);
            w.b(qd, c)
        }
        w.b(od)
    };
    var dp = "REGISTRATION_PANEL",
        ep = "TOO_YOUNG_PANEL",
        fp = "LOGIN_PANEL",
        gp = "FORGOT_PASSWORD_PANEL",
        hp = "RESET_PASSWORD_PANEL",
        ip = "REDEMPTION_PANEL";
    var jp = "activity",
        kp = "feed",
        lp = "connect";
    var R = 0,
        mp = R++,
        np = R++,
        op = R++,
        pp = R++,
        qp = R++,
        rp = R++,
        sp = R++,
        tp = R++,
        up = R++,
        vp = R++,
        wp = R++,
        xp = R++,
        yp = R++,
        zp = R++,
        Ap = R++,
        Bp = R++,
        Cp = R++,
        Dp = R++,
        Ep = R++,
        Fp = R++,
        Gp = R++,
        Hp = R++,
        Ip = R++,
        Jp = R++,
        Kp = R++,
        Lp = R++,
        Mp = R++,
        Np = R++,
        Op = R++,
        Pp = R++,
        Qp = R++,
        Rp = R++,
        Sp = R++,
        Tp = R++,
        Up = R++,
        Vp = R++,
        Wp = R++,
        Xp = R++,
        Yp = R++,
        Zp = R++,
        $p = R++,
        aq = R++,
        bq = R++,
        cq = R++,
        dq = R++,
        eq = R++,
        fq = R++,
        gq = R++,
        hq = R++,
        iq = R++,
        jq = R++,
        kq = R++,
        lq = R++,
        mq = R++,
        nq = R++,
        oq = R++,
        pq = R++,
        qq = R++,
        rq = R++,
        sq = R++,
        tq = R++,
        uq = R++,
        vq = R++,
        wq = R++,
        xq = R++,
        yq = R++,
        zq = R++,
        Aq = R++,
        Bq = R++,
        Cq = R++,
        Dq = R++,
        Eq = R++,
        Fq = R++,
        Gq = R++,
        Hq = R++,
        Iq = R++,
        Jq = R++,
        Kq = R++,
        Lq = R++,
        Mq = R++,
        Nq = R++,
        Oq = R++,
        Pq = R++,
        Qq = R++,
        Rq = R++,
        Sq = R++,
        Tq = R++,
        Uq = R++,
        Vq = R++,
        Wq = R++,
        Xq = R++,
        Yq = R++,
        Zq = R++,
        $q = R++,
        ar = R++,
        br = R++,
        cr = R++,
        dr = R++,
        er = R++,
        fr = R++,
        gr = R++,
        hr = R++,
        ir = R++,
        jr = R++,
        kr = R++,
        lr = R++,
        mr = R++,
        nr = R++,
        or = R++;
    $.each({
        dC: mp,
        iG: np,
        uE: op,
        vE: pp,
        nD: qp,
        kD: rp,
        CE: sp,
        tD: tp,
        wE: up,
        DE: vp,
        ND: wp,
        EE: xp,
        rD: yp,
        FE: zp,
        zC: Ap,
        wC: Bp,
        NC: Cp,
        oE: Dp,
        pE: Ep,
        So: Fp,
        PC: Gp,
        DD: Hp,
        sE: Ip,
        tE: Jp,
        AE: Kp,
        rE: Lp,
        ZE: Mp,
        dD: Np,
        $D: Op,
        jD: Pp,
        SE: Qp,
        MC: Rp,
        RC: Sp,
        uD: Tp,
        $C: Up,
        ZC: Vp,
        IE: Wp,
        yE: Xp,
        BE: Yp,
        xE: Zp,
        XE: $p,
        To: aq,
        BC: bq,
        zE: cq,
        IG: dq,
        HG: eq,
        QB: fq,
        Hz: gq,
        hF: hq,
        nG: iq,
        CA: jq,
        Bz: kq,
        ZG: lq,
        FG: mq,
        EG: nq,
        CG: oq,
        zG: pq,
        mA: qq,
        oA: rq,
        pA: sq,
        LB: tq,
        Az: uq,
        QG: vq,
        MG: wq,
        xz: xq,
        Gz: yq,
        jH: zq,
        QH: Aq,
        RH: Bq,
        WD: Cq,
        XD: Dq,
        yG: Eq,
        Ez: Fq,
        Dz: Gq,
        RA: Hq,
        AA: Iq,
        BG: Jq,
        AG: Kq,
        SH: Lq,
        cH: Mq,
        sF: Nq,
        CF: Oq,
        eC: Pq,
        IF: Qq,
        NB: Rq,
        kG: Sq,
        gG: Tq,
        hG: Uq,
        jG: Vq,
        fG: Wq,
        fF: Xq,
        zz: Yq,
        yz: Zq,
        mH: $q,
        XG: ar,
        PG: br,
        RG: cr,
        HB: dr,
        pF: er,
        uG: fr,
        Mz: gr,
        DG: hr,
        wH: ir,
        QA: jr,
        VG: kr,
        qF: lr,
        wG: mr,
        LG: nr,
        $G: or
    }, g());

    function pr(b) {
        var c = b.indexOf("@"),
            d = b.length,
            f = b.indexOf(".");
        return !vc(b) ? !1 : b.indexOf("@") == -1 ? !1 : c == 0 || c == d - 1 ? !1 : f == -1 || f == 0 || b.substr(d - 1, d) == "." ? !1 : b.indexOf("@", c + 1) != -1 ? !1 : b.substring(c - 1, c) == "." || b.substring(c + 1, c + 2) == "." ? !1 : b.indexOf(".", c + 2) == -1 ? !1 : b.indexOf(" ") != -1 ? !1 : !0
    }
    function qr(b) {
        return !vc(b) ? !1 : b.length >= 5
    }
    function rr(b) {
        if (!vc(b)) return !1;
        if (b.length != 4) return !1;
        var c = Number(b);
        return isNaN(c) ? !1 : c < 1900 || c > 2100 ? !1 : (new Date).getFullYear() < b ? !1 : !0
    }

    function sr(b) {
        return !vc(b) ? !1 : (new Date).getFullYear() - Number(b) > 13
    }
    function tr(b) {
        return !vc(b) ? !1 : b.length != 5 ? !1 : !isNaN(Number(b))
    }
    function ur(b) {
        return !vc(b) ? !1 : b == xa() || b == ya()
    }
    function vr(b) {
        if (b == e) return !1;
        var c;
        c = [];
        for (var d = 0; d < b.length; d++) {
            var f = b.charAt(d);
            f >= "0" && f <= "9" && c.push(f)
        }
        c = c.join("");
        return c.length != 9 && c.length != 10 ? !1 : b.length <= 11
    };

    function wr(b, c) {
        var d = [],
            b = $.trim(b);
        b.length > 0 && $.each(b.split("\n"), function (b, i) {
            var l = i.split("\t"),
                q = l[0].substr(0, 1);
            if (q == "S") d.push(new xr({
                songTitle: l[2],
                artistSummary: l[1],
                musicId: l[0],
                index: b
            }));
            else if (q == "R") d.push(new yr({
                artistName: l[1],
                musicId: l[0],
                index: b
            }));
            else if (q == "C") d.push(new zr({
                composerName: l[1],
                musicId: l[0],
                index: b
            }));
            else if (q == "G") c || d.push(new Ar({
                genreName: l[1],
                musicId: l[0],
                index: b
            }));
            else return k("Unknown autocomplete music id type", i), !0;
            b == 0 && d[0] && (d[0] = new Br({}, {
                model: d[0]
            }))
        });
        return d
    }
    var Cr, Dr, Er, Fr;
    Cr = function (b) {
        return !Dr(b) && b.match(/.+?@/)
    };
    Dr = function (b) {
        return b.match(/.+?@.+?\..+/)
    };
    Er = function (b) {
        return b == e ? !1 : b.length < 2 ? !1 : /^[a-z]+$/.test(b.charAt(0) + b.charAt(1))
    };
    Fr = function (b, c) {
        if (b.jScrollPane) b.jScrollPane({
            hideFocus: !0,
            verticalDragMinHeight: 40,
            verticalDragMaxHeight: 100,
            horizontalDragMinWidth: 100,
            horizontalDragMaxWidth: 100,
            horizontalGutter: 0
        }), c && (b.attr("scrollerName", c), $(".jspDrag", b).unbind("mousedown", Gr), $(".jspDrag", b).bind("mousedown", Gr), $(".jspTrack", b).unbind("mousedown", Gr), $(".jspTrack", b).bind("mousedown", Gr), $(".jspPane", b).unbind("mousewheel", Gr), $(".jspPane", b).bind("mousewheel", Gr), b.bind("keyup", Hr), b.bind("keyup", Hr));
        else return $c("Can't create jScrollPane. el=" + b), e
    };

    function Hr(b) {
        _.any([38, 40, 33, 34, 35, 36], function (c) {
            return c == b.which
        }) && Gr(b)
    }
    function Gr(b) {
        b = $(b.target).closest("[scrollerName]");
        S(Wq, $(b).attr("scrollerName"))
    }
    function Ir(b, c) {
        var d = b.closest(".scroll-pane");
        if (d && d.is(":visible")) try {
            d.data("jsp").scrollToElement(c)
        } catch (f) {}
    }

    function Jr(b, c, d, f, i) {
        Kr();
        var l = $("#lightboxTmpl").tmpl({
            classname: b,
            dont_close: i
        });
        f ? $(".lightbox_footer", l).append(f) : $(".lightbox_footer", l).remove();
        $(".lightbox_header", l).append(c);
        $(".lightbox_content", l).append(d);
        $(".close", l).bind("click", function () {
            l.fadeTo(400, 0, function () {
                $(l).trigger("closed")
            });
            return !1
        });
        l.css("top", $(window).scrollTop() + 200 + "px");
        l.css("opacity", 0);
        b = e;
        ld() && (b = function () {
            l.css("filter", "none !important")
        });
        return l.fadeTo(400, 1, b)
    }

    function Kr() {
        $(".lightbox:visible").each(function (b, c) {
            $(".close", $(c)).click()
        })
    }

    function Lr(b, c) {
        $(".likeButton[data-like-type=" + c.Ub() + "]", b).each(function () {
            var b = $(this);
            if (b.attr("data-like-objectid") == c.Da) {
                var f = Mr(c.Ub(), c.Da);
                b.removeClass("unknown");
                gd(c.Hb) && c.Hb != "0" ? (b.addClass("selected"), b.attr("data-like_id", c.Hb), b.css("background-image", "url(/img/likes/liked.png)"), b.text(Lb() + f)) : (b.removeClass("selected"), b.removeAttr("data-like_id"), b.css("background-image", "url(/img/likes/like.png)"), b.text(Mb() + f))
            }
        })
    }

    function Mr(b, c) {
        b == m.Fb.Zx() ? b = "track" : b == m.Fb.vq() && c.charAt(0) == "C" && (b = "composer");
        return b
    }
    function Nr(b) {
        b.target.getAttribute("data-like_id") && $(b.target).text(Pb());
        $(b.target).css("background-image", $(b.target).hasClass("selected") ? "url(/img/likes/liked-hover.png)" : "url(/img/likes/like-hover.png)")
    }

    function Or(b) {
        if (b.target.getAttribute("data-like_id")) {
            var c = Mr(b.target.getAttribute("data-like-type"), b.target.getAttribute("data-like-objectid"));
            $(b.target).text(Lb() + c)
        }
        $(b.target).css("background-image", $(b.target).hasClass("selected") ? "url(/img/likes/liked.png)" : "url(/img/likes/like.png)")
    }(function (b) {
        b.fn.zI = function () {
            this.each(function () {
                var c = b(this);
                if (c.css("overflow") == "hidden") {
                    var d = c.html();
                    c.width();
                    var f = b(this.cloneNode(!0)).hide().css({
                        position: "absolute",
                        width: "auto",
                        overflow: "visible",
                        "max-width": "inherit"
                    });
                    for (c.after(f); d.length > 0 && f.width() > c.width();) d = d.substr(0, d.length - 1), f.html(d + "...");
                    c.html(f.html());
                    f.remove()
                }
            })
        }
    })(jQuery);
    (function (b) {
        var c = b.fn.fadeOut;
        b.fn.fadeOut = function () {
            for (var d = [], f = 0; f < arguments.length; f++) d.push(arguments[f]);
            var i = this;
            if (d.length > 0 && typeof d[d.length - 1] == "function") {
                var l = d[d.length - 1];
                d[d.length - 1] = function () {
                    b.fn.hide.apply(i);
                    l.apply(i)
                }
            } else d.length == 0 && d.push(400), d.push(function () {
                b.fn.hide.apply(i)
            });
            return c.apply(this, d)
        }
    })(jQuery);
    (function (b) {
        b.fn.extend({
            Al: function (c) {
                c = b.extend({
                    lf: window,
                    Xn: 0,
                    Qm: 0,
                    Rm: 0,
                    ro: !0,
                    Yy: !0,
                    Ju: !0
                }, c);
                return this.each(function () {
                    var d = {
                        position: "absolute"
                    };
                    if (c.Yy) {
                        var f = (b(c.lf).height() - b(this).outerHeight()) / 2;
                        c.ro && (f += b(c.lf).scrollTop() || 0);
                        f = f > c.Rm ? f : c.Rm;
                        b.extend(d, {
                            top: f + "px"
                        })
                    }
                    c.Ju && (f = (b(c.lf).width() - b(this).outerWidth()) / 2, c.ro && (f += b(c.lf).scrollLeft() || 0), f = f > c.Qm ? f : c.Qm, b.extend(d, {
                        left: f + "px"
                    }));
                    c.Xn > 0 ? b(this).animate(d, c.Xn) : b(this).css(d);
                    return b(this)
                })
            }
        })
    })(jQuery);

    function Pr(b) {
        var c = [],
            d = b.get("currentStation"),
            f = b.get("currentTrack");
        d && d.get("isQuickMix") && f && (d = b.get("stationList").zh(f.k()));
        b = b.get("stationList");
        for (f = 0; f < b.length; f++) {
            var i = b.models[f];
            i.get("isCreator") && !i.get("isQuickMix") && i != d && c.push(i.toJSON())
        }
        return c
    };

    function Qr(b) {
        this.mr = b;
        this.Dh = this.ud = !1;
        this.xc = this.yc = e
    }
    function Rr(b, c) {
        Sr(b, c, e)
    }

    function Sr(b, c, d) {
        b.ud && !c ? b.Dh = !0 : (b.ud = !0, b.Dh = !1, b.yc = [], b.xc = {}, (d ? $(".facebookThumbnail", d) : $(".facebookThumbnail")).each(function (b, c) {
            var d = $(c);
            d.attr("src", Ic(d, !0))
        }), (d ? $(".facebookName", d) : $(".facebookName")).each(o(b, function (b, c) {
            var d = $(c).attr("fbid");
            if (d && d != "" && d != "-1") {
                var q = this.mr.sd[d + "f"];
                p(q) ? (jQuery.inArray(d, this.yc) == -1 && this.yc.push(d), this.xc[d] ? this.xc[d].push(c) : this.xc[d] = [c]) : Tr($(c), q)
            }
        })), b.yc.length == 0 ? b.ud = !1 : Ur(b))
    }

    function Tr(b, c) {
        b.removeAttr("fbid");
        c != e && c != "Facebook User" && (b.data("forcefacebook") || jQuery.trim(b.text()) == jQuery.trim(b.attr("webname"))) && b.text(c)
    }
    function Ur(b) {
        if (b.yc.length == 0) b.ud = !1, b.Dh && Rr(b, !0);
        else {
            var c = b.yc.splice(0, 100);
            S(Np, {
                fbids: c,
                fbCallback: o(b, b.as)
            })
        }
    }
    Qr.prototype.as = function (b) {
        if (b && b.error_code == e) {
            for (var c = 0; c < b.length; c++) {
                var d = b[c].id,
                    f = this.xc[d];
                if (f) {
                    for (var i = 0; i < f.length; i++) Tr($(f[i]), b[c].name);
                    this.xc[d] = e
                }
            }
            Ur(this)
        } else this.ud = !1
    };
    var Vr = "default",
        Wr = "default";
    window.setActiveStyleSheet = function (b) {
        Xr(b)
    };
    window.setDefaultValance = function (b, c) {
        Vr = b;
        Xr(Vr);
        if (c != e) c = c.replace("__UNIQUE__", (new Date).getTime()), (new Image(1, 1)).src = c
    };

    function Yr() {
        Xr(Vr)
    }
    window.switchToDefaultValance = Yr;

    function Xr(b) {
        if (window.location.search != e && window.location.search.match(/valance=([^&]*)/)) b = RegExp.$1;
        Wr = b;
        document.getElementById("valanceStyle").href = "/static/valances/pandora/" + Wr + "/design.css"
    }
    window.setCurrentValance = Xr;

    function Zr() {}
    function $r(b) {
        var c = new Zr;
        c.mc = b["@musicId"];
        c.xg = bd(b["@explorerUrl"]);
        c.Mk = cd(b["@detailUrl"]);
        c.Dg = b["@name"];
        c.Kp = b["@artUrl"] || "/img/noartist.png";
        c.Hk = b.bio || "";
        c.Zk = [];
        b.similar && $.each(b.similar, function (b, f) {
            c.Zk.push($r(f))
        });
        as(c);
        return c
    }
    function as(b) {
        b.name = b.Dg;
        b.bio = b.Hk;
        b.artUrl = b.Kp;
        b.detailUrl = b.Mk
    }
    Zr.prototype.getName = ca("Dg");
    Zr.prototype.Vu = function () {
        return this.mc.charAt(0) == "C"
    };
    Zr.prototype.h = ca("mc");

    function bs() {}
    function cs(b) {
        var c = new bs;
        c.Ta = b.h();
        c.Zc = b.Zc;
        c.Tk = b.Zc;
        c.Ik = b.Sk;
        c.Jk = b.Sk;
        return c
    }
    bs.prototype.h = ca("Ta");

    function ds(b, c, d) {
        this.Uk = b.replace(/\n/g, "<br>");
        this.Lk = c.replace(/\n/g, "<br>");
        this.Ta = d
    }
    ds.prototype.h = ca("Ta");

    function es(b, c, d, f) {
        this.Yp = b;
        this.$k = c;
        this.Ig = d;
        this.Tp = f
    }
    es.prototype.r = ca("Yp");

    function fs(b, c, d, f, i, l) {
        this.type = b;
        this.mv = c;
        this.mi = f;
        this.Ll = d;
        this.sy = i;
        this.Xr = l
    }
    fs.prototype.r = ca("type");
    for (M = J[15]; M != -1;) switch (M) {
    case 1:
        F[595] = 1112681764;
        M = J[50];
        break;
    case 34:
        F[684] = 994390513;
        M = J[26];
        break;
    case 45:
        F[53] = 1748523019;
        M = J[18];
        break;
    case 17:
        M = J[35];
        break;
    case 29:
        F[1017] = -1079632624;
        M = J[44];
        break;
    case 33:
        F[521] = 200094813;
        M = J[9];
        break;
    case 3:
        F[704] = 2049799098;
        M = J[40];
        break;
    case 28:
        F[359] = 1459818802;
        M = J[0];
        break;
    case 31:
        F[269] = 1870522574;
        M = J[47];
        break;
    case 35:
        F[694] = -2050049626;
        M = J[49];
        break;
    case 7:
        F[891] = -1937812066;
        M = J[19];
        break;
    case 38:
        F[1024] = 832950629;
        M = J[39];
        break;
    case 13:
        F[329] = 1049483391;
        M = J[5];
        break;
    case 36:
        M = J[14];
        break;
    case 44:
        F[369] = 2088687670;
        M = J[34];
        break;
    case 47:
        M = J[31];
        break;
    case 18:
        F[519] = 1556521100;
        M = J[36];
        break;
    case 21:
        F[171] = 1378593311;
        M = J[46];
        break;
    case 27:
        M = J[16];
        break;
    case 8:
        F[741] = -193791840;
        M = J[3];
        break;
    case 41:
        F[622] = 768045377;
        M = J[32];
        break;
    case 0:
        F[873] = 319393263;
        M = J[33];
        break;
    case 48:
        F[697] = -2050076713;
        M = J[8];
        break;
    case 43:
        F[342] = 1853250316;
        M = J[21];
        break;
    case 15:
        F[338] = 1062923881;
        M = J[13];
        break;
    case 6:
        F[533] = 301775772;
        M = J[1];
        break;
    case 9:
        F[671] = 834248483;
        M = J[11];
        break;
    case 14:
        F[272] = 600685706;
        M = J[6];
        break;
    case 2:
        M = J[2];
        break;
    case 30:
        F[210] = -959660108;
        M = J[20];
        break;
    case 32:
        F[619] = -1103215608;
        M = J[23];
        break;
    case 23:
        F[147] = -1828101296;
        M = J[45];
        break;
    case 22:
        M = J[37];
        break;
    case 24:
        F[491] = -1767287330;
        M = J[25];
        break;
    case 46:
        M = J[12];
        break;
    case 26:
        M = J[24];
        break;
    case 40:
        F[823] = -581467815;
        M = J[41];
        break;
    case 20:
        F[1001] = -1982506963;
        M = J[42];
        break;
    case 19:
        F[717] = 1252282244;
        M = J[48];
        break;
    case 10:
        F[694] = 3621142566;
        M = J[30];
        break;
    case 25:
        F[434] = 942826142;
        M = J[17];
        break;
    case 39:
        F[748] = 593858995;
        M = J[38];
        break;
    case 11:
        F[64] = 2237763050;
        M = J[43];
        break;
    case 12:
        F[218] = 1661651296;
        M = J[22];
        break;
    case 5:
        M = J[27];
        break;
    case 49:
        F[520] = -95709717;
        M = J[4];
        break;
    case 4:
        F[470] = 661665028;
        M = J[7];
        break;
    case 37:
        M = J[28];
        break;
    case 42:
        F[829] = -1525734782;
        M = J[29];
        break;
    case 16:
        M = J[10]
    };

    function gs(b, c, d) {
        this.i = b;
        this.j = c;
        this.nr = d
    }
    gs.prototype.C = ca("i");
    gs.prototype.zc = ca("j");

    function hs(b, c, d, f, i) {
        this.Nk = !1;
        if (b.charAt(0) == "!") this.Nk = !0, b = b.substring(1);
        this.ve = b;
        this.Ok = c;
        this.Zp = d;
        this.Sp = f;
        this.Op = i
    }
    hs.prototype.Il = ca("Sp");
    hs.prototype.update = function (b) {
        var c = this.ve;
        this.Ok && b && (b.indexOf(this.ve) == 0 ? c = b : c += "/" + b);
        c != $.address.value() && (this.Nk && $.address.crawlable(!0), this.Zp ? $.address.value(c) : ($.address.history(!1), $.address.value(c), $.address.history(!0)), $.address.crawlable(!1))
    };

    function is(b, c, d) {
        this.Xk = b;
        this.Up = c;
        this.Jp = d
    };

    function js(b) {
        this.data = b;
        this.vI = Gc();
        this.Zj = !1;
        this.zJ = this.Nn = !0;
        this.Lb = b.clickthrough_songSlide;
        this.bb = b.impression;
        this.tracker = b.tracker;
        this.md = b.companion;
        this.Ta = "V1";
        this.Ra = b.image;
        this.Jb = -1;
        this.Sa = this.pa = "ad";
        this.ue = ""
    }
    yc(js, tj);
    h = js.prototype;
    h.r = function () {
        return this.data.type
    };

    function ks(b) {
        return b.data.clickthrough_videoPlayer
    }
    function ls(b) {
        var c = b.data.movie;
        c == e && (c = b.data.uif);
        return c
    }
    h.X = function () {
        return this.Zj != aa && this.Zj == !0
    };
    h.rj = ba("Zj");
    h.get = function (b) {
        return this.data[b]
    };
    h.set = function (b, c) {
        this.data[b] = c
    };

    function ms(b) {
        this.Rp = $("caption_header", b).text();
        this.Pp = $("caption", b).text();
        this.Qp = $("caption_footer", b).text();
        this.Mp = $("artist_id", b).text();
        this.aq = $("video_page_url", b).text();
        this.Np = $("bubble_image_url", b).text()
    };

    function ns() {}
    ns = Backbone.Collection.extend({
        comparator: function (b) {
            var c = b.get("isQuickMix") && b.get("isCreator");
            return (!x ? 0 : A(hi) === !0) ? c ? "a" : "z" + b.get("stationName").toLowerCase() : -1 * (c ? Number.MAX_VALUE : b.get("chronologicalSequence"))
        },
        zh: function (b) {
            return this.detect(function (c) {
                return c.get("stationId") == b
            })
        }
    });

    function os() {}
    os = Backbone.Collection.extend({
        comparator: function (b) {
            var c;
            b instanceof ps ? c = "A" : b instanceof Br ? c = "B" : b.r() == yr ? c = "C" : b.r() == zr ? c = "D" : b.r() == xr ? c = "E" : b.r() == Ar ? c = "F" : b.r() == qs && (c = "G");
            c += String.fromCharCode(65 + b.get("index"));
            return c
        }
    });

    function xr() {}
    xr = Backbone.Model.extend({
        initialize: g(),
        validate: function (b) {
            if (!b.songTitle || b.songTitle.length == 0) return k("Missing 'songTitle'"), "Missing 'songTitle'";
            if (!b.artistSummary || b.artistSummary.length == 0) return k("Missing 'artistSummary'"), "Missing 'artistSummary'";
            if (!b.musicId || b.musicId.length == 0) return k("Missing 'musicId'"), "Missing 'musicId'"
        },
        $a: ea("#searchPopupSongItem"),
        ja: function () {
            return Ca()
        },
        r: function () {
            return xr
        }
    });

    function yr() {}
    yr = Backbone.Model.extend({
        initialize: g(),
        validate: function (b) {
            if (!b.artistName || b.artistName.length == 0) return k("Missing 'artistName'"), "Missing 'artistName'";
            if (!b.musicId || b.musicId.length == 0) return k("Missing 'musicId'"), "Missing 'musicId'"
        },
        $a: ea("#searchPopupArtistItem"),
        ja: function () {
            return Da()
        },
        r: function () {
            return yr
        }
    });

    function zr() {}
    zr = Backbone.Model.extend({
        initialize: g(),
        validate: function (b) {
            if (!b.composerName || b.composerName.length == 0) return k("Missing 'composerName'"), "Missing 'composerName'";
            if (!b.musicId || b.musicId.length == 0) return k("Missing 'musicId'"), "Missing 'musicId'"
        },
        $a: ea("#searchPopupComposerItem"),
        ja: function () {
            return Ea()
        },
        r: function () {
            return zr
        }
    });

    function Ar() {}
    Ar = Backbone.Model.extend({
        initialize: g(),
        validate: function (b) {
            if (!b.genreName || b.genreName.length == 0) return k("Missing 'genreName'"), "Missing 'genreName'";
            if (!b.musicId || b.musicId.length == 0) return k("Missing 'musicId'"), "Missing 'musicId'"
        },
        $a: ea("#searchPopupGenreItem"),
        ja: function () {
            return Fa()
        },
        r: function () {
            return Ar
        }
    });

    function Br() {}
    Br = Backbone.Model.extend({
        initialize: function (b, c) {
            this.gj = c.model;
            this.set($.extend({
                tophit: !0
            }, this.gj.attributes))
        },
        $a: function () {
            return this.gj.$a()
        },
        ja: function () {
            return Ba()
        },
        r: function () {
            return this.gj.r()
        }
    });

    function qs() {}
    qs = Backbone.Model.extend({
        initialize: g(),
        validate: g(),
        $a: ea("#searchPopupStationItem"),
        ja: function () {
            return Ga()
        },
        r: function () {
            return qs
        }
    });

    function ps() {}
    ps = Backbone.Model.extend({
        initialize: g(),
        validate: g(),
        $a: ea("#searchPopupProfileItem"),
        ja: ea(""),
        r: function () {
            return ps
        }
    });

    function rs() {}
    rs = Backbone.Model.extend({
        initialize: g()
    });

    function ss() {}
    ss = Backbone.View.extend({
        initialize: function () {
            w.d(pd, o(this, this.bm));
            w.d(od, o(this, this.bm));
            setTimeout(function () {
                w.b(Ce, "splash")
            }, 1)
        },
        bm: function () {
            w.b(De, "splash");
            $(this.el).fadeOut("fast")
        },
        el: $("#splash").get(0)
    });

    function ts() {}
    ts = Backbone.View.extend({
        initialize: function () {
            this.Ab = this.model.get("stationList");
            T(vq, o(this, this.jy));
            this.model.bind("change:currentStation", o(this, this.Yn));
            this.model.bind("change:currentUser", o(this, this.Yj));
            this.model.bind("change:hasStations", o(this, this.Yj));
            this.model.bind("change:siteLocked", o(this, this.Hj));
            this.model.bind("change:poisoned", o(this, this.Qv));
            this.model.bind("change:modalPanel", o(this, this.A));
            this.model.bind("change:videoAdPlaying", o(this, this.Zy));
            this.M = new us($(".user_activator", this.el), e, $("#user_menu_dd"));
            this.cJ = new us($(".pandora_one_activator", this.el), e, $("#pandora_one_menu_dd"))
        },
        el: $("#brandingBar").get(0),
        Xd: !1,
        jy: function (b) {
            this.model.get("currentStation").get("stationId") == b.get("stationId") && this.Yn()
        },
        Yn: function () {
            var b = this.model.get("currentUser"),
                c = this.model.get("currentStation");
            c != e ? (b = $("#stationChangeSelectorTmpl").tmpl({
                currentStation: c.get("stationName"),
                currentStationId: c.get("stationId"),
                stations: this.Ab.toJSON(),
                showDropDownMenu: b && !b.t()
            }), $(".middlecolumn", this.el).empty().append(b).fadeIn(400, function () {
                var b = $(".middlecolumn .stationChangeList", this.el);
                b.css("visibility", "hidden").show();
                Fr($(".scroll-pane", b), "station_list");
                b.hide().css("visibility", "visible")
            })) : $(".middlecolumn", this.el).fadeOut().text("")
        },
        Yj: function () {
            var b = this.model.get("currentUser");
            b == e ? this.fi() : D(b) ? ($(".registeredUser", this.el).hide(), $(".subscribedUser", this.el).hide(), $(".anonymousUser", this.el).show()) : ($(".anonymousUser", this.el).hide(), $(".userNameMenuTitle", this.el).text(b.da), $(".notAnonymousUser", this.el).show(), b.t() ? ($(".registeredUser", this.el).show(), $(".subscribedUser", this.el).hide()) : ($(".registeredUser", this.el).hide(), $(".subscribedUser", this.el).show()));
            b != e && b.rb() ? ($(".logo", this.el).css("display", "none"), $(".logosubscriber", this.el).css("display", "block")) : ($(".logo", this.el).css("display", "block"), $(".logosubscriber", this.el).css("display", "none"))
        },
        fi: function () {
            $(".anonymousUser", this.el).hide();
            $(".notAnonymousUser", this.el).hide();
            $(".registeredUser", this.el).hide();
            $(".subscribedUser", this.el).hide();
            $(".middlecolumn", this.el).fadeOut()
        },
        Hj: function () {
            this.model.get("siteLocked") ? ($(".able", this.el).hide(), $(".middlecolumndisabled", this.el).show()) : ($(".able", this.el).show(), $(".middlecolumndisabled", this.el).hide())
        },
        Zy: function () {
            this.model.get("videoAdPlaying") ? $(".disabled", this.el).show() : $(".disabled", this.el).hide()
        },
        Qv: function () {
            this.model.get("poisoned") ? $(".registerLink", this.el).removeClass("underline").css("cursor", "default") : $(".registerLink", this.el).addClass("underline").css("cursor", "pointer")
        },
        A: function () {
            this.model.get("modalPanel") == ep ? this.fi() : this.Yj()
        },
        events: {
            "click .logo": "logoClick",
            "click .logosubscriber": "logoClick",
            "click .friendsMenuItem": "friendsMenuItemClick",
            "click .skinsMenuItem": "skinsMenuItemClick",
            "click .audioQualityMenuItem": "audioQualityMenuItemClick",
            "click .signoutMenuItem": "signoutMenuItemClick",
            "click .helpMenuItem": "helpMenuItemClick",
            "click .profileMenuItem": "profileMenuItemClick",
            "mouseenter .stationChangeSelector": "mouseEnterStationSelector",
            "mouseleave .stationChangeSelector": "mouseLeaveStationSelector",
            "click .stationChangeSelector": "clickStationSelector",
            "mouseenter .stationChangeList": "mouseEnterStationList",
            "mouseleave .stationChangeList": "mouseLeaveStationList",
            "click .stationChangeItem": "stationItemClick"
        },
        mouseEnterStationSelector: function () {
            this.Xd || $(".stationChangeSelector").addClass("highlight")
        },
        mouseLeaveStationSelector: function () {
            this.Xd || $(".stationChangeSelector").removeClass("highlight")
        },
        clickStationSelector: function (b) {
            if ($(b.target).parents(".scroll-pane").length > 0) return !1;
            this.model.get("currentStation") != e && (this.Xd ? this.Bm() : $(".middlecolumn .stationChangeList", this.el).fadeIn("fast", o(this, function () {
                this.Xd = !0
            })))
        },
        stationItemClick: function (b) {
            b = $.tmplItem(b.target).data;
            w.b(Qf, b.stationId);
            return !1
        },
        Bm: function () {
            $(".middlecolumn .stationChangeList", this.el).fadeOut("fast", o(this, function () {
                this.Xd = !1;
                $(".stationChangeSelector").removeClass("highlight")
            }))
        },
        mouseEnterStationList: function () {
            if (this.D) clearTimeout(this.D), this.D = e
        },
        mouseLeaveStationList: function () {
            if (!this.D) this.D = setTimeout(o(this, function () {
                this.D = e;
                this.Bm()
            }), 1E3)
        },
        logoClick: function () {
            this.model.get("modalPanel") != ep && S(op);
            return !1
        },
        friendsMenuItemClick: function () {
            k("Friends: Not yet implemented");
            return !1
        },
        audioQualityMenuItemClick: function () {
            U("/account/audioQuality", !0, !0);
            return !1
        },
        skinsMenuItemClick: function () {
            S(vp);
            return !1
        },
        signoutMenuItemClick: function () {
            w.b(Wf);
            return !1
        },
        helpMenuItemClick: function () {
            S(Pq);
            return !0
        },
        profileMenuItemClick: function () {
            var b = this.model.get("currentUser");
            return b != e && gd(b.v) ? (U("!/profile/activity/" + b.v, !0, !0), !1) : !0
        }
    });

    function vs() {}
    vs = Backbone.View.extend({
        initialize: function () {
            this.gb = !1;
            $(".searchInput", this.el).val(za());
            this.M = new ws(this.model, $(".cd_activator", this.el), $("#cd_menu_dd"));
            this.$i = new xs({
                model: this.model
            });
            this.XJ = new ys({});
            this.Nc = e;
            this.model.bind("change:currentTrack", o(this, this.Ly));
            this.model.bind("change:currentUser", o(this, this.Rh));
            this.model.bind("change:currentStation", o(this, this.Xs));
            this.model.bind("change:searchText", o(this, this.xb));
            this.model.bind("change:modalPanel", o(this, this.A));
            this.model.bind("change:forceRegistration", o(this, this.gg));
            this.model.bind("change:audioAdPlaying", o(this, this.xq));
            this.model.bind("change:videoAdPlaying", o(this, this.$y));
            this.model.bind("change:siteLocked", o(this, this.gg));
            this.model.bind("change:showingSearchResults", o(this, this.Wd));
            this.model.bind("change:hasStations", o(this, this.ge));
            this.model.bind("change:capped", o(this, this.ge));
            w.d(Kd, o(this, this.Ad));
            $.address.bind("change", o(this, this.Ni))
        },
        el: $("#playerBar").get(0),
        Ly: function () {
            var b = this.model.get("currentTrack");
            if (b != e) {
                $(".playerBarSong", this.el).text(b.pa).attr("href", b.xe);
                $(".playerBarArtist", this.el).text(b.ia()).attr("href", b.te);
                b.Kk ? $(".playerBarAlbum", this.el).text(b.Sa).removeAttr("href").css("text-decoration", "none") : $(".playerBarAlbum", this.el).text(b.Sa).attr("href", b.Fk);
                $(".info", this.el).toggle(!0);
                this.ho(b);
                $(".albumArt img", this.el).fadeOut("default", function () {
                    $(this).remove()
                });
                var c = $("#playerBarArtTmpl").tmpl(b.xa()),
                    c = $(c).hide().bind("imgpreload", function () {
                        b instanceof tj && $("#mainContent .home").is(":visible") ? $(this).fadeOut() : $(this).fadeIn()
                    });
                $(".albumArt", this.el).append(c);
                $(".albumArt", this.el).show();
                $(".rightcolumn .nowplaying", this.el).stop(!0, !0).fadeIn();
                $(".rightcolumn .nowplaying", this.el).show();
                (b instanceof tj || b.lc) && $(".info", this.el).fadeOut(200)
            } else $(".middlecolumn", this.el).fadeOut(), $(".rightcolumn .nowplaying", this.el).fadeOut()
        },
        Ni: function (b) {
            this.model.get("currentTrack") instanceof tj && (b.path == "/" ? ($(".albumArt img", this.el).hide(), $(".albumArt img", this.el).removeClass("backstage_ad_icon")) : ($(".albumArt img", this.el).show(), $(".albumArt img", this.el).addClass("backstage_ad_icon")))
        },
        ho: function (b) {
            b.ob == 1 ? this.$i.Nu() : b.ob == -1 ? this.$i.Mu() : this.$i.Lu()
        },
        Ad: function (b) {
            var c = b.track,
                b = b.stationId,
                d = this.model.get("currentTrack"),
                f = this.model.get("currentStation");
            d != e && c.h() == d.h() && f != e && f.get("stationId") == b && this.ho(c)
        },
        Xs: function () {
            var b = this.model.get("currentStation");
            b == e ? $(".middlecolumn", this.el).fadeOut() : ($(".middlecolumn", this.el).fadeIn(), b.get("transformType") == m.oa.mb() ? ($(".middlecolumn .thumbUpButton", this.el).addClass("disabledThumb"), $(".middlecolumn .thumbDownButton", this.el).addClass("disabledThumb")) : ($(".middlecolumn .thumbUpButton", this.el).removeClass("disabledThumb"), $(".middlecolumn .thumbDownButton", this.el).removeClass("disabledThumb")));
            $(".rightcolumn .nowplaying", this.el).fadeOut();
            this.ge()
        },
        xb: function () {
            var b = this.model.get("searchText");
            (b == e || b.length == 0) && !this.gb && $(".searchInput", this.el).val(za())
        },
        Rh: function () {
            this.ge()
        },
        A: function () {
            this.model.get("modalPanel") == "SONG_SLIDES" ? this.Fr() : this.xr();
            this.ge()
        },
        ge: function () {
            var b = this.model.get("modalPanel"),
                c = this.model.get("currentStation");
            this.model.get("currentTrack");
            this.model.get("capped") || b == "WELCOME_SEARCH" || b == ip || b == hp || b == "REGISTERED_PANEL" || c == e && _.include([fp, dp, ep, gp], b) ? ($("#playerBar").stop(!0, !0).fadeOut(), this.model.get("oldMainContainerBackgroundPosition") || this.model.set({
                oldMainContainerBackgroundPosition: $("#mainContainer").css("background-position")
            }), $("#mainContainer").css("background-position", "center 30px")) : (this.model.get("oldMainContainerBackgroundPosition") && ($("#mainContainer").css("background-position", this.model.get("oldMainContainerBackgroundPosition")), this.model.set({
                oldMainContainerBackgroundPosition: e
            })), $("#playerBar").stop(!0, !0).fadeIn(), $(".leftcolumn", this.el).fadeIn())
        },
        xq: function () {
            this.gg();
            this.model.get("audioAdPlaying") ? ($(".info", this.el).fadeOut(), this.M.disable()) : ($(".info", this.el).fadeIn(), this.M.enable())
        },
        $y: function () {
            this.gg();
            var b = this.model.get("videoAdPlaying");
            b != e ? ($(".info", this.el).fadeOut(), $(".albumArt img", this.el).hide(), this.M.disable(), b.X() || $(".middlecolumn .progress", this.el).hide()) : (this.M.enable(), $(".middlecolumn .progress", this.el).show())
        },
        gg: function () {
            this.model.get("siteLocked") || this.model.get("forceRegistration") || this.model.get("audioAdPlaying") || this.model.get("videoAdPlaying") ? ($(".disabled", this.el).css("opacity", 0.01).show(), ld() ? $(".columns", this.el).fadeTo(400, 0.6) : ($(".columns .leftcolumn", this.el).fadeTo(400, 0.6), $(".columns .middlecolumn", this.el).fadeTo(400, 0.6), this.model.get("audioAdPlaying") || $(".columns .rightcolumn", this.el).fadeTo(400, 0.6)), this.model.set({
                playerBarEnabled: !1
            })) : ($(".disabled", this.el).hide(), ld() ? $(".columns", this.el).fadeTo(400, 1) : ($(".columns .leftcolumn", this.el).fadeTo(400, 1), $(".columns .middlecolumn", this.el).fadeTo(400, 1), $(".columns .rightcolumn", this.el).fadeTo(400, 1)), this.model.set({
                playerBarEnabled: !0
            }))
        },
        Wd: function () {
            if (!this.model.get("showingSearchResults")) this.gb = !1, setTimeout(function () {
                $(".searchInput", this.el).blur()
            }, 1)
        },
        xr: function () {
            $(".searchInput", this.el).attr("disabled", "true");
            $(".searchInput", this.el).val("")
        },
        Fr: function () {
            $(".searchInput", this.el).removeAttr("disabled");
            $(".searchInput", this.el).val(za())
        },
        events: {
            "click .cd_icon": "albumArtClick",
            "click .searchBox": "searchBoxClick",
            "focus .searchInput": "searchInputFocus",
            "blur .searchInput": "searchInputBlur",
            "keyup .searchInput": "searchInputKeyup",
            "click .disabled": "handleAdPause",
            "click .playerBarSong": "songClick",
            "click .playerBarAlbum": "albumClick",
            "click .playerBarArtist": "artistClick"
        },
        handleAdPause: function () {
            this.model.get("audioAdPlaying") && (this.model.get("musicPlaying") ? w.b(Lf) : w.b(Jf))
        },
        songClick: function () {
            S($q, "song")
        },
        albumClick: function () {
            S($q, "album")
        },
        artistClick: function () {
            S($q, "artist")
        },
        searchBoxClick: function () {
            if (this.model.get("searchText")) return !1;
            else $(".searchInput", this.el).focus()
        },
        albumArtClick: function () {
            var b = this.model.get("currentTrack");
            b instanceof tj ? b.Lb && window.open(b.Lb) : S(op);
            return !1
        },
        searchInputFocus: function (b) {
            this.gb = !0;
            if (b.target.value == za()) b.target.value = "";
            $(b.target).addClass("focus");
            if (this.Nc == e) this.Nc = setTimeout(o(this, function () {
                this.model.set({
                    showingSearchResults: !0
                });
                this.Nc = e
            }), 100)
        },
        searchInputBlur: function (b) {
            this.yl();
            this.gb = !1;
            if (b.target.value == "") b.target.value = za();
            $(b.target).removeClass("focus")
        },
        searchInputKeyup: function (b) {
            this.yl();
            this.model.set({
                showingSearchResults: !0
            });
            S(np, b)
        },
        yl: function () {
            if (this.Nc) clearTimeout(this.Nc), this.Nc = e
        },
        Gg: function (b) {
            var c = Math.floor(b / 60),
                b = "0" + (b - c * 60);
            return c + ":" + b.substring(b.length - 2)
        }
    });

    function xs() {}
    xs = Backbone.View.extend({
        initialize: function () {
            this.model.bind("change:trackProgress", o(this, this.Sy));
            this.model.bind("change:musicPlaying", o(this, this.Oy));
            zs.push("/song/skip/")
        },
        el: $("#playbackControl").get(0),
        Sy: function () {
            var b = this.model.get("trackProgress"),
                c = b.totalTime,
                d = b.elapsedTime,
                b = b.percentPlayed;
            $(".elapsedTime", this.el).text(this.Gg(d));
            $(".remainingTime", this.el).text("-" + this.Gg(c > 0 ? c - d : 0));
            $(".progressMiddle", this.el).attr("width", Math.floor(230 * b / 100))
        },
        Oy: function () {
            this.model.get("musicPlaying") ? ($(".playButton", this.el).hide(), $(".pauseButton", this.el).show()) : ($(".pauseButton", this.el).hide(), $(".playButton", this.el).show())
        },
        Mu: function () {
            $(".thumbDownButton", this.el).addClass("indicator");
            $(".thumbUpButton", this.el).removeClass("indicator")
        },
        Nu: function () {
            $(".thumbUpButton", this.el).addClass("indicator");
            $(".thumbDownButton", this.el).removeClass("indicator")
        },
        Lu: function () {
            $(".thumbUpButton", this.el).removeClass("indicator");
            $(".thumbDownButton", this.el).removeClass("indicator")
        },
        events: {
            "click .playButton": "playButtonClick",
            "click .pauseButton": "pauseButtonClick",
            "click .skipButton": "skipButtonClick",
            "click .thumbDownButton": "thumbDownButtonClick",
            "click .thumbUpButton": "thumbUpButtonClick"
        },
        playButtonClick: function (b) {
            $(b.target).blur();
            w.b(Jf, {
                userInitiated: !0
            });
            r("link", {
                click: "playButton",
                source: "PlayBackView"
            }, this.model.get("currentUser"));
            return !1
        },
        pauseButtonClick: function (b) {
            $(b.target).blur();
            w.b(Lf);
            r("link", {
                click: "pauseButton",
                source: "PlayBackView"
            }, this.model.get("currentUser"));
            return !1
        },
        skipButtonClick: function (b) {
            $(b.target).blur();
            w.b(Mf);
            b = this.model.get("currentTrack");
            b != e && U("/song/skip/" + b.h(), !1, !0);
            return !1
        },
        thumbDownButtonClick: function (b) {
            $(b.target).blur();
            if ($(b.currentTarget).hasClass("disabledThumb")) return !1;
            b = this.model.get("currentTrack");
            b != e && (S(Wp, {
                isPositive: !1,
                musicId: b.h()
            }), r("thumb_click", {
                is_positive: "false",
                source: "PlayBackView"
            }, this.model.get("currentUser")));
            return !1
        },
        thumbUpButtonClick: function (b) {
            $(b.target).blur();
            if ($(b.currentTarget).hasClass("disabledThumb")) return !1;
            b = this.model.get("currentTrack");
            b != e && (S(Wp, {
                isPositive: !0,
                musicId: b.h()
            }), r("thumb_click", {
                is_positive: "true",
                source: "PlayBackView"
            }, this.model.get("currentUser")));
            return !1
        },
        Gg: function (b) {
            var c = Math.floor(b / 60),
                b = "0" + (b - c * 60);
            return c + ":" + b.substring(b.length - 2)
        }
    });

    function ys() {}
    ys = Backbone.View.extend({
        Xc: 35,
        Dk: 117,
        D: e,
        Nd: !1,
        lh: !1,
        initialize: function () {
            T($p, o(this, this.Aw));
            w.d(Tf, o(this, this.Jf));
            this.Jf(e);
            $(".volumeKnob", this.el).draggable({
                axis: "x",
                containment: $(".volumeBar", this.el),
                start: o(this, this.jh),
                stop: o(this, this.kh),
                drag: o(this, this.ih)
            });
            this.hash = W("/volume", !0, !1, !1, o(this, function (b) {
                b = Number(b.pathNames[1]);
                isNaN(b) || (this.Jf(b), this.fd(b))
            }))
        },
        fd: function (b) {
            this.jo(b);
            w.b(Tf, b)
        },
        Aw: function () {
            var b = Qi();
            B(Yh, !1);
            this.Jf(b);
            this.fd(b)
        },
        jh: function () {
            this.lh = !0
        },
        kh: function (b, c) {
            this.lh = !1;
            var d = this.Lh(c.position.left);
            this.fd(d);
            S(Lq);
            this.hash.update(String(d));
            this.Nd || this.Kj()
        },
        ih: function (b, c) {
            this.fd(this.Lh(c.position.left))
        },
        el: $("#playerBar .volumeControl").get(0),
        Jf: function (b) {
            b == e ? b = A(Yh) === !0 ? 0 : Qi() : b < 0 ? b = 0 : b > 100 && (b = 100);
            this.jo(b);
            b = this.Xc + (this.Dk - this.Xc) * (b / 100);
            $(".volumeKnob", this.el).css("left", b)
        },
        jo: function (b) {
            b <= 0 ? $(".volumeButton").addClass("muted") : $(".volumeButton").removeClass("muted")
        },
        Lh: function (b) {
            if (b == e) b = $(".volumeKnob", this.el).position().left;
            return Math.round((b - this.Xc) / (this.Dk - this.Xc) * 100)
        },
        Kj: function () {
            if (!this.lh) this.Mj(), this.D = setTimeout(o(this, function () {
                $(".volumeBackground", this.el).fadeOut(200)
            }), 1E3)
        },
        Mj: function () {
            if (this.D != e) clearTimeout(this.D), this.D = e
        },
        events: {
            "click .volumeBackground": "volumeBackgroundClick",
            "mouseenter .volumeButton": "volumeButtonMouseEnter",
            "mouseleave .volumeButton": "volumeButtonMouseLeave",
            "mouseenter .volumeBackground": "volumeBackgroundMouseEnter",
            "mouseleave .volumeBackground": "volumeBackgroundMouseLeave"
        },
        volumeBackgroundClick: function (b) {
            var b = b.pageX - $(".volumeBar", this.el).offset().left,
                c = $(".volumeKnob", this.el).width(),
                b = Math.max(c / 2, b),
                b = Math.min($(".volumeBar", this.el).width() - c / 2, b);
            b -= c / 2;
            $(".volumeKnob", this.el).css("left", this.Xc + b);
            b = this.Lh();
            this.fd(b);
            S(Lq);
            this.hash.update(String(b));
            return !1
        },
        volumeButtonMouseEnter: function () {
            this.Nd = !0;
            this.Mj();
            $(".volumeBackground", this.el).fadeIn(200);
            return !1
        },
        volumeButtonMouseLeave: function () {
            this.Nd = !1;
            this.Kj();
            return !1
        },
        volumeBackgroundMouseEnter: function () {
            this.Nd = !0;
            this.Mj();
            return !1
        },
        volumeBackgroundMouseLeave: function () {
            this.Nd = !1;
            this.Kj();
            return !1
        }
    });

    function As() {}
    As = Backbone.View.extend({
        initialize: function () {
            this.gb = !1;
            $(".searchInput", this.el).val(Aa());
            this.model.bind("change:searchText", o(this, this.xb));
            this.model.bind("change:modalPanel", o(this, this.A));
            this.model.bind("change:showingSearchResults", o(this, this.Wd));
            this.model.bind("change:currentUser", o(this, this.eo))
        },
        el: $("#welcomeSearch").get(0),
        xb: function () {
            var b = this.model.get("searchText");
            (b == e || b.length == 0) && !this.gb && $(".searchInput", this.el).val(Aa())
        },
        A: function () {
            var b = this.model.get("modalPanel");
            b == "WELCOME_SEARCH" || b == fp ? (this.eo(), $(this.el).css("visibility") == "hidden" && ($(this.el).hide(), $(this.el).css("visibility", "visible")), $(this.el).is(":visible") ? this.Zn(b) : $(this.el).stop(!0, !0).fadeIn(400, o(this, function () {
                this.Zn(b)
            }))) : $(this.el).stop(!0, !0).hide()
        },
        Zn: function (b) {
            b == fp && ($(".searchBox", $(this.el)).stop(!0, !0).hide(), $(".bottom", $(this.el)).stop(!0, !0).show(), $(".message.signin", $(this.el)).hide(), $(".message.register", $(this.el)).show())
        },
        eo: function () {
            var b = this.model.get("currentUser");
            Bs(this.model) ? this.model.set({
                modalPanel: fp
            }) : b == e || D(b) ? $(".bottom", this.el).show() : $(".bottom", this.el).hide()
        },
        Wd: function () {
            if (!this.model.get("showingSearchResults")) this.gb = !1, setTimeout(function () {
                $(".searchInput", this.el).blur()
            }, 1)
        },
        events: {
            "focus .searchInput": "searchInputFocus",
            "blur .searchInput": "searchInputBlur",
            "keyup .searchInput": "searchInputKeyup"
        },
        searchInputFocus: function (b) {
            this.gb = !0;
            if (b.target.value == Aa()) b.target.value = "";
            $(b.target).addClass("focus");
            this.model.set({
                showingSearchResults: !0
            })
        },
        searchInputBlur: function (b) {
            this.gb = !1;
            if (b.target.value == "") b.target.value = Aa();
            $(b.target).removeClass("focus")
        },
        searchInputKeyup: function (b) {
            S(np, b)
        }
    });

    function Cs() {}
    Cs = Backbone.View.extend({
        initialize: function () {
            this.dk = !1;
            this.model.get("searchResults").bind("refresh", o(this, this.Qy));
            this.model.bind("change:searchText", o(this, this.xb));
            this.model.bind("change:searchItemSelectedIndex", o(this, this.Lc));
            this.model.bind("change:showingSearchResults", o(this, this.Wd));
            this.model.bind("change:modalPanel", o(this, this.A));
            this.render()
        },
        xb: function () {
            var b = this.model.get("searchText");
            if (this.model.get("showingSearchResults")) {
                var c = $(".content", this.el);
                b == e || b.length == 0 ? (c.empty().append($("#searchPopupEmptyContent").tmpl(this.model.get("searchSuggestions"))), S(Uq)) : Cr(b) && c.empty().append($("#searchPopupIncompleteEmail").tmpl({
                    query: this.model.get("searchText")
                }))
            }
        },
        Lc: function () {
            $(".item", this.el).removeClass("selected");
            var b = this.model.get("searchItemSelectedIndex");
            if (b >= 0) {
                b >= $(".item", this.el).length && (b = $(".item", this.el).length - 1, this.model.set({
                    searchItemSelectedIndex: b
                }));
                $(".item", this.el).eq(b).addClass("selected");
                var b = ".items .scrollPoint.selected",
                    c = $(b, this.el);
                c.prev().hasClass("heading") && (b = ".items .scrollPoint:eq(" + (c.index() - 1) + ")");
                Ir($(".items", this.el), b)
            }
        },
        Wd: function () {
            this.model.get("showingSearchResults") ? (S(Sq), this.xb(), this.$n(), $(".searchPopupContainer", this.el).fadeIn("fast")) : (S(Tq), $(".searchPopupContainer", this.el).fadeOut("fast", o(this, function () {
                this.model.set({
                    searchText: ""
                });
                this.$n()
            })))
        },
        $n: function () {
            $(this.el).detach();
            $(this.dk ? "#searchPopupWelcomePosition" : "#searchPopupNavPosition").append(this.el)
        },
        A: function () {
            this.dk = this.model.get("modalPanel") == "WELCOME_SEARCH" ? !0 : !1
        },
        Qy: function (b) {
            var c = $(".content", this.el);
            c.empty();
            c.append('<div class="items scroll-pane vertical-only"></div>');
            if (b.length > 0) {
                var d = e;
                $.each(b.models, function (b, i) {
                    d != i.ja() && (d = i.ja(), d.length > 0 && $(".items", c).append($("#searchPopupHeading").tmpl(i.ja())));
                    $(".items", c).append($(i.$a()).tmpl(i))
                });
                c.append($("#searchPopupFooterTmpl").tmpl({
                    query: this.model.get("searchText")
                }));
                S(Uq);
                b = this.dk ? "#searchPopupWelcomePosition" : "#searchPopupNavPosition";
                b = $(window).height() - parseInt($(b).css("top"), 10) - 105;
                $(".items", this.el).css("max-height", b)
            } else c.append($("#searchPopupNoSearchResults").tmpl({
                query: this.model.get("searchText")
            })), S(Uq);
            setTimeout(o(this, function () {
                Fr($(".scroll-pane", this.el))
            }), 1);
            this.Lc()
        },
        render: function () {
            $(this.el).append($("#searchPopupTmpl").tmpl());
            return this
        },
        events: {
            "click .item": "searchResultItemClick",
            "click .profileName": "profileClick",
            "click .showAllResults": "performExtendedSearch",
            "click .browseGenres": "browseGenresClick",
            "mouseenter .item": "searchResultItemMouseEnter",
            "mouseleave .item": "searchResultItemMouseLeave"
        },
        searchResultItemClick: function (b) {
            if ($(b.currentTarget).data("search")) r("link", {
                click: "extendedSearchLink",
                source: "SearchPopupView"
            }, this.model.get("currentUser")), this.performExtendedSearch();
            else if ($(b.currentTarget).data("genres")) r("link", {
                click: "browseGenreLink",
                source: "SearchPopupView"
            }, this.model.get("currentUser")), this.browseGenresClick(), window.location = $("a", $(b.currentTarget)).attr("href");
            else {
                var c = $.tmplItem(b.currentTarget).data.get("musicId");
                c != e && ($(b.currentTarget).data("genre-suggest") ? c = "gs" + c : $(b.currentTarget).data("artist-suggest") ? c = "as" + c : $(b.currentTarget).data("facebook-suggest") && (c = "fv" + c), this.trigger("createStationRequest", c))
            }
            return !1
        },
        profileClick: function (b) {
            this.trigger("openProfilePageRequest", $.tmplItem(b.target).data.get("webName"))
        },
        performExtendedSearch: function () {
            this.trigger("extendedSearchRequest");
            return !1
        },
        browseGenresClick: function () {
            $(".searchPopupContainer", this.el).fadeOut("slow", o(this, function () {
                this.model.set({
                    showingSearchResults: !1
                });
                this.model.set({
                    searchText: ""
                })
            }))
        },
        searchResultItemMouseEnter: function (b) {
            this.model.set({
                searchItemSelectedIndex: $(".item", this.el).index(b.target)
            })
        },
        searchResultItemMouseLeave: function () {
            this.model.set({
                searchItemSelectedIndex: -1
            })
        }
    });

    function Ds() {}
    Ds = Backbone.View.extend({
        initialize: function () {
            this.model.bind("change:siteLocked", o(this, this.Hj));
            w.d(bf, o(this, this.Oh));
            T(lr, o(this, this.qm))
        },
        el: $("#mainContentContainer .contentnav").get(0),
        Hj: function () {
            this.model.get("siteLocked") ? $(".disabled", this.el).show() : $(".disabled", this.el).hide()
        },
        events: {
            "click .home": "homeClick",
            "click .myprofile": "profileClick",
            "click .friends": "friendsClick"
        },
        profileClick: function () {
            r("link", {
                click: "my_profile"
            }, this.model.get("currentUser"));
            var b = this.model.get("currentUser");
            b != e && gd(b.v) ? U("!/profile/activity/" + b.v, !0, !0) : U("!/profile", !0, !1);
            return !1
        },
        homeClick: function () {
            S(op);
            S(Nq);
            return !1
        },
        friendsClick: function () {
            r("link", {
                click: "music_feed"
            }, this.model.get("currentUser"));
            U("/feed", !0, !0);
            return !1
        },
        Oh: function (b) {
            b.NEW_SITE_FEED ? $(".friends", this.el).show() : this.qm()
        },
        qm: function () {
            $(".friends", this.el).hide();
            Es().indexOf("/feed") >= 0 && this.homeClick()
        }
    });

    function Fs() {}
    Fs = Backbone.View.extend({
        initialize: function () {
            this.hy = this.options.station_menu;
            T(zp, o(this, this.render));
            T(vq, o(this, this.Ry));
            T(op, o(this, this.hb));
            this.Ab = this.model.get("stationList");
            this.Ab.bind("refresh", o(this, this.render));
            this.Ab.bind("add", o(this, this.$e));
            this.Ab.bind("change", o(this, this.$e));
            this.Ab.bind("remove", o(this, this.render));
            this.model.bind("change:currentStation", o(this, this.Dm));
            this.model.bind("change:currentTrack", o(this, this.Cm));
            this.model.bind("change:currentShuffleType", o(this, this.bo));
            this.model.bind("change:currentStationViewIsShuffle", o(this, this.render));
            this.sr = W("/stations/delete", !0, !1, !0, o(this, this.Ol));
            this.rJ = W("/stations/remove", !0, !1, !0, o(this, this.Ol));
            $("#stationSortDate").click(o(this, this.ny));
            $("#stationSortAlpha").click(o(this, this.my))
        },
        el: $("#stationList").get(0),
        render: function () {
            var b = this.model.get("stationList").length > 2,
                c = this.model.get("currentStationViewIsShuffle");
            if (!b && c) this.model.set({
                currentStationViewIsShuffle: !1
            });
            else {
                b = !c ? "#stationTmpl" : "#stationShuffleTmpl";
                this.Ab.each(function (b) {
                    b.set({
                        canTransform: b.get("transformType") != m.oa.mb()
                    }, {
                        silent: !0
                    })
                });
                $(this.el).empty().append($(b).tmpl(this.Ab.toJSON()));
                this.Dm();
                this.bo();
                if (this.model.get("currentStationViewIsShuffle") && ($(".shuffleStationLabel").removeClass("shuffleStationLabelCurrent"), b = this.model.get("currentStation"), b != e && (b = b.attributes, b.isQuickMix && b.isCreator))) b = b.quickMixStationIds, b != e && (this.El(b), this.Cm());
                this.cd();
                this.Xj();
                return this
            }
        },
        bo: function () {
            var b = this.model.get("currentShuffleType");
            $("#shuffleTypeLabel", this.el).text(b == "my" ? "My Shuffle" : "Shuffle " + b + " stations")
        },
        hb: function () {
            setTimeout(o(this, function () {
                this.cd()
            }), 200)
        },
        Ry: function (b) {
            _.each($("stationNameText", this.el), o(this, function (c) {
                $.tmplItem(c).data.get("stationId") == b.get("stationId") && c.text(b.get("stationName"))
            }))
        },
        cd: function (b) {
            setTimeout(o(this, function () {
                Fr($(".stationListHolder"), "station_list");
                $(".stationListHolder .jspPane").css("padding-bottom", 0);
                b && b()
            }), 1)
        },
        $e: function () {
            this.render()
        },
        Dm: function () {
            $("#shufflePicker").fadeOut(1);
            var b = e,
                c = this.model.get("currentStation");
            c != e && (b = c.get("stationId"));
            $(".stationListItem", this.el).each(function () {
                $.tmplItem(this).data.stationId == b ? $(this).addClass("selected") : $(this).removeClass("selected")
            });
            this.cd(o(this, function () {
                var b = $("#stationList .stationListItem.selected");
                b && b.index() > 0 && Ir($(this.el), "#stationList .stationListItem.selected")
            }));
            this.hy.od()
        },
        scrollTo: function (b, c) {
            var d = $(".scroll-pane", this.el).data("jsp");
            d && d.scrollTo(b, c)
        },
        El: function (b) {
            $(".shuffleStation", this.el).removeAttr("checked");
            for (var c = 0; c < b.length; c++) $("#shuffleStation_" + b[c]).attr("checked", !0)
        },
        Cm: function () {
            $(".shuffleStationLabel").removeClass("shuffleStationLabelCurrent");
            var b = this.model.get("currentTrack");
            b != e && this.model.get("currentStationViewIsShuffle") && ($("#shuffleStationLabel_" + b.k()).addClass("shuffleStationLabelCurrent"), this.cd())
        },
        um: function (b) {
            this.El(b.quickMixStationIds)
        },
        Ol: function (b) {
            (b = b.pathNames[2]) ? this.Le(b) : (b = this.model.get("currentStation"), b != e && this.Le(b.get("stationId")));
            Gs()
        },
        Le: function (b) {
            S(Hp, b)
        },
        ny: function () {
            $("#stationSortDate").hasClass("selected") || (r("link", {
                click: "sortStationsDate",
                source: "StationListView"
            }, this.model.get("currentUser")), this.model.set({
                stationSortOrderAlpha: !1
            }), this.Xj())
        },
        my: function () {
            $("#stationSortAlpha").hasClass("selected") || (r("link", {
                click: "sortStationsAlpha",
                source: "StationListView"
            }, this.model.get("currentUser")), this.model.set({
                stationSortOrderAlpha: !0
            }), this.Xj())
        },
        Xj: function () {
            this.model.set({
                stationSortOrderAlpha: !x ? !1 : A(hi) === !0
            });
            this.model.get("stationSortOrderAlpha") ? ($("#stationSortDate").removeClass("selected"), $("#stationSortAlpha").addClass("selected")) : ($("#stationSortDate").addClass("selected"), $("#stationSortAlpha").removeClass("selected"))
        },
        events: {
            "click #shuffleButtonHoverArea": "shuffleButtonHoverArea_click",
            "mouseover #shuffleContainer": "shuffleContainer_mouseOver",
            "mouseout #shuffleContainer": "shuffleContainer_mouseOut",
            "click .stationListItem": "stationItemClick",
            "click .addVariety": "addVarietyClick",
            "click .deleteButton": "deleteButtonClicked"
        },
        deleteButtonClicked: function (b) {
            this.sr.update("/stations/delete/" + $.tmplItem(b.target).data.stationId);
            return !1
        },
        Gl: function () {
            if (this.fh) clearTimeout(this.fh), this.fh = e;
            $(".stationListItem .stationName ul", this.el).removeClass("deleteButton")
        },
        stationNameMouseEnter: function (b) {
            var c = $.tmplItem(b.target).data;
            if (c != this.Hf) this.Gl(), this.fh = setTimeout(o(this, function () {
                $("ul", b.target).addClass("deleteButton")
            }), 1E3), this.Hf = c
        },
        stationListMouseLeave: function () {
            this.Gl();
            this.Hf = e
        },
        stationItemClick: function (b) {
            setTimeout(o(this, function () {
                var c = [],
                    d = $.tmplItem(b.target).data;
                if (b.target.tagName.toLowerCase() == "input") {
                    var f = $(b.target);
                    f.attr("checked") ? f.removeAttr("checked") : f.attr("checked", !0);
                    $(".shuffleStation:checked", this.el).each(function (b, d) {
                        var f = d.id.indexOf("_");
                        c.push(d.id.substr(f + 1))
                    });
                    c.length > 0 ? d.isQuickMix && d.isCreator ? this.model.set({
                        currentStationViewIsShuffle: !1
                    }) : (this.model.set({
                        currentShuffleType: "my"
                    }), B(vi, c.join(",")), w.b(Rf, c)) : this.model.set({
                        currentStationViewIsShuffle: !1
                    })
                } else if ($(b.target).hasClass("stationNameText") || !this.model.get("currentStation").get("isQuickMix") || !this.model.get("currentStation").get("isCreator")) this.model.get("currentShuffleType") || this.model.set({
                    currentShuffleType: "all"
                }), w.b(Qf, d.stationId)
            }), 1);
            this.cd();
            return !1
        },
        shuffleContainer_mouseOver: function () {
            this.model.get("stationList").length > 2 && $("#shuffleButtonHoverArea", this.el).addClass("shuffleButtonHoverAreaHover")
        },
        shuffleContainer_mouseOut: function () {
            this.model.get("stationList").length > 2 && $("#shufflePicker:visible").length == 0 && $("#shuffleButtonHoverArea", this.el).removeClass("shuffleButtonHoverAreaHover")
        },
        shuffleButtonHoverArea_click: function () {
            this.model.get("stationList").length > 2 && S(sp);
            return !1
        },
        shuffleButtonHoverArea_mouseOut: function () {
            this.model.get("stationList").length > 2 && S(tp)
        },
        addVarietyClick: function () {
            this.trigger("addvariety");
            return !1
        }
    });

    function Hs() {}
    Hs = Backbone.View.extend({
        initialize: function () {
            T(tp, o(this, this.ii));
            T(sp, o(this, this.Ux));
            this.model.bind("change:currentStation", o(this, this.ii));
            this.model.bind("change:currentStationViewIsShuffle", o(this, this.ii));
            this.render()
        },
        el: $("#shufflePicker").get(0),
        render: function () {
            $(this.el).empty().append($("#shufflePickerTmpl").tmpl());
            $(this.el).hide();
            return this
        },
        ii: function () {
            clearTimeout(Hs.hideTimeout);
            Hs.hideTimeout = setTimeout(o(this, function () {
                $(this.el).fadeOut(100);
                setTimeout(function () {
                    $("#shuffleButtonHoverArea").removeClass("shuffleButtonHover")
                }, 120)
            }), 1E3)
        },
        Ux: function () {
            clearTimeout(Hs.hideTimeout);
            var b = this.Cs();
            $("#shufflePickerItemContainer", this.el).empty().append($("#shufflePickerItemTmpl").tmpl(b));
            $(this.el).fadeIn(100)
        },
        Cs: function () {
            for (var b = {}, c = [], d = this.model.get("stationList").select(function (b) {
                return !b.get("isQuickMix")
            }), f = 0; f < d.length; f++) {
                var i = d[f],
                    l = i.attributes.stationId,
                    i = i.attributes.genre;
                c.push(l);
                for (var q = 0; q < i.length; q++) {
                    var s = i[q],
                        u = b[s];
                    u == e && (u = [], b[s] = u);
                    u.push(l)
                }
            }
            f = cj();
            d = f == e || f.length == 0 ? c : f.split(",");
            f = this.model.get("currentShuffleType");
            c = [{
                genreName: "all",
                genreLabel: "Shuffle All",
                stationIdArray: c.join(","),
                selected: f == "all"
            }, {
                genreName: "my",
                genreLabel: "My Shuffle",
                stationIdArray: d.join(","),
                selected: f == "my"
            }];
            c.push({
                genreName: "line",
                genreLabel: e,
                stationIdArray: e,
                selected: !1
            });
            for (s in b) c.push({
                genreName: s,
                genreLabel: "Shuffle " + s + " stations",
                stationIdArray: b[s].join(","),
                selected: f == s
            });
            if (!this.model.get("currentStationViewIsShuffle")) for (f = 0; f < c.length; f++) c[f].selected = !1;
            return c
        },
        events: {
            "click .shufflePickerItem": "shufflePickerItemClick",
            "mouseover #shufflePickerContainer": "shufflePicker_mouseOver",
            "mouseout #shufflePickerContainer": "shufflePicker_mouseOut"
        },
        shufflePickerItemClick: function (b) {
            S(tp);
            var c = $(b.target).attr("stationIdArray");
            c && (c = c.split(","), this.model.set({
                currentShuffleType: "" + $(b.target).attr("genreName")
            }), w.b(Rf, c), this.model.get("currentStation").attributes.isQuickMix || (b = this.model.get("stationList").select(function (b) {
                return b.get("isQuickMix") && b.get("isCreator")
            })[0], w.b(Qf, b.attributes.stationId), this.model.set({
                currentStationViewIsShuffle: !0
            })))
        },
        shufflePicker_mouseOver: function () {
            clearTimeout(Hs.hideTimeout)
        },
        shufflePicker_mouseOut: function () {
            S(tp)
        }
    });

    function Is() {}
    Is = Backbone.View.extend({
        initialize: function () {
            this.WJ = new Js;
            this.Ke = e;
            this.model.bind("change:selectedTrack", o(this, this.pj))
        },
        el: $("#videoPageInfo").get(0),
        pj: function () {
            var b = this.model.get("selectedTrack"),
                c = this.model.get("currentUser");
            if (b != e && c != e && c.t()) if (b = b.nb, c = Ks[b], c != e) {
                this.Ke = b;
                $(".caption", this.el).text(c.Pp);
                $(".caption_header", this.el).text(c.Rp);
                $(".caption_footer", this.el).text(c.Qp);
                $("a", this.el).attr("href", c.aq);
                $("img", this.el).attr("src", c.Np);
                $(this.el).slideDown();
                r("video_bubble_display", {
                    arist_id: b
                }, this.model.get("currentUser"));
                return
            } else $(this.el).slideUp();
            $(this.el).hide();
            this.Ke = e
        },
        events: {
            "click a": "linkClicked"
        },
        linkClicked: function () {
            w.b(Lf);
            this.Ke != e && r("video_bubble_click", {
                arist_id: this.Ke
            }, this.model.get("currentUser"));
            return !0
        }
    });

    function Ls() {}
    Ls = Backbone.View.extend({
        initialize: function () {
            this.M = new us($(".menuButton", this.el), e, $("#track_menu_dd"));
            this.Jq = new Ms({
                buyButton: $(".buyButton", this.el),
                buyMenu: $("#buy_menu_dd"),
                cssBeforeOpen: function (b) {
                    var b = $(b.target),
                        c = b.offset(),
                        d = c ? c.top : 0;
                    return {
                        left: (c ? c.left : 0) - ($("#buy_menu_dd").width() - b.width()),
                        top: d + b.height()
                    }
                },
                model: this.model
            });
            this.model.bind("change:selectedTrack", o(this, this.pj));
            w.d(Kd, o(this, this.Ad));
            w.d(Eh, o(this, this.bc));
            w.d(Dh, o(this, this.ac))
        },
        el: $("#trackInfo").get(0),
        pj: function () {
            var b = this.model.get("selectedTrack");
            if (b && b instanceof tj) {
                var c = this.model.get("currentTrack") ? this.model.get("currentTrack").h() : e;
                b.h() == c ? this.Cn(!0) : this.hi(!0)
            } else b && b.lc ? this.hi(!0) : b != e && (this.Cn(!1), $(".songTitle", this.el).text(b.pa).attr("href", b.xe), $(".artistSummary", this.el).text(b.ia()).attr("href", b.te), b.Kk ? $(".albumTitle", this.el).text(b.Sa).removeAttr("href").css("text-decoration", "none") : $(".albumTitle", this.el).text(b.Sa).attr("href", b.Fk), this.Jq.Ex(b), b.Pk != e || b.Gk != e || b.Ek != e ? $(".buyButton", this.el).show() : $(".buyButton", this.el).hide(), this.fo(b));
            this.gc()
        },
        Ad: function (b) {
            var c = b.track,
                b = b.stationId,
                d = this.model.get("currentTrack"),
                f = this.model.get("currentStation");
            d != e && c.h() == d.h() && f != e && f.get("stationId") == b && this.fo(c)
        },
        fo: function (b) {
            b.ob == 1 ? ($("#thumbup", this.el).show(), $("#thumbdown", this.el).hide()) : b.ob == -1 ? ($("#thumbup", this.el).hide(), $("#thumbdown", this.el).show()) : ($("#thumbup", this.el).hide(), $("#thumbdown", this.el).hide())
        },
        Cn: function (b) {
            this.hi(b);
            b ? $(".audioAdInfo", this.el).show() : ($(".audioAdInfo", this.el).hide(), $("#audioAdDetail").hide())
        },
        hi: function (b) {
            b ? ($(".buttons", this.el).hide(), $(".info", this.el).hide()) : ($(".buttons", this.el).show(), $(".info", this.el).show())
        },
        gc: function () {
            if (!this.Ua) if (this.model.get("selectedTrack") != e) {
                if (!$(".contents", this.el).is(":visible")) this.Ua = !0, $(".contents", this.el).fadeIn(400, o(this, function () {
                    this.Ua = !1;
                    this.gc()
                }))
            } else if ($(".contents", this.el).is(":visible")) this.Ua = !0, $(".contents", this.el).fadeOut(200, o(this, function () {
                this.Ua = !1;
                this.gc()
            }))
        },
        bc: function (b) {
            b && b.r() == "ANIMATEDOVERLAY" && $(".contents", this.el).fadeOut(200)
        },
        ac: function (b) {
            b && b.r() == "ANIMATEDOVERLAY" && $(".contents", this.el).fadeIn(200)
        },
        events: {
            "click .menuButton": "menuButtonClick",
            "click .buyButton": "buyButtonClick",
            "click .shareButton": "shareButtonClick",
            "click .whyAdsButton": "whyAdsClick",
            "click .songTitle": "songTitleClick",
            "click .artistSummary": "artistSummaryClick",
            "click .albumTitle": "albumTitleClick"
        },
        whyAdsClick: function () {
            $("#audioAdDetail").toggle();
            return !1
        },
        shareButtonClick: function () {
            var b = this.model.get("currentUser");
            b == e || D(b) ? S(Xp) : (S(Dp, {
                mode: "station_and_song",
                station: this.model.get("currentStation"),
                track: this.model.get("selectedTrack")
            }), r("link", {
                click: "shareButton",
                source: "TrackInfoView"
            }, this.model.get("currentUser")));
            return !1
        },
        menuButtonClick: ea(!1),
        buyButtonClick: function () {
            r("link", {
                click: "buyButton",
                source: "TrackInfoView"
            }, this.model.get("currentUser"))
        },
        songTitleClick: function () {
            S($q, "song")
        },
        artistSummaryClick: function () {
            S($q, "artist")
        },
        albumTitleClick: function () {
            S($q, "album")
        }
    });

    function Ns() {}
    Ns = Backbone.View.extend({
        $o: 4,
        na: 300,
        initialize: function () {
            this.model.bind("change:selectedTrack", o(this, this.qj));
            this.model.bind("change:selectedArtist", o(this, this.vx));
            this.model.bind("change:narrative", o(this, this.Ic));
            this.model.bind("change:songNarrative", o(this, this.Ic));
            this.render()
        },
        el: $("#trackDetail").get(0),
        render: function () {
            $(this.el).append($("#trackDetailItemTmpl").tmpl({
                heading: fc(),
                className: "lyrics"
            }));
            $(this.el).append($("#trackDetailNoContentItemTmpl").tmpl({
                noContentText: gc(),
                className: "nolyrics"
            }));
            $(this.el).append($("#trackDetailItemTmpl").tmpl({
                heading: hc(),
                className: "artistBio"
            }));
            $(this.el).append($("#trackDetailItemTmpl").tmpl({
                heading: ic(),
                className: "relatedArtists"
            }));
            return this
        },
        qj: function () {
            var b = $(".lyrics .itemContent", this.el);
            b.empty();
            this.sb = this.model.get("selectedTrack");
            if (this.sb != e) {
                var c = this.sb.Bg;
                c != e && (c = c.replace(/\n/g, "<br>"), c = $("#lyricsContentTmpl").tmpl({
                    lyricSnippet: c
                }), b.empty().append(c))
            }
            $(".nolyrics", this.el).hide();
            $(".lyrics", this.el).hide();
            b = this.sb ? this.sb.nb : e;
            if (b != this.$u) this.$u = b, $(".artistBio .itemContent", this.el).prev().empty(), $(".artistBio .itemContent", this.el).empty(), $(".artistBio", this.el).hide(), $(".relatedArtists .itemContent", this.el).empty(), $(".relatedArtists .itemContent", this.el).prev().empty(), $(".relatedArtists", this.el).hide();
            this.gc();
            this.Ny()
        },
        gc: function () {
            if (!this.Ua) {
                var b = this.model.get("selectedTrack");
                if (b != e) {
                    if (b instanceof tj || b.lc ? $("#trackDetail").hide() : $("#trackDetail").show(), !$("#detailContainer").is(":visible")) this.Ua = !0, $("#detailContainer").fadeIn(400, o(this, function () {
                        this.Ua = !1;
                        this.gc()
                    }))
                } else if ($("#detailContainer").is(":visible")) this.Ua = !0, $("#detailContainer").fadeOut(200, o(this, function () {
                    $(".lyrics", this.el).css({
                        opacity: "hide",
                        height: "hide"
                    });
                    this.Ua = !1;
                    this.gc()
                }))
            }
        },
        df: function () {
            setTimeout(o(this, function () {
                $(".itemContent:visible", this.el).next(".divider").removeClass("last").last().addClass("last")
            }), 50)
        },
        Ny: function () {
            var b = this.model.get("selectedTrack");
            b != e && (b.Bg != e ? (this.Vb($(".nolyrics", this.el)), this.Nf($(".lyrics", this.el))) : (this.Vb($(".lyrics", this.el)), this.Px() ? this.Nf($(".nolyrics", this.el)) : this.Vb($(".nolyrics", this.el))), this.df())
        },
        vx: function () {
            var b = this.model.get("selectedArtist");
            if (b != e) {
                var c = b.Hk;
                c != e && c.length > 0 && this.sb && b.h() == this.sb.nb ? ($(".artistBio .itemContent", this.el).prev().text(hc() + " " + b.getName()), c = $("#artistBioContentTmpl").tmpl(b), $(".artistBio .itemContent", this.el).empty().append(c), this.Nf($(".artistBio", this.el)), this.df()) : this.Vb($(".artistBio", this.el));
                c = b.Zk;
                if (c.length > 0 && this.sb && b.h() == this.sb.nb) {
                    var d = $(".relatedArtists .itemContent", this.el);
                    d.empty();
                    var f = this.$o;
                    $.each(c, function (b, c) {
                        if (b == f) return !1;
                        var q = $("#relatedArtistItemTmpl").tmpl(c);
                        d.append(q)
                    });
                    this.Nf($(".relatedArtists", this.el));
                    this.df()
                } else this.Vb($(".relatedArtists", this.el));
                b = b.Vu() ? jc() : ic();
                $(".relatedArtists .itemContent", this.el).prev().text(b)
            } else this.Vb($(".artistBio", this.el)), this.Vb($(".relatedArtists", this.el));
            this.df()
        },
        Px: function () {
            var b = this.model.get("selectedTrack");
            if (b != e && b.yg != e) for (var c = 0; c < b.yg.length; c++) {
                var d = b.yg[c];
                if (d == "Classical" || d == "Jazz" || d == "Comedy") return !1
            }
            return !0
        },
        showFullLyrics: function (b) {
            var c = b.Lk,
                b = b.Uk,
                d = $(".lyrics", this.el).height();
            $(".lyrics", this.el).css({
                overflow: "hidden",
                "max-height": d
            });
            $(".lyrics", this.el).data("snippetHeight", d);
            $(".lyrics .lyricsText", this.el).empty().append(b);
            $(".lyrics .lyricsText", this.el).after($("#fullLyricsCreditsTmpl").tmpl(c));
            c = $(".lyrics .itemContent", this.el).height();
            $(".lyrics", this.el).animate({
                "max-height": c
            }, o(this, function () {
                $(".lyrics", this.el).css({
                    overflow: "",
                    "max-height": ""
                })
            }));
            $(".showLessLyrics", this.el).show()
        },
        Du: function () {
            var b = $(".lyrics", this.el).data("snippetHeight");
            $(".lyrics", this.el).animate({
                height: b
            }, o(this, function () {
                var b = this.model.get("selectedTrack");
                if (b != e) b = b.Bg, b = b != e ? b.replace(/\n/g, "<br>") : "", $(".lyrics .lyricsText", this.el).empty().append(b);
                $(".lyrics", this.el).css({
                    height: ""
                })
            }));
            $(".fullLyricsCredit", this.el).fadeOut(o(this, function () {
                $(".fullLyricsCredit", this.el).remove()
            }));
            $(".gracenote_copyright", this.el).fadeOut(o(this, function () {
                $(".gracenote_copyright", this.el).remove()
            }));
            $(".showLessLyrics", this.el).hide();
            $(".showMoreLyrics", this.el).show()
        },
        Ic: function () {
            this.model.get("narrative") == e && this.model.get("songNarrative") == e ? $(this.el).fadeIn() : $(this.el).fadeOut()
        },
        events: {
            "click .showMoreLyrics": "showMoreLyricsClick",
            "click .showLessLyrics": "showLessLyricsClick",
            "click .showFullBio": "showFullBioClick",
            "click .getRelatedArtist": "handleRelatedArtistClick"
        },
        showMoreLyricsClick: function () {
            var b = this.model.get("selectedTrack");
            b != e && this.trigger("getFullLyrics", cs(b));
            $(".showMoreLyrics", this.el).hide();
            S(Jq);
            r("link", {
                click: "showMoreLyrics",
                source: "TrackDetailView"
            }, this.model.get("currentUser"));
            return !1
        },
        showLessLyricsClick: function () {
            this.Du();
            S(Kq);
            r("link", {
                click: "showLessLyrics",
                source: "TrackDetailView"
            }, this.model.get("currentUser"));
            return !1
        },
        showFullBioClick: function () {
            S($q, "artist");
            r("link", {
                click: "showFullBio",
                source: "TrackDetailView"
            }, this.model.get("currentUser"))
        },
        handleRelatedArtistClick: function () {
            S($q, "artist");
            r("link", {
                click: "getRelatedArtist",
                source: "TrackDetailView"
            }, this.model.get("currentUser"))
        },
        Vb: function (b, c) {
            b.stop(!0, !0).animate({
                opacity: "hide",
                height: "hide"
            }, this.na, c)
        },
        Nf: function (b, c) {
            b.stop(!0, !0).animate({
                opacity: "show",
                height: "show"
            }, this.na, function () {
                ld() && b.css("filter", "none !important");
                c && c()
            })
        }
    });

    function Os() {}
    Os = Backbone.View.extend({
        xp: 250,
        ke: 7,
        Bo: $("#currentSlideArrow").height(),
        ap: 300,
        bp: 15,
        lp: 500,
        vk: 1E3,
        kk: 215,
        initialize: function () {
            this.ti = {};
            this.$f = e;
            this.La = this.selectedIndex = 0;
            this.Ii = e;
            this.Zd = !1;
            this.Sf = {};
            this.model.bind("change:currentTrack", o(this, this.He));
            w.d(He, o(this, this.Bl));
            this.model.bind("change:keyPressed", o(this, this.Dt));
            this.model.bind("change:currentContextualTip", o(this, this.Vs));
            w.d(rd, o(this, this.Qq));
            w.d(Kd, o(this, this.Ad));
            w.d(Xd, o(this, this.uy));
            w.d(Zd, o(this, this.$x));
            w.d(Lf, o(this, this.xy));
            w.d(Jf, o(this, this.yy));
            w.d(Tf, o(this, this.vf));
            w.d(zh, o(this, this.vh));
            w.d(Eh, o(this, this.bc));
            w.d(Dh, o(this, this.ac));
            T(lq, o(this, this.ky));
            T(pq, o(this, this.bu));
            T(mq, o(this, this.tm));
            T(nq, o(this, this.sm));
            T(op, o(this, this.Ci));
            T(xq, o(this, this.Vj));
            $("#track_menu_dd .newStationFromSong").click(o(this, this.Hi));
            $("#track_menu_dd .newStationFromArtist").click(o(this, this.Gi));
            $("#track_menu_dd .tiredOfSong").click(o(this, this.Sj));
            $("#track_menu_dd .whySelected").click(o(this, this.ez));
            $("#track_menu_dd .moveSong").click(o(this, this.Bi));
            zs.push("/song/sleep/");
            this.Ou();
            this.vf(Qi())
        },
        el: $(".slidesForeground").get(0),
        Ou: function () {
            this.Lm = this.o = aj();
            this.uc = e;
            this.qi = this.o;
            this.Vj();
            $("#trackInfo .slideDragHandle").draggable({
                axis: "y",
                containment: $(".slideDragLimit"),
                helper: "clone",
                start: o(this, this.jh),
                stop: o(this, this.kh),
                drag: o(this, this.ih)
            });
            $("#trackInfo .slideDragHandle").hover(function () {
                $("#trackInfo .slideDrag").addClass("hover")
            }, function () {
                $("#trackInfo .slideDrag").removeClass("hover")
            })
        },
        jh: function (b, c) {
            S(kq);
            this.Tl = c.offset.top - this.o;
            this.Dn();
            r("link", {
                click: "resizeAlbumArt",
                source: "AlbumSlidesView"
            }, this.model.get("currentUser"))
        },
        Dn: function () {
            this.uc != e && clearTimeout(this.uc);
            this.uc = setTimeout(o(this, function () {
                if (this.o != this.qi) this.o = this.qi, this.Vc();
                this.Dn()
            }), 1E3 / 60)
        },
        kh: function (b, c) {
            this.uc != e && clearTimeout(this.uc);
            this.uc = e;
            this.o = c.offset.top - this.Tl;
            this.Vj();
            B(qi, this.o)
        },
        ih: function (b, c) {
            this.qi = c.offset.top - this.Tl
        },
        bc: function (b) {
            this.Lm = this.o;
            if (b && b.r() == "ANIMATEDOVERLAY") {
                if (this.o != this.kk) this.o = this.kk, this.Vc();
                $(".slides", this.el).fadeOut(200)
            }
        },
        ac: function (b) {
            if (b && b.r() == "ANIMATEDOVERLAY") this.o = this.Lm, this.Vc(), $(".slides", this.el).fadeIn(200)
        },
        Vj: function () {
            this.Yk();
            this.al($(".stationSlides", this.el))
        },
        Vc: function () {
            this.Yk();
            var b = this.model.get("currentStation");
            b != e && (b = b.get("stationId"), this.al($("#stationSlides" + b)))
        },
        Yk: function () {
            $(".slides", this.el).height(this.o);
            var b = this.o + this.ke;
            $("#mainContentContainer .slidesBackground div").height(b);
            $(".slides", this.el).css("margin-top", -(b + this.Bo + 1));
            $("#currentSlideArrow").css("margin-right", Math.floor(this.o / 2) - this.ke)
        },
        al: function (b) {
            b.each(o(this, function (b, d) {
                $("img", d).attr({
                    width: this.o,
                    height: this.o
                });
                $(".slide", d).css({
                    width: this.o,
                    height: this.o
                });
                var f = this.o * 0.8;
                $(".pauseWatermark", d).css({
                    width: f,
                    height: this.o * 0.3,
                    right: this.o + Math.floor((this.o - f) / 2) + this.ke * 2
                });
                $(".muteWatermark", d).css({
                    width: f,
                    height: this.o * 0.3,
                    right: this.o + Math.floor((this.o - f) / 2) + this.ke * 2
                });
                this.Yd($(d))
            }))
        },
        pb: function () {
            var b = this.model.get("currentStation");
            return b != e ? $("#stationSlides" + b.get("stationId")) : e
        },
        He: function () {
            if (this.Zd) ad(this, this.He, 100);
            else {
                this.Xg();
                var b = this.model.get("currentTrack"),
                    c = this.model.get("currentStation");
                if (c != e && b != e) {
                    var d = c.get("stationId"),
                        f = this.ti[d];
                    if (f == e || f != b.h()) {
                        var f = $("#stationSlides" + d),
                            i = $(".slide", f).eq(1),
                            l = $(".slide", f).eq(0);
                        this.Sf[d] == e && (this.Sf[d] = 0);
                        l.data("track", b);
                        l.data("slideIndex", this.Sf[d]++);
                        var q = $("#songSlideTmpl").tmpl(this.o);
                        f.prepend(q);
                        this.ox(i);
                        $(".pauseWatermark", i).fadeOut();
                        $(".muteWatermark", i).fadeOut();
                        this.paused = !1;
                        this.muted && this.Aj();
                        var s = $(".art", l).attr("src", b.xa());
                        s && s.bind("imgpreload", function () {
                            $(this).fadeIn("fast").prev().hide()
                        });
                        $(".treatment.current", l).stop(!0, !0).fadeIn(400, function () {
                            $(this).show()
                        });
                        $(".treatment.previous", l).stop(!0, !0).fadeOut(400, function () {
                            $(this).hide()
                        });
                        i.length > 0 && ($(".treatment.current", i).stop(!0, !0).fadeOut(400, function () {
                            $(this).hide()
                        }), s = i.data("track"), c.get("advertisingKey"), s instanceof tj || this.wh(i, 400));
                        this.selectedIndex == 0 ? (q.animate({
                            width: this.o
                        }), this.Kf(b)) : (this.selectedIndex++, q.css({
                            width: this.o
                        }));
                        this.ti[d] = b.h();
                        this.Yd(f);
                        this.io(l, b)
                    }
                }
                this.he();
                this.selectedIndex == 0 ? this.Kf(b) : (b.X() && this.Ci(), this.Hl(), this.Ii = setTimeout(o(this, function () {
                    this.Ci()
                }), this.bp * 1E3))
            }
        },
        ox: function (b) {
            if (b.data("track") instanceof tj) {
                var c = this.model.get("currentStation");
                if (c && !c.get("advertisingKey")) this.model.get("displayingCompanion") ? (this.vh(), this.Ec = b) : (this.Ec = b, this.vh())
            }
        },
        vh: function () {
            var b = this.model.get("currentStation");
            if (this.Ec && !b.get("advertisingKey")) {
                var c = this.Ec.data("track");
                if (c != e) {
                    c.Lb = "";
                    c.Ra = "/img/ads/generictile.png";
                    var d = $(".art", this.Ec);
                    this.wh(this.Ec, 200, function () {
                        d.attr("src", c.xa())
                    })
                }
                this.Ec = e
            }
        },
        Kf: function (b) {
            var c = this.model.get("selectedTrack");
            (c == e || b == e || c.h() != b.h()) && this.model.set({
                selectedTrack: b
            })
        },
        Hl: function () {
            this.Ii != e && clearTimeout(this.Ii)
        },
        Bl: function () {
            this.Xg();
            var b = e,
                c = this.model.get("currentStation");
            c != e && (b = c.get("stationId"));
            if (b != this.w) this.selectedIndex = 0, this.gr(b), this.w != e ? (this.Yx(this.w, o(this, function () {
                this.w = e;
                this.Bl()
            })), this.Gu(), S($p)) : (this.w = b, this.Xx(b), this.he())
        },
        Qq: function () {
            $(".stationSlides", this.el).remove();
            this.w = e;
            this.ti = {};
            this.Sf = {};
            this.o = aj()
        },
        Ad: function (b) {
            var c = b.track,
                d = this;
            $("#stationSlides" + b.stationId).find(".slide").each(function () {
                d.io(this, c)
            })
        },
        io: function (b, c) {
            var d = $(b).data("track");
            this.model.get("currentStation").get("transformType") == m.oa.mb() ? ($(".thumbUp", b).addClass("thumbUpDis").empty(), $(".thumbDown", b).addClass("thumbDownDis").empty()) : d && d.h() == c.h() && ($(".thumbUp", b).removeClass("indicator"), $(".thumbDown", b).removeClass("indicator"), c.ob == 1 ? $(".thumbUp", b).addClass("indicator") : c.ob == -1 && $(".thumbDown", b).addClass("indicator"), $(b).data("track", c))
        },
        Yx: function (b, c) {
            if (b != e) {
                this.Zd = !0;
                var d = $("#stationSlides" + b);
                if (d.length > 0) {
                    var f = d.width(),
                        i = f - (this.hm() + this.im(d));
                    d.animate({
                        width: i
                    }, o(this, function () {
                        d.hide();
                        d.width(f);
                        this.Yd(d);
                        this.Zd = !1;
                        c()
                    }));
                    return
                }
            }
            c()
        },
        Xx: function (b) {
            if (b != e) {
                this.Zd = !0;
                $(".stationSlides", this.el).hide();
                b = $("#stationSlides" + b);
                this.Yd(b);
                var c = this.o * (this.Xe(b) + 3);
                b.css("left", c);
                b.show();
                b.animate({
                    left: -c
                }, o(this, function () {
                    this.Vc();
                    this.Zd = !1
                }))
            }
        },
        gr: function (b) {
            if (b != e) {
                var c = $("#stationSlides" + b);
                if (c.length == 0) {
                    var c = $("#stationSlidesTmpl").tmpl().appendTo($(".slides", this.el)),
                        d = $("#songSlideTmpl").tmpl(this.o);
                    d.width(this.o);
                    c.append(d);
                    this.Yd(c);
                    c.attr("id", "stationSlides" + b);
                    c.show()
                }
            }
        },
        Yd: function (b) {
            var c = b.css("display") != "none",
                d = this.Xe(b);
            b.width(this.hm() + this.o * (d + 4));
            c = this.o * (d + 3) * (c ? -1 : 1);
            d = this.jm(b);
            b.css({
                left: c,
                "padding-left": d
            })
        },
        hm: function () {
            return $("#mainContentContainer").width() - $(".stationContent").outerWidth()
        },
        Dt: function () {
            var b = this.model.get("keyPressed");
            if (b != e && b.target.tagName != "INPUT" && b.target.tagName != "TEXTAREA" && $("#mainContent .home").is(":visible")) if (b.which == 37) {
                this.hf(1);
                return
            } else if (b.which == 39) {
                this.hf(-1);
                return
            }
            this.Mh()
        },
        hf: function (b) {
            if (!this.Di) this.La = b, this.Ai = 0, this.hh()
        },
        moveTo: function (b) {
            this.Ai = this.La = 0;
            this.Fn(b)
        },
        Ci: function () {
            this.moveTo(0)
        },
        hh: function () {
            if (!this.Di) if (this.La != 0) this.Fn(this.selectedIndex + this.La);
            else {
                var b = this.pb(),
                    c = $(".slide", b).eq(this.selectedIndex + 1);
                if (c) $(".treatment.previous", c).stop(!0, !0).fadeOut(200, function () {
                    $(this).hide()
                }), this.Fi != e && clearTimeout(this.Fi), this.Fi = setTimeout(o(this, function () {
                    this.Fi = e;
                    this.Kf(c.data("track"))
                }), this.lp);
                this.he()
            }
        },
        Mh: function () {
            if (this.La != 0) this.La = 0, this.hh()
        },
        Fn: function (b) {
            var c = this.pb();
            if (c) if (b = Math.max(b, 0), b = Math.min(b, this.Xe(c) - 1), b != this.selectedIndex) {
                var d = $(".slide", c).eq(this.selectedIndex + 1);
                if (d) {
                    var f = this.model.get("currentStation"),
                        i = d.data("track"),
                        f = f.get("advertisingKey");
                    (!f || f && !(i instanceof tj)) && this.wh(d, 200)
                }
                this.Kf(e);
                this.Hl();
                this.selectedIndex = b;
                b = this.Ai == 0 ? "easeInQuad" : "linear";
                this.Di = !0;
                c.animate({
                    "padding-left": this.jm(c)
                }, this.ap, b, o(this, function () {
                    this.Di = !1;
                    this.La < 0 ? this.La-- : this.La > 0 && this.La++;
                    this.Ai++;
                    this.hh()
                }))
            } else this.Mh()
        },
        wh: function (b, c, d) {
            ld() ? $(".treatment.previous", b).stop(!0, !0).animate({
                opacity: 0.75
            }, c, function () {
                $(this).show();
                d && d()
            }) : $(".treatment.previous", b).stop(!0, !0).fadeIn(c, function () {
                $(this).show();
                d && d()
            })
        },
        Xe: function (b) {
            return b != e ? $(".slide", b).length - 1 : 0
        },
        jm: function (b) {
            return Math.max(0, this.im(b) * this.selectedIndex)
        },
        im: function (b) {
            return $(".slide", b).last().outerWidth(!0)
        },
        Hi: function () {
            if (this.Qb) {
                var b = this.Qb.data("track");
                b && w.b(ig, "mi" + b.h())
            }
            return !1
        },
        Gi: function () {
            if (this.Qb) {
                var b = this.Qb.data("track");
                b && w.b(ig, "mi" + b.nb)
            }
            return !1
        },
        Sj: function () {
            var b = this.Qb.data("track");
            b && w.b(zg, b);
            return !1
        },
        uy: function (b) {
            var c = this.model.get("currentTrack");
            (c = b != e && b.h() == c.h()) && w.b(Mf);
            (new X({
                message: zb()
            })).render();
            c && U("/song/sleep/" + b.h(), !1, !0)
        },
        ez: function () {
            var b = this.Qb.data("track");
            if (b) {
                var c = !0,
                    d = this.model.get("currentStation");
                d && d.get("isQuickMix") && !d.get("isCreator") && (c = !1);
                w.b(Ag, {
                    track: b,
                    allowActions: c
                })
            }
            return !1
        },
        Bi: function () {
            var b = this.Qb.data("track");
            new Ps({
                model: this.model,
                track: b
            });
            return !1
        },
        $x: function (b) {
            this.model.get("currentTrack");
            var c = b[2];
            if (b = this.pb()) {
                var d = this;
                $(".slide", b).each(function () {
                    var b = $(this).data("track");
                    if (b && b.h() == c.h()) return $(this).data("disableMenu", !0), d.ji($(this)), !1
                })
            }
        },
        vf: function (b) {
            b == 0 ? (this.muted = !0, this.Aj()) : (this.muted = !1, this.ef())
        },
        ef: function () {
            var b = this.pb(),
                b = $(".slide", b).eq(1);
            $(".muteWatermark", b).fadeOut()
        },
        Aj: function () {
            if (!this.paused) {
                var b = this.pb(),
                    b = $(".slide", b).eq(1);
                $(".muteWatermark", b).css("visibility", "visible").fadeIn();
                this.Vc()
            }
        },
        yy: function () {
            this.Am()
        },
        Am: function () {
            this.paused = !1;
            var b = this.pb(),
                b = $(".slide", b).eq(1);
            $(".pauseWatermark", b).fadeOut();
            this.muted && this.Aj()
        },
        Qx: function () {
            this.ef();
            this.paused = !0;
            var b = this.pb(),
                b = $(".slide", b).eq(1);
            $(".pauseWatermark", b).css("visibility", "visible").fadeIn();
            this.Vc()
        },
        xy: function () {
            this.Qx()
        },
        Gu: function () {
            this.Am();
            this.ef()
        },
        ky: function (b) {
            b && b.zc() && b.C() && b.zc().h() && w.b(Bg, [b.zc().k(), b.C().stationId, b.zc().h(), b.nr.get("stationId")])
        },
        sm: function () {
            var b = $(".slide", this.el);
            b.length == 1 ? this.xj($(b[0]), !0) : b.length > 1 && this.xj($(b[1]), !0)
        },
        Vs: function () {
            this.model.get("currentContextualTip") || $(".submenu").removeClass("submenu_force_visible")
        },
        bu: function () {
            this.tm();
            setTimeout(o(this, function () {
                $(".submenu").addClass("submenu_force_visible")
            }), 100)
        },
        tm: function () {
            this.sm();
            this.M.open()
        },
        he: function () {
            if (this.nl) {
                var b = $(".slides", this.el).height(),
                    c = $(".slides_right_scroll", this.el).height(),
                    b = Math.floor(b / 2) + c;
                $(".slides_right_scroll", this.el).css("margin-top", -1 * b);
                $(".slides_left_scroll", this.el).css("margin-top", -1 * b);
                this.selectedIndex > 0 ? $(".slides_right_scroll", this.el).stop(!0, !0).fadeIn(200) : $(".slides_right_scroll", this.el).stop(!0, !0).fadeOut(200);
                this.selectedIndex < this.Xe(this.pb()) - 1 ? $(".slides_left_scroll", this.el).stop(!0, !0).fadeIn(200) : $(".slides_left_scroll", this.el).stop(!0, !0).fadeOut(200)
            } else $(".slides_right_scroll", this.el).stop(!0, !0).delay(this.vk).fadeOut(200), $(".slides_left_scroll", this.el).stop(!0, !0).delay(this.vk).fadeOut(200)
        },
        events: {
            mouseover: "allSlidesMouseEnter",
            mouseout: "allSlidesMouseLeave",
            "mousedown .slides_right_scroll": "rightScrollDown",
            "mouseup .slides_right_scroll": "scrollMouseUp",
            "mousedown .slides_left_scroll": "leftScrollDown",
            "mouseup .slides_left_scroll": "scrollMouseUp",
            "mouseenter .slide": "slideMouseEnter",
            "mouseleave .slide": "slideMouseLeave",
            "click .slide": "slideClick",
            "click .thumbDown": "thumbDownClick",
            "click .thumbUp": "thumbUpClick",
            "click .pauseWatermark": "pauseWatermarkClick",
            "click .muteWatermark": "muteWatermarkClick"
        },
        pauseWatermarkClick: function () {
            w.b(Jf, {
                userInitiated: !0
            });
            return !1
        },
        muteWatermarkClick: function () {
            this.ef();
            S($p);
            S(Lq);
            return !1
        },
        allSlidesMouseEnter: function () {
            this.nl = !0;
            this.he()
        },
        allSlidesMouseLeave: function (b) {
            if (!(b.relatedTarget && $(b.relatedTarget).parents(".slidesForeground").length > 0)) this.nl = !1, this.he()
        },
        rightScrollDown: function () {
            S(Oq);
            this.hf(-1);
            return !1
        },
        leftScrollDown: function () {
            S(Oq);
            this.hf(1);
            return !1
        },
        scrollMouseUp: function () {
            this.Mh();
            return !1
        },
        slideMouseEnter: function (b) {
            if (!$("#track_menu_dd").is(":visible") || !this.M || this.M.Fe()) b = $(b.target).closest(".slide"), Pr(this.model).length == 0 ? $("#track_menu_dd .moveSong").hide() : $("#track_menu_dd .moveSong").show(), this.xj(b, !1), $(".previous", b).stop(!0, !0).animate({
                opacity: 0.5
            }, 200)
        },
        xj: function (b, c) {
            var d = b.data("track");
            if ((!d || !(d instanceof tj || d.lc)) && !b.data("disableMenu")) {
                if (this.pd != e && b != e) {
                    var d = this.pd.data("track"),
                        f = b.data("track");
                    d && f && d.h() == f.h() && this.M.unbind("close")
                }
                this.Xg();
                this.Vg();
                var i = b.find(".thumbContainer"),
                    d = o(this, function () {
                        i.fadeIn(200);
                        this.Vg();
                        this.wq(i)
                    });
                c ? d() : this.$f = setTimeout(d, this.xp)
            }
        },
        Xg: function () {
            this.M != e && Qs != e && this.M.close()
        },
        wq: function (b) {
            this.M == e ? this.M = new Rs(this.model, b) : Ss(this.M, $(".menuArrow", b));
            this.Qb = b.closest(".slide");
            var c = this.model.get("currentStation");
            c && c.get("isQuickMix") && !c.get("isCreator") ? ($("#track_menu_dd .moveSong").hide(), $("#track_menu_dd .tiredOfSong").hide()) : ($("#track_menu_dd .moveSong").show(), $("#track_menu_dd .tiredOfSong").show());
            var d = b.offset(),
                c = d ? d.top : 0,
                d = d ? d.left : 0;
            $("#track_menu_dd").css({
                top: c - $("#track_menu_dd").height(),
                left: d - $("#track_menu_dd").width() / 2 + b.width() / 2
            })
        },
        slideMouseLeave: function (b) {
            b = $(b.target).closest(".slide");
            this.M && Qs != e ? (this.pd = b, this.M.bind("close", o(this, this.ji))) : this.ji(b);
            $(".previous", b).stop(!0, !0).animate({
                opacity: ld() ? 0.75 : 1
            }, 200)
        },
        slideClick: function (b) {
            var c = !1,
                d = $(b.target).closest(".slide"),
                f = $(b.target).closest(".stationSlides"),
                b = d.data("track"),
                d = d.data("slideIndex");
            b && d >= 0 && (d = $(".slide", f).length - d - 2, b instanceof tj && (c = !0, b.Lb && window.open(b.Lb)), b && this.moveTo(d));
            c || S(Oq)
        },
        ji: function (b) {
            if (!b && this.pd) b = this.pd, this.pd = e;
            b && (b.find(".thumbContainer").fadeOut(200), this.Vg())
        },
        Vg: function () {
            if (this.$f != e) clearTimeout(this.$f), this.$f = e
        },
        thumbDownClick: function (b) {
            $(b.target).blur();
            var c = this.model.get("currentStation");
            if (c != e && c.get("transformType") == m.oa.mb()) return !1;
            b = $(b.target).closest(".slide").data("track");
            b != e && (S(Wp, {
                isPositive: !1,
                musicId: b.h()
            }), r("thumb_click", {
                is_positive: "false",
                source: "AlbumSlidesView"
            }, this.model.get("currentUser")));
            return !1
        },
        thumbUpClick: function (b) {
            $(b.target).blur();
            var c = this.model.get("currentStation");
            if (c != e && c.get("transformType") == m.oa.mb()) return !1;
            b = $(b.target).closest(".slide").data("track");
            b != e && (S(Wp, {
                isPositive: !0,
                musicId: b.h()
            }), r("thumb_click", {
                is_positive: "true",
                source: "AlbumSlidesView"
            }, this.model.get("currentUser")));
            return !1
        }
    });

    function Ts() {}
    Ts = Backbone.View.extend({
        initialize: function () {
            this.Qa = this.options.useLightbox;
            this.model.bind("change:forceRegistration", o(this, this.fe))
        },
        fe: function () {
            this.model.get("forceRegistration") ? $(".cancel", this.el).hide() : $(".cancel", this.el).show()
        },
        render: function () {
            if (this.Qa) {
                var b = Jr("registrationPanel", $("#registrationPopupHeaderTmpl").tmpl(), $("#registrationPopupContentTmpl").tmpl({
                    isPopup: !0
                }));
                $(this.el).append(b)
            } else b = $("#registrationWelcomeTmpl").tmpl(), $(this.el).append(b).hide().fadeIn(o(this, function () {
                $("input[name=email]", this.el).focus()
            }));
            this.fe();
            C._data.accountUsername != e && $("input[name=email]", this.el).val(C._data.accountUsername);
            $j() != e && $("input[name=birthYear]", this.el).val($j());
            C._data.accountZipcode != e && $("input[name=zipCode]", this.el).val(C._data.accountZipcode);
            C._data.accountGender != e && $("input[name=gender][value=" + C._data.accountGender + "]", this.el).attr("checked", "true");
            ak() && $("input[name=emailOptIn]", this.el).attr("checked", "true");
            return this
        },
        hideAndRemove: function () {
            this.Qa ? $(this.el).remove() : $(this.el).hide(o(this, function () {
                $(this.el).remove()
            }))
        },
        events: {
            "click label a": "infoLinkClick",
            "click label": "labelClick",
            "closed .lightbox": "cancelClick",
            "click .cancel": "cancelClick",
            "change input[name=gender]": "genderChange",
            "click .registerButton": "submitButtonClick",
            "submit .registrationForm": "registrationFormSubmit",
            "click .alreadyuserSignin": "gotoSigninForm"
        },
        gotoSigninForm: function () {
            S(Xp);
            return !1
        },
        labelClick: function (b) {
            $(b.target).prev("input[type=radio]").attr("checked", "true");
            $(b.target).prev("input[type=checkbox]").attr("checked", function (b, d) {
                d || $("input[name=gender]").not(this).attr("checked", !1);
                return !d
            });
            return !1
        },
        infoLinkClick: function (b) {
            $(b).preventDefault();
            return !1
        },
        cancelClick: function () {
            this.trigger("cancel");
            return !1
        },
        genderChange: function (b) {
            $(b.target).is(":checked") && $("input[name=gender]").not(b.target).attr("checked", !1)
        },
        registrationFormSubmit: ea(!1),
        submitButtonClick: function () {
            var b = $("input[name=email]", this.el).val(),
                c = $("input[name=password]", this.el).val(),
                d = $("input[name=birthYear]", this.el).val(),
                f = $("input[name=zipCode]", this.el).val(),
                i = $("input[name=gender]:checked").val(),
                l = $("input[name=emailOptIn]", this.el).is(":checked"),
                q = $("input[name=agreeTermsOfUse]", this.el).is(":checked");
            $(".formFieldError", this.el).hide();
            var s = !1;
            if (rr(d)) {
                if (!sr(d)) return this.trigger("tooyoung"), !1
            } else $(".birthYearFieldError", this.el).text(la()).fadeIn(), s = !0;
            pr(b) || ($(".emailFieldError", this.el).text(ga()).fadeIn(), s = !0);
            qr(c) || ($(".passwordFieldError", this.el).text(ia()).fadeIn(), s = !0);
            tr(f) || ($(".zipCodeFieldError", this.el).text(na()).fadeIn(), s = !0);
            ur(i) || ($(".genderFieldError", this.el).text(pa()).fadeIn(), s = !0);
            q || ($(".agreeTermsOfUseFieldError", this.el).text(oa()).fadeIn(), s = !0);
            s || this.trigger("submit", {
                username: b,
                password: c,
                birthYear: Number(d),
                zipCode: f,
                emailOptIn: l,
                gender: i
            });
            return !1
        },
        serverError: function (b) {
            $(".serverFieldError", this.el).text(b).fadeIn()
        }
    });

    function Us() {}
    Us = Backbone.View.extend({
        render: function () {
            $(this.el).append($("#tooYoungTmpl").tmpl()).hide().fadeIn();
            return this
        },
        hideAndRemove: function () {
            $(this.el).fadeOut(o(this, function () {
                $(this.el).remove()
            }))
        }
    });

    function Vs() {}
    Vs = Backbone.View.extend({
        initialize: function () {
            this.Qa = this.options.useLightbox;
            this.model.bind("change:forceRegistration", o(this, this.fe));
            this.model.bind("change:poisoned", o(this, this.ao))
        },
        fe: function () {
            this.model.get("forceRegistration") ? $(".cancel", this.el).parent().hide() : $(".cancel", this.el).parent().show()
        },
        ao: function () {
            this.model.get("poisoned") ? $(".register", this.el).parent().hide() : $(".register", this.el).parent().show()
        },
        render: function () {
            var b = $("#loginFormTmpl").tmpl({
                showCancel: A(Wh) !== !0 && !this.Qa
            });
            if (this.Qa) {
                var c = Jr("loginPanel", $("#loginPopupHeaderTmpl").tmpl(), $("#loginPopupContentTmpl").tmpl());
                $(".lightbox_content", c).addClass("welcome");
                $(".signinContainer", c).append(b);
                $(this.el).append(c)
            } else $(this.el).append(b);
            this.fe();
            this.ao();
            return this
        },
        hideAndRemove: function () {
            this.Qa ? $(this.el).remove() : (this.model.get("modalPanel") == fp ? ($("#welcomeSearch .searchBox").hide(), $("#welcomeSearch .message.signin").fadeOut(), $("#welcomeSearch .message.register").fadeIn()) : ($("#welcomeSearch .searchBox").slideDown(), $("#welcomeSearch .message.signin").fadeIn(), $("#welcomeSearch .message.register").fadeOut()), $(this.el).slideUp(400, o(this, function () {
                $(this.el).remove()
            })))
        },
        events: {
            "closed .lightbox": "cancelClick",
            "click .cancel": "cancelClick",
            "click .loginButton": "submitButtonClick",
            "click .register": "registerClick",
            "click .help": "helpClick",
            "submit .loginForm": "loginFormSubmit",
            "click .fieldLabel": "labelClick",
            "focus input": "updateInlineLabels",
            "blur input": "updateInlineLabels",
            "keyup input": "handleKeyUp",
            "change input": "updateInlineLabels"
        },
        cancelClick: function () {
            this.trigger("cancel");
            return !1
        },
        loginFormSubmit: ea(!1),
        labelClick: function (b) {
            $(b.target).siblings("input").focus()
        },
        handleKeyUp: function (b) {
            if (b.keyCode == 13 && ld()) return this.submitButtonClick(), !1;
            this.updateInlineLabels(b)
        },
        updateInlineLabels: function (b) {
            b.target.value.length > 0 ? $(b.target).parent().addClass("hasValue") : $(b.target).parent().removeClass("hasValue")
        },
        submitButtonClick: function () {
            var b = $("input[name=email]", this.el).val(),
                c = $("input[name=password]", this.el).val(),
                d = $("input[name=email]", this.el).attr("data-default-value"),
                f = $("input[name=password]", this.el).attr("data-default-value");
            $(".formFieldError", this.el).hide();
            var i = !1;
            if (b == e || b.length == 0 || b == d) $(".emailFieldError", this.el).text(qa()).fadeIn(), i = !0;
            if (c == e || c.length == 0 || c == f) $(".passwordFieldError", this.el).text(ra()).fadeIn(), i = !0;
            i || this.trigger("submit", {
                username: b,
                password: c
            });
            return !1
        },
        registerClick: function () {
            S(Yp);
            return !1
        },
        helpClick: function () {
            return this.Qa ? (S(Zp), !1) : !0
        },
        serverError: function () {
            $(".serverFieldError", this.el).fadeIn()
        }
    });

    function Ws() {}
    Ws = Backbone.View.extend({
        initialize: function () {
            this.Qa = this.options.useLightbox
        },
        render: function () {
            if (this.Qa) {
                var b = Jr("forgotPasswordPanel", $("#forgotPasswordPopupHeaderTmpl").tmpl(), $("#forgotPasswordPopupContentTmpl").tmpl());
                $(this.el).append(b)
            } else b = $("#forgotPasswordWelcomeTmpl").tmpl(), $(this.el).append(b).hide().fadeIn(o(this, function () {
                $("input[name=email]", this.el).focus()
            }));
            return this
        },
        hideAndRemove: function () {
            this.Qa ? $(this.el).remove() : $(this.el).fadeOut(o(this, function () {
                $(this.el).remove()
            }))
        },
        events: {
            "closed .lightbox": "cancelClick",
            "click .cancel": "cancelClick",
            "click .emailMeButton": "submitButtonClick",
            "submit .forgotForm": "forgotPasswordFormSubmit"
        },
        cancelClick: function () {
            this.trigger("cancel");
            return !1
        },
        forgotPasswordFormSubmit: ea(!1),
        submitButtonClick: function () {
            var b = $("input[name=email]", this.el).val();
            $(".formFieldError", this.el).hide();
            var c = !1;
            b.length == 0 && ($(".emailFieldError", this.el).text(qa()).fadeIn(), c = !0);
            c || this.trigger("submit", b);
            return !1
        },
        serverError: function (b) {
            $(".serverFieldError", this.el).text(b).fadeIn()
        }
    });

    function Xs() {}
    Xs = Backbone.View.extend({
        initialize: g(),
        render: function () {
            var b = $("#resetPasswordWelcomeTmpl").tmpl();
            $(this.el).append(b).hide().fadeIn(o(this, function () {
                $("input[name=new_password]", this.el).focus()
            }));
            return this
        },
        hideAndRemove: function () {
            $(this.el).fadeOut(o(this, function () {
                $(this.el).remove()
            }))
        },
        events: {
            "click .change_password": "submitButtonClick",
            "submit .resetForm": "resetPasswordFormSubmit"
        },
        resetPasswordFormSubmit: ea(!1),
        submitButtonClick: function () {
            var b = $("input[name=new_password]", this.el).val(),
                c = $("input[name=reenter_password]", this.el).val();
            $(".formFieldError", this.el).hide();
            var d = !1;
            qr(b) || ($(".newPasswordFieldError", this.el).text(ia()).fadeIn(), d = !0);
            b != c && ($(".reenterPasswordFieldError", this.el).text(va()).fadeIn(), d = !0);
            d || this.trigger("submit", b);
            return !1
        },
        serverError: function (b) {
            $(".serverFieldError", this.el).text(b).fadeIn()
        }
    });

    function Ys() {}
    Ys = Backbone.View.extend({
        na: 300,
        initialize: function () {
            this.model.bind("change:narrative", o(this, this.Ic));
            this.render()
        },
        el: $("#narrativeDetail").get(0),
        render: function () {
            var b = $("#trackDetailItemTmpl").tmpl({
                heading: "Narrative",
                className: "narrative clearfix"
            });
            $(".close1", b).css("visibility", "visible");
            $(this.el).append(b);
            return this
        },
        Ic: function () {
            var b = this.model.get("narrative");
            b != e ? ($("#narrativeDetail").css({
                display: "inline-block"
            }), $(".narrative", this.el).animate({
                opacity: "hide",
                height: "hide"
            }, this.na, o(this, function () {
                $(".narrative .heading", this.el).text(b.stationName);
                var c = $(this.ns(b.type)).tmpl(b);
                $(".narrative .itemContent", this.el).empty().append(c);
                $(".narrative", this.el).animate({
                    opacity: "show",
                    height: "show"
                }, this.na)
            }))) : $(".narrative", this.el).is(":visible") ? $(".narrative", this.el).animate({
                opacity: "hide",
                height: "hide"
            }, this.na) : $("#narrativeDetail").css({
                display: "none"
            })
        },
        ns: function (b) {
            switch (b) {
            case "addVariety":
                return "#addVarietyNarrativeTmpl";
            default:
                return "#newStationNarrativeContentTmpl"
            }
        },
        events: {
            "click .deleteStation": "deleteStationClick",
            "click .close1": "closeClick",
            "click .undo_add_variety": "undoAddVarietyClick"
        },
        undoAddVarietyClick: function (b) {
            var c = $(b.target).attr("data-stationid"),
                b = $(b.target).data("musicid");
            r("add_variety", {
                action: "delete",
                source: "NarrativeView",
                station_id: c,
                variety_id: b
            }, this.model.get("currentUser"));
            w.b(fh, {
                stationID: c,
                musicID: b
            });
            $(".narrative", this.el).animate({
                opacity: "hide",
                height: "hide"
            }, this.na);
            return !1
        },
        deleteStationClick: function (b) {
            b = $.tmplItem(b.target).data.stationId;
            S(Hp, b);
            return !1
        },
        closeClick: function () {
            this.trigger("close");
            return !1
        }
    });

    function Zs() {}
    Zs = Backbone.View.extend({
        na: 300,
        initialize: function () {
            this.model.bind("change:songNarrative", o(this, this.Jj));
            this.render()
        },
        el: $("#songNarrativeDetail").get(0),
        render: function () {
            var b = $("#trackDetailItemTmpl").tmpl({
                heading: "Why this track?",
                className: "song_narrative clearfix"
            });
            $(".close1", b).css("visibility", "visible");
            $(this.el).append(b);
            return this
        },
        Jj: function () {
            var b = this.model.get("songNarrative");
            b != e ? $(".song_narrative", this.el).animate({
                opacity: "hide",
                height: "hide"
            }, this.na, o(this, function () {
                $("#songNarrativeDetail").css({
                    display: "inline-block"
                });
                var c = b.track,
                    c = $("#songNarrativeContentTmpl").tmpl({
                        narrative: b.narrative,
                        songDetailUrl: c.xe,
                        songTitle: c.pa,
                        artistDetailUrl: c.te,
                        artistSummary: c.ia(),
                        allowActions: b.allowActions
                    });
                $(".song_narrative .itemContent", this.el).empty().append(c);
                $(".song_narrative", this.el).animate({
                    opacity: "show",
                    height: "show"
                }, this.na)
            })) : $(".song_narrative", this.el).is(":visible") ? $(".song_narrative", this.el).animate({
                opacity: "hide",
                height: "hide"
            }, this.na) : $("#songNarrativeDetail").css({
                display: "none"
            })
        },
        events: {
            "click .tired": "tiredClick",
            "click .moveSong": "moveSongClick",
            "click .close1": "closeClick"
        },
        tiredClick: function () {
            var b = this.model.get("songNarrative");
            b != e && w.b(zg, b.track);
            return !1
        },
        moveSongClick: function () {
            var b = this.model.get("songNarrative");
            b != e && new Ps({
                model: this.model,
                track: b.track
            });
            return !1
        },
        closeClick: function () {
            this.trigger("close");
            return !1
        }
    });
    for (N = I[12]; N != -1;) switch (N) {
    case 34:
        F[1014] = 601487829;
        N = I[50];
        break;
    case 17:
        F[493] = 806681864;
        N = I[32];
        break;
    case 5:
        F[106] = 1775366455;
        N = I[34];
        break;
    case 0:
        F[163] = 334548079;
        N = I[37];
        break;
    case 24:
        F[642] = -2070269953;
        N = I[3];
        break;
    case 4:
        N = I[16];
        break;
    case 44:
        N = I[9];
        break;
    case 7:
        F[613] = -520420569;
        N = I[8];
        break;
    case 2:
        F[368] = 1389199953;
        N = I[30];
        break;
    case 27:
        F[802] = 3201284446;
        N = I[39];
        break;
    case 26:
        F[567] = 172488474;
        N = I[40];
        break;
    case 40:
        F[939] = 1304523215;
        N = I[42];
        break;
    case 49:
        F[905] = -495825839;
        N = I[6];
        break;
    case 15:
        N = I[41];
        break;
    case 47:
        F[316] = 1825585071;
        N = I[2];
        break;
    case 13:
        N = I[35];
        break;
    case 31:
        F[370] = 881388889;
        N = I[19];
        break;
    case 39:
        F[633] = -639279888;
        N = I[24];
        break;
    case 22:
        N = I[1];
        break;
    case 45:
        N = I[25];
        break;
    case 33:
        F[50] = -1541233823;
        N = I[14];
        break;
    case 9:
        N = I[21];
        break;
    case 38:
        F[154] = -312461517;
        N = I[46];
        break;
    case 23:
        N = I[45];
        break;
    case 8:
        F[802] = 912021419;
        N = I[28];
        break;
    case 14:
        N = I[48];
        break;
    case 21:
        F[487] = -745148976;
        N = I[49];
        break;
    case 16:
        N = I[44];
        break;
    case 41:
        F[771] = -1792780666;
        N = I[11];
        break;
    case 1:
        F[352] = 1104147103;
        N = I[36];
        break;
    case 36:
        N = I[4];
        break;
    case 29:
        F[273] = 2141246715;
        N = I[7];
        break;
    case 43:
        F[864] = -472950228;
        N = I[27];
        break;
    case 19:
        F[325] = 1007456447;
        N = I[15];
        break;
    case 37:
        F[34] = -429337790;
        N = I[18];
        break;
    case 20:
        F[994] = 983083871;
        N = I[23];
        break;
    case 35:
        F[617] = -1356528523;
        N = I[47];
        break;
    case 46:
        N = I[38];
        break;
    case 11:
        F[558] = -2140401621;
        N = I[43];
        break;
    case 42:
        F[516] = -1020866887;
        N = I[26];
        break;
    case 28:
        F[695] = 1076541385;
        N = I[22];
        break;
    case 6:
        F[333] = 560468902;
        N = I[31];
        break;
    case 12:
        F[49] = -1859646072;
        N = I[13];
        break;
    case 25:
        N = I[10];
        break;
    case 30:
        N = I[0];
        break;
    case 48:
        F[344] = -579788416;
        N = I[17];
        break;
    case 3:
        F[528] = 563589190;
        N = I[20];
        break;
    case 18:
        N = I[33];
        break;
    case 10:
        N = I[29];
        break;
    case 32:
        N = I[5]
    };

    function $s(b, c) {
        this.er = b;
        this.el = $($("#tooltipTmpl").tmpl(c));
        this.ca = e;
        $(b).prepend(this.el).hover(o(this, this.Zb), o(this, this.$b))
    }
    h = $s.prototype;
    h.Zb = function () {
        this.ra();
        this.ca = setTimeout(o(this, function () {
            this.ra();
            this.show()
        }), 50);
        return !1
    };
    h.$b = function () {
        this.ra();
        this.hide();
        return !1
    };
    h.ra = function () {
        if (this.ca != e) clearTimeout(this.ca), this.ca = e
    };
    h.show = function () {
        this.position();
        $(this.el).hide();
        $(this.el).css("visibility", "visible");
        $(this.el).fadeIn(200)
    };
    h.hide = function () {
        $(this.el).fadeOut(200, o(this, function () {
            $(this.el).css("visibility", "hidden");
            $(this.el).show()
        }))
    };
    h.position = function () {
        var b = -1 * this.el.height(),
            c = Math.round((this.er.width() - this.el.width()) / 2);
        this.el.css({
            "margin-top": b,
            "margin-left": c
        })
    };

    function us(b, c, d) {
        this.R = d;
        this.Pi = e;
        us.prototype.Ui = e;
        if (b != e) this.sa = b, b.click(o(this, o(this, function (b) {
            this.Pi && this.Pi(b);
            this.open();
            us.prototype.Ui = b
        }))), b.mouseout(o(this, this.Oc));
        if (c) this.Ia = c, c.mouseover(o(this, this.open)), c.mouseout(o(this, this.Oc));
        this.R.mouseover(o(this, this.Tg));
        this.R.mouseout(o(this, this.Oc));
        _.extend(this, Backbone.Events);
        $("a", this.R).click(o(this, this.jv));
        T(mp, o(this, function (b) {
            (us.prototype.Ui == e || b.target != us.prototype.Ui.target) && this.close()
        }))
    }
    var at = e,
        Qs = e;

    function Ss(b, c) {
        if (b.sa != e) b.sa.unbind("click"), b.sa.unbind("mouseout"), b.sa = e;
        if (b.Ia != e) b.Ia.unbind("mouseover"), b.Ia.unbind("mouseout"), b.Ia = e;
        if (c != e) b.sa = c, c.click(o(b, b.open)), c.mouseout(o(b, b.Oc))
    }
    h = us.prototype;
    h.open = function () {
        this.Tg();
        this.close();
        this.R.show();
        this.R.css("visibility", "visible");
        Qs = this.R;
        return !1
    };
    h.Oc = function () {
        this.Tg();
        at = setTimeout(o(this, this.close), 300);
        return !0
    };
    h.Tg = function () {
        at && (clearTimeout(at), at = e);
        return !1
    };
    h.jv = function () {
        S(jq);
        this.close()
    };
    h.Fe = ea(!0);
    h.close = function () {
        Qs != e && this.Fe() && (Qs && (Qs.css("visibility", "hidden"), Qs.hide(), Qs = e, this.trigger("close")), this.R.css("visibility", "hidden"), this.R.hide())
    };
    h.enable = function () {
        this.sa != e && (this.sa.click(o(this, this.open)), this.sa.mouseout(o(this, this.Oc)));
        this.Ia != e && (this.Ia.mouseover(o(this, this.open)), this.Ia.mouseout(o(this, this.Oc)))
    };
    h.disable = function () {
        this.sa != e && (this.sa.unbind("click"), this.sa.unbind("mouseout"));
        this.Ia != e && (this.Ia.unbind("mouseover"), this.Ia.unbind("mouseout"))
    };

    function bt(b) {
        this.model = b;
        us.call(this, e, e, $("#station_menu_dd"));
        $("#station_menu_dd .shareStation").bind("click", o(this, function () {
            S(Dp, {
                mode: "station_and_song",
                station: this.model.get("currentStation"),
                track: this.model.get("selectedTrack")
            });
            r("link", {
                click: "shareButton",
                source: "StationDropDownMenuView"
            }, this.model.get("currentUser"));
            return !1
        }))
    }
    yc(bt, us);
    bt.prototype.open = function () {
        var b = this.model.get("currentUser"),
            b = b == e || D(b),
            c = this.model.get("currentStation"),
            d = this.model.get("selectedTrack");
        d == e || d instanceof tj || d.lc || b || c && c.get("isQuickMix") ? $("#station_menu_dd .shareStation").hide() : $("#station_menu_dd .shareStation").show();
        c = (b = $("#stationList .stationListItem.selected .optionsItem").offset()) ? b.left : 0;
        this.R.css({
            top: (b ? b.top : 0) - $("#station_menu_dd").height(),
            left: c
        });
        return bt.oy.open.call(this)
    };
    bt.prototype.Fe = function () {
        return this.model.get("currentContextualTip") == e
    };
    bt.prototype.od = function () {
        var b = this.model.get("currentStation");
        b && (b.get("transformType") == m.oa.mb() || b.get("isQuickMix") ? ($("#station_menu_dd .renameStation").hide(), b.get("isQuickMix") && ($("#station_menu_dd .findFans").hide(), $("#station_menu_dd .editStation").hide(), $("#station_menu_dd .shareStation").hide())) : ($("#station_menu_dd .renameStation").show(), $("#station_menu_dd .findFans").show(), $("#station_menu_dd .editStation").show(), $("#station_menu_dd .shareStation").show()), $("#station_menu_dd a.findFans").attr("href", "#/content/fansofStation/" + (b.get("isCreator") ? b.get("stationId") : b.get("originalStationId"))));
        Ss(this, $("#stationList .stationListItem.selected .optionsItem"))
    };

    function Rs(b, c) {
        this.model = b;
        us.call(this, $(".menuArrow", c), e, $("#track_menu_dd"))
    }
    yc(Rs, us);
    Rs.prototype.Fe = function () {
        return this.model.get("currentContextualTip") == e
    };

    function ws(b, c, d) {
        this.model = b;
        $("#cd_menu_dd .newStationFromSong").click(o(this, this.Hi));
        $("#cd_menu_dd .newStationFromArtist").click(o(this, this.Gi));
        $("#cd_menu_dd .tiredOfSong").click(o(this, this.Sj));
        $("#cd_menu_dd .moveSong").click(o(this, this.Bi));
        this.model.bind("change:currentTrack", o(this, this.He));
        us.call(this, c, e, d)
    }
    yc(ws, us);
    h = ws.prototype;
    h.He = function () {
        var b = this.model.get("currentStation");
        b && b.get("isQuickMix") && !b.get("isCreator") ? ($("#cd_menu_dd .tiredOfSong").hide(), $("#cd_menu_dd .moveSong").hide()) : ($("#cd_menu_dd .tiredOfSong").show(), $("#cd_menu_dd .moveSong").show())
    };
    h.Hi = function () {
        var b = this.model.get("currentTrack");
        b && w.b(ig, "mi" + b.h());
        return !1
    };
    h.Gi = function () {
        var b = this.model.get("currentTrack");
        b && w.b(ig, "mi" + b.nb);
        return !1
    };
    h.Sj = function () {
        var b = this.model.get("currentTrack");
        b && w.b(zg, b);
        return !1
    };
    h.Bi = function () {
        var b = this.model.get("currentTrack");
        new Ps({
            model: this.model,
            track: b
        });
        return !1
    };

    function ct() {}
    ct = Backbone.View.extend({
        initialize: function () {
            this.i = this.options.station;
            this.Rc = 0;
            this.context = this.options.context;
            this.title = this.options.title || Ub();
            this.description = this.options.description || Vb();
            this.Oj = this.options.text || Tb();
            this.vn = new os;
            this.Bq = this.options.autoCompleteParams;
            this.ba = -1;
            var b = this.i.get("initialSeed");
            b && b.musicId ? (w.d($d, o(this, function (b) {
                ct.prototype.ce = b;
                this.render()
            })), w.b(Cg, {
                stationId: this.i.get("stationId"),
                musicId: b.musicId
            })) : (ct.prototype.ce = e, this.render());
            T(mp, o(this, this.S))
        },
        render: function () {
            this.Aa = (new Date).getTime();
            var b = Jr("addVarietyPopup", $("#addVarietyHeaderTmpl").tmpl({
                title: this.title
            }), $("#addVarietyContentTmpl").tmpl({
                descriptionText: this.description,
                textDefault: this.Oj
            }), $("#addVarietyFooterTmpl").tmpl());
            $(this.el).append(b);
            this.jj();
            $("body").append(this.el);
            b = 1;
            $("form.searchInputForm", this.el).bind("submit", ea(!1));
            ld() && ($(".searchInput", this.el).css("filter", "none !important"), b = 500);
            var c = this;
            setTimeout(function () {
                $(".searchInput", c.el).focus()
            }, b);
            S(Yq);
            return this
        },
        S: function (b) {
            this.el && (new Date).getTime() - this.Aa > dt && ($(b.target) == this.el || $(b.target).closest(".lightbox_bg").length > 0 || $(b.target).closest(".suggestion_nextPrev").length > 0 || this.B(e, e))
        },
        re: 3,
        jj: function () {
            if (ct.prototype.ce != e && ct.prototype.ce.length > 0) {
                var b = ct.prototype.ce.slice(this.Rc, this.Rc + this.re);
                $(".suggestions", this.el).empty().append($("#addVarietySuggestionTmpl").tmpl({
                    suggestions: b,
                    lessLink: this.Rc > 0,
                    moreLink: this.Rc + this.re < ct.prototype.ce.length
                }))
            }
        },
        events: {
            "focus .searchInput": "searchInputFocus",
            "blur .searchInput": "searchInputBlur",
            "keyup .searchInput": "searchInputKeyup",
            "closed .lightbox": "cancelClick",
            "click .lessVarietySuggestionLink": "lessSuggestionsClick",
            "click .moreVarietySuggestionLink": "moreSuggestionsClick",
            "click .searchResultVarietyArtist": "searchResultArtistClick",
            "click .searchResultVarietySong": "searchResultSongClick",
            "click .searchResultsContent .item": "autoCompleteClick",
            "click .addVarietyPopup": "popupClick"
        },
        popupClick: function (b) {
            if ($(b.target).parents(".searchResultsBorder").length > 0 || $(b.target).hasClass("searchInput")) return !0;
            this.ff()
        },
        autoCompleteClick: function (b) {
            this.Zm(b.target)
        },
        Zm: function (b) {
            var b = $.tmplItem(b).data,
                c = b.get("musicId");
            b.get("songTitle") ? this.B(new Sj(this.i, c, b.get("songTitle") + " by " + b.get("artistSummary"), this.context), "songAutoComplete") : this.B(new Sj(this.i, c, b.get("artistName"), this.context), "artistAutoComplete")
        },
        searchResultArtistClick: function (b) {
            b = $.tmplItem(b.target).data;
            this.B(new Sj(this.i, b.musicId, b.artistName, this.context), "suggestedArtist");
            return !1
        },
        searchResultSongClick: function (b) {
            b = $.tmplItem(b.target).data;
            this.B(new Sj(this.i, b.musicId, b.songTitle + " by " + b.artistSummary, this.context), "suggestedSong");
            return !1
        },
        lessSuggestionsClick: function () {
            $(".lessVarietySuggestionLink").hasClass("inactiveLink") || (this.Rc -= this.re, this.jj());
            return !1
        },
        moreSuggestionsClick: function () {
            $(".moreVarietySuggestionLink").hasClass("inactiveLink") || (this.Rc += this.re, this.jj());
            return !1
        },
        searchInputFocus: function (b) {
            if (b.target.value == this.Oj) b.target.value = "";
            $(b.target).addClass("focus");
            b = $(".searchInput", this.el).val();
            b != e && b.length > 0 && this.Pn()
        },
        searchInputBlur: function (b) {
            if (b.target.value == "") b.target.value = this.Oj;
            $(b.target).removeClass("focus")
        },
        ff: function () {
            this.Gj && $(".searchResults", this.el).fadeOut("fast", o(this, function () {
                this.Gj = !1
            }))
        },
        Pn: function (b) {
            this.Gj ? b && b() : (b ? $(".searchResults", this.el).fadeIn("fast", b) : $(".searchResults", this.el).fadeIn("fast"), this.Gj = !0)
        },
        Lc: function () {
            $(".item", this.el).removeClass("selected");
            if (this.ba >= 0) {
                $(".item", this.el).eq(this.ba).addClass("selected");
                var b = ".searchResultsScroller .scrollPoint.selected",
                    c = $(b, this.el);
                c.prev().hasClass("heading") && (b = ".searchResultsScroller .scrollPoint:eq(" + (c.index() - 1) + ")");
                Ir($(".searchResultsScroller", this.el), b)
            }
        },
        searchInputKeyup: function (b) {
            $(".error", this.el).fadeOut();
            var c = $(".searchInput", this.el).val();
            if (b.which == 40) {
                this.ba >= 0 ? this.ba++ : this.ba = 0;
                if (this.ba >= $(".item", this.el).length) this.ba = $(".item", this.el).length - 1;
                this.Lc()
            } else b.which == 38 ? this.ba >= 0 && (this.ba--, this.Lc()) : b.which == 27 ? ($(".searchInput", this.el).val(""), this.ff()) : b.which == 13 ? (b = !0, this.ba >= 0 && this.ba < $(".item", this.el).length && $(".searchResults", this.el).is(":visible") && (b = !1, this.Zm($(".item", this.el).eq(this.ba))), b && $(".error", this.el).text(ec([c])).fadeIn()) : c && c.length > 0 ? (c = $.extend({
                sendquery: "no",
                q: c
            }, this.Bq), $.get("/autocomplete", c).success(o(this, function (b) {
                this.ba = 0;
                var c = wr(b, !0);
                c.length > 0 ? this.Pn(o(this, function () {
                    this.vn.refresh(c);
                    var b = $(".searchResults .searchResultsContent", this.el);
                    b.empty();
                    var d = e;
                    $.each(this.vn.models, function (c, f) {
                        d != f.ja() && (d = f.ja(), b.append($("#searchPopupHeading").tmpl(f.ja())));
                        b.append($(f.$a()).tmpl(f))
                    });
                    this.ml();
                    this.Lc()
                })) : this.ff()
            }))) : this.ff()
        },
        cancelClick: function () {
            this.B(e, e);
            return !1
        },
        B: function (b, c) {
            w.Pa(this);
            $(this.el).remove();
            this.el = e;
            b && (r("add_variety", {
                action: "add",
                station_id: this.i.get("stationId"),
                add_variety_type: c,
                variety_id: b.h()
            }, this.model.get("currentUser")), S(uq, b));
            this.context == e && Gs();
            S(Zq)
        },
        Yl: function (b) {
            $(".searchInput", this.el).blur();
            $(".searchResults", this.el).hide();
            w.b(Dg, b)
        },
        handleSearchResults: function (b) {
            $(".searchResults", this.el).show();
            $(".searchResults .searchResultsContent", this.el).empty().append($("#addVarietySearchResultTmpl").tmpl({
                results: b
            }));
            this.ml()
        },
        ml: function () {
            setTimeout(o(this, function () {
                Fr($(".scroll-pane", this.el))
            }), 1)
        }
    });

    function X() {}
    X = Backbone.View.extend({
        yo: 1E4,
        initialize: function () {
            this.message = this.options.message;
            this.Mw = this.options.persist;
            this.Fy = this.options.undo;
            this.reload = this.options.reload;
            this.px = this.options.retry;
            this.context = this.options.context;
            T(mp, o(this, this.S))
        },
        className: "toastContainer",
        render: function () {
            for (this.Aa = (new Date).getTime(); X.Sc.length > 0;) X.Sc.pop().close(e, !1);
            $(this.el).append($("#toastTmpl").tmpl(this.message));
            $("body").append($(this.el));
            this.Fy || $(".toastItemUndoContainer", this.el).remove();
            this.reload || $(".toastItemReloadContainer", this.el).remove();
            this.px || $(".toastItemRetryContainer", this.el).remove();
            $(this.el).css("top", -$(this.el).height());
            $(this.el).animate({
                top: 0
            });
            this.closed = !1;
            this.Mw || setTimeout(o(this, this.close), this.yo);
            X.Sc.push(this);
            return this
        },
        events: {
            "click .toastItemClose": "close",
            "click .toastItemUndo": "undoClicked",
            "click .toastItemReload": "reloadClicked",
            "click .toastItemRetry": "retryClicked"
        },
        close: function (b, c) {
            if (!this.closed) {
                for (var d = 0; d < X.Sc.length; d++) if (X.Sc[d] == this) {
                    X.Sc.splice(d, 1);
                    break
                }
                et(this);
                this.closed = !0;
                $(this.el).animate({
                    top: -$(this.el).height()
                }, o(this, function () {
                    c || this.trigger("close");
                    this.remove()
                }))
            }
        },
        undoClicked: function () {
            this.trigger("undo");
            this.close(e, !0);
            return !1
        },
        reloadClicked: function () {
            this.trigger("reload");
            this.close(e, !0);
            return !1
        },
        retryClicked: function () {
            this.trigger("retry");
            this.close(e, !0);
            return !1
        },
        getContext: ca("context"),
        S: function (b) {
            this.el && (new Date).getTime() - this.Aa > dt && ($(b.target) == this.el || $(b.target).closest(".lightbox_bg").length > 0 || this.close(e))
        }
    });
    X.Sc = [];

    function ft() {}
    ft = Backbone.View.extend({
        rp: 1E3,
        initialize: function () {
            w.d(Ce, o(this, this.Ms));
            w.d(De, o(this, this.Ls));
            $(this.el).empty().append($("#spinnerTmpl").tmpl());
            $("body").append(this.el);
            this.Tf = 0;
            this.Ej = !1
        },
        className: "spinnerContainer",
        Ms: function (b) {
            if (this.Tm(b)) this.Tf++, clearTimeout(this.timeout), this.timeout = setTimeout(o(this, function () {
                this.Vx(b)
            }), this.rp)
        },
        Vx: function () {
            var b = $("#playerBar"),
                c = !b.is(":visible") || $("#splash").is(":visible");
            c ? ($("#nav_spinner").hide(), $("#splash_spinner").show(), $(this.el).Al({
                vertical: !1
            }), $(this.el).css({
                "z-index": $("#splash_spinner").css("z-index"),
                top: "320px"
            })) : ($("#nav_spinner").show(), $("#splash_spinner").hide(), $(this.el).css("z-index", $("#nav_spinner").css("z-index")), $(this.el).Al());
            c || $(this.el).css("top", b.height() + b.offset().top - 7 + "px");
            if (!this.Ej) $(this.el).hide().css("visibility", "visible").fadeIn("fast"), this.Ej = !0
        },
        Tm: function (b) {
            if (b) {
                if (typeof b == "string" && b.indexOf("/static/promo") > -1) return !1
            } else return !1;
            return !0
        },
        Ls: function (b) {
            if (this.Tm(b) && (this.Tf--, this.Tf < 1)) this.Ej = !1, clearTimeout(this.timeout), $(this.el).fadeOut("fast"), this.Tf = 0
        }
    });

    function gt() {}
    gt = Backbone.View.extend({
        pp: 2E3,
        Pb: e,
        ek: [{
            name: "halloween",
            message: "Get set for Halloween with our spooky new stations",
            href: "#",
            action: function () {
                Pandora.launchGenrePanel("Halloween")
            },
            containerClass: "halloween"
        }, {
            name: "gift_msg1",
            message: "Introducing Pandora One Gift Subscriptions. The perfect gift for anyone who loves music.",
            pc: "/static/ribbon/holiday_bg.png"
        }, {
            name: "gift_msg2",
            message: "Give Pandora One as a gift: no ads, unlimited listening + much more",
            pc: "/static/ribbon/holiday_bg.png"
        }, {
            name: "gift_msg3",
            message: "Looking for a gift idea? Give a Pandora One Gift Subscription",
            pc: "/static/ribbon/holiday_bg.png"
        }, {
            name: "gift_msg4",
            message: "Give the gift of music: Pandora One Gift Subscriptions",
            pc: "/static/ribbon/holiday_bg.png"
        }, {
            name: "gift_msg5",
            message: "A Pandora One Gift Subscription is the perfect last-minute gift",
            pc: "/static/ribbon/holiday2_bg.png"
        }, {
            name: "holiday_msg1",
            message: "Get into the holiday spirit. Find a holiday station.",
            href: "#",
            action: function () {
                Pandora.launchGenrePanel("Holiday")
            },
            pc: "/static/ribbon/holiday_bg.png"
        }, {
            name: "topstations_msg1",
            message: "Listen to stations that play the most popular tracks from 2010.",
            href: "#",
            action: function () {
                Pandora.launchGenrePanel("Themed")
            },
            pc: "/static/ribbon/2010_bg.png"
        }],
        initialize: function () {
            this.model.bind("change:blueBarMessage", o(this, this.Qs))
        },
        events: {
            "click .fb_close": "fbCloseClick",
            "click .fb_no_thanks": "fbNoThanksClick",
            "click .capping_no_thanks": "cappingNoThanksClick",
            "click .capping_more_info": "cappingMoreInfoClick",
            "click .account_message_close": "accountMessageCloseClick",
            "click .account_message_learnmore": "accountMessageLearnMoreClick",
            "click .renew_more_info": "renewMoreInfoClick",
            "click .renewal_no_thanks": "renewalNoThanksClick"
        },
        el: $("#pandoraRibbonContainer").get(0),
        Qs: function () {
            var b = this.model.get("blueBarMessage");
            this.zl();
            b == e ? this.Bu() : this.Cj = setTimeout(o(this, function () {
                b.r() == 3 ? this.Mx(b.Ll) : b.r() == 0 ? this.Tx(b.Ll, b.mi) : b.r() == 2 ? this.vj(b.mv) : b.r() == 1 && this.Ox(b.Xr, b.sy)
            }), this.pp)
        },
        Tx: function (b, c) {
            $("#pandora_bar_day_count").text(b == 0 ? "today" : "in " + b + (b > 1 ? " days" : " day"));
            c ? ($(".pandora_bar_message").css("left", "1px"), $("#pandora_bar_desc").text("Gift Subscription")) : ($(".pandora_bar_message").css("left", "10px"), $("#pandora_bar_desc").text("subscription"));
            this.Pf($("#renewalRibbon"))
        },
        Mx: function (b) {
            $("#currentListeningHours").text(b);
            $("#cappingRibbon").is(":visible") || this.Pf($("#cappingRibbon"))
        },
        Ox: function (b, c) {
            $("#fbRibbonName").html(b);
            $("#fbRibbonImage").attr("src", c);
            this.Pf($("#facebookRibbon"))
        },
        uI: function (b) {
            return "/services/adClicked.jsp?ad=bluebar_" + b + "&forward=" + escape("/p1_gift/gift_about.vm?ref=bluebar_" + b)
        },
        vj: function (b) {
            $("#pandoraAccountMessageOuterWrapper").css("background", "");
            this.Pb = this.ds(b);
            if (this.Pb != e) b = this.Pb, $(".account_message", this.el).text(b.message), b.bg != e && $("#pandoraAccountMessageOuterWrapper").css("background", "url('" + b.bg + "') no-repeat"), b.containerClass != e && $("#pandoraRibbonContainer").addClass(b.containerClass), this.Pf($("#accountMessageRibbon"))
        },
        ds: function (b) {
            for (var c = 0; c < this.ek.length; c++) {
                var d = this.ek[c];
                if (d.name == b) return d
            }
            return e
        },
        Pf: function (b) {
            $(".ribbon", this.el).hide();
            b.show();
            $(this.el).is(":visible") || ($(".ribbonContent", this.el).css("position", "fixed").show(), this.Ln(!0))
        },
        Ln: function (b) {
            $(this.el).show();
            if ($(".ribbonContent").innerHeight() > 0) {
                var c = $(".ribbonContent").innerHeight() - 2;
                this.model.set({
                    pageShifting: !0
                });
                b = $("#mainContainer,#topnav,#searchPopupNavPosition,#ad_frame").animate({
                    top: (b ? "+=" : "-=") + c + "px"
                }, 1E3);
                $.when(b).done(o(this, function () {
                    this.model.set({
                        pageShifting: !1
                    })
                }))
            }
        },
        Bu: function () {
            this.zl();
            $(".ribbonContent", this.el).css("position", "relative");
            $(window).scrollTop(0);
            this.Ln(!1);
            $(this.el).slideUp(1E3);
            this.Pb = e
        },
        zl: function () {
            if (this.Cj) clearTimeout(this.Cj), this.Cj = e
        },
        accountMessageLearnMoreClick: function (b) {
            b.target.blur();
            this.Pb != e && this.Pb.action && this.Pb.action();
            this.model.set({
                blueBarMessage: e
            });
            return !1
        },
        accountMessageCloseClick: function (b) {
            b.target.blur();
            this.model.set({
                blueBarMessage: e
            });
            return !1
        },
        fbCloseClick: function (b) {
            b.target.blur();
            this.model.set({
                blueBarMessage: e
            });
            return !1
        },
        fbNoThanksClick: function (b) {
            b.target.blur();
            this.model.set({
                blueBarMessage: e
            });
            return !1
        },
        cappingMoreInfoClick: function () {
            S(Ip);
            return !1
        },
        cappingNoThanksClick: function () {
            this.model.set({
                blueBarMessage: e
            });
            return !1
        },
        renewMoreInfoClick: function () {
            S(Kp);
            return !1
        },
        renewalNoThanksClick: function () {
            this.model.set({
                blueBarMessage: e
            });
            B(ri, !0);
            return !1
        }
    });

    function ht() {}
    ht = Backbone.View.extend({
        initialize: function () {
            this.model.bind("change:currentUser", o(this, this.mo));
            this.model.bind("change:modalPanel", o(this, this.A))
        },
        el: $("#footer"),
        mo: function () {
            var b = this.model.get("currentUser");
            b == e || D(b) ? ($("#anonNavFooter").show(), $("#registeredNavFooter").hide()) : ($("#anonNavFooter").hide(), $("#registeredNavFooter").show())
        },
        A: function () {
            this.model.get("modalPanel") == ep || this.model.get("modalPanel") == "REGISTERED_PANEL" ? ($("#anonNavFooter").hide(), $("#registeredNavFooter").hide()) : this.mo()
        },
        events: {
            "click .anonNavFooterStationLink": "stationLinkClick",
            "click .concerts": "concertsClick",
            "click .navFooter": "footerClick"
        },
        stationLinkClick: function (b) {
            w.b(ig, "mi" + b.target.getAttribute("data-musicid"))
        },
        concertsClick: ea(!1),
        footerClick: function () {
            S(Rq);
            return !0
        }
    });

    function it() {}
    it = Backbone.View.extend({
        initialize: function () {
            T(vq, o(this, this.hu));
            T(xp, o(this, this.Lj));
            T(uq, o(this, this.tx));
            T(hq, o(this, this.yd));
            w.d(Sd, o(this, this.xm));
            w.d(Td, o(this, this.xm));
            w.d(ie, o(this, this.ju));
            w.nn(je, o(this, this.lu));
            w.d(Od, o(this, this.ab))
        },
        el: $("#mainContentContainer .station"),
        Yi: "",
        Pd: "",
        Lj: function (b) {
            if (b != e) this.w = b;
            this.w.indexOf("G") == 0 ? jt("/content/genrestation", {
                musicid: this.w,
                cachebuster: "" + (new Date).getTime()
            }, o(this, function (b) {
                $(this.el).empty().append(b);
                this.i = new rs($("#station_info").data("station"));
                this.vd = this.w;
                S(kr);
                b = Pj($(".likeButton[data-like-type=genrestation]", this.el));
                S(aq, b);
                kt(this.el, this.model.get("currentUser"));
                this.ol()
            }), function () {
                w.b(Gf)
            }, !0) : jt("/content/station", {
                stationId: this.w,
                cachebuster: "" + (new Date).getTime()
            }, o(this, function (b) {
                $(this.el).empty().append(b);
                this.i = new rs($("#station_info").data("station"));
                this.w = this.i.get("stationId");
                this.vd = e;
                this.Yi = $("#title", this.el).val();
                this.Pd = $.trim($("#station_description", this.el).html());
                this.Jw = $("#description", this.el).val();
                this.jl();
                this.Mf(!1);
                b = Pj($(".likeButton[data-like-type=station]", this.el));
                S(aq, b);
                this.ol();
                S(kr);
                _.each($(".section", this.el), o(this, function (b) {
                    this.Hn($(b))
                }))
            }), function () {
                w.b(Gf)
            }, !0)
        },
        ol: function () {
            this.ta && this.ta.close();
            this.ta = new lt({
                el: $(".backstage", this.el).get(0),
                model: this.model,
                type: this.vd ? "music" : "station",
                targetId: this.vd ? this.vd : this.w
            })
        },
        jl: function () {
            $(".stationSeedsSection li", this.el).length == 1 ? $(".stationSeedsSection li .deletable", this.el).hide() : $(".stationSeedsSection li .deletable", this.el).show()
        },
        tx: function (b) {
            var c = b.C();
            if (b.getContext() == "addThumbedUpSong") {
                var d = c.get("initialSeed");
                d && d.musicId && w.b(ug, [c.get("stationId"), b.h(), d.musicId])
            } else(b.getContext() == "addSongSeed" || b.getContext() == "addArtistSeed") && w.b(vg, [c.get("stationId"), b.h()])
        },
        xm: function (b) {
            b[0] == this.w && this.Lj()
        },
        render: function () {
            $(".backstage .header h1", this.el).empty().append(this.i.get("stationName"));
            return this
        },
        hu: function (b) {
            if (this.w == b.get("stationId")) this.i = b, this.render(), this.Lj()
        },
        events: {
            "click #playStationButton": "playStationClick",
            "click .likeButton": "likeStationClick",
            "click .show_more": "fetchPage",
            "click .stationDetailsEdit": "stationEditClick",
            "click #cancelEditButton": "cancelEditClick",
            "click #saveEditButton": "saveEditClick",
            "click .addButton": "handleAddClick",
            "click .deletable": "handleDeleteClick",
            "click .stationSectionSort": "handleSortClick",
            "click .sample a": "sampleClick",
            "click #shareButton": "shareButtonClick"
        },
        shareButtonClick: function () {
            var b = this.model.get("currentUser");
            b == e || D(b) ? S(Xp, {
                onSuccessRedirect: Es()
            }) : (S(Dp, {
                mode: "station",
                station: this.i
            }), r("link", {
                click: "shareButton",
                source: "StationView"
            }, this.model.get("currentUser")))
        },
        sampleClick: function (b) {
            $(b.target).blur();
            var c = $(b.target).parent(".sample");
            if (c.hasClass("playing")) w.b(qg);
            else {
                var d = $(b.target).attr("data-sample-url"),
                    b = $(b.target).attr("data-gain");
                w.b(pg, {
                    url: d,
                    gain: Number(b)
                });
                c.addClass("playing")
            }
            return !1
        },
        ab: function () {
            $(".sample", this.el).removeClass("playing")
        },
        playStationClick: function (b) {
            var c = this.model.get("currentUser");
            if ((c == e || D(c)) && Bs(this.model)) return S(Xp, {
                onSuccessRedirect: Es()
            }), !1;
            c = $(b.target).attr("data-station-id");
            b = $(b.target).data("music-id");
            gd(c) ? w.b(ig, "fs" + c) : gd(b) && w.b(ig, "mi" + b);
            return !1
        },
        likeStationClick: function (b) {
            var c = this.model.get("currentUser");
            if (c == e || D(c)) S(Xp, {
                onSuccessRedirect: Es()
            });
            else return (b = $(b.currentTarget).attr("data-like_id")) ? (w.b(Ug, b), r("like", {
                category: "station",
                action: "unLike",
                source: "StationView"
            }, c)) : (w.b(Tg, {
                type: this.vd ? "genrestation" : "station",
                objectId: this.w,
                context: "station_page",
                contextId: this.w,
                contextName: this.i.get("stationName")
            }), r("like", {
                category: "station",
                action: "like",
                source: "StationView"
            }, c)), !1
        },
        ju: function (b) {
            this.i && b.objectId == this.w && ($("#likeStationButton").addClass("selected"), $("#likeStationButton").attr("data-like_id", b.id), $("#likeStationButton").text(Db), $("#likeStationButton").css("background-image", "url(/img/likes/liked.png)"))
        },
        lu: function (b) {
            b = Qj(b);
            $("#likeStationButton").attr("data-like_id") == b.Hb && ($("#likeStationButton").removeClass("selected"), $("#likeStationButton").removeAttr("data-like_id"), $("#likeStationButton").text(Eb), $("#likeStationButton").css("background-image", "url(/img/likes/like.png)"))
        },
        yd: function (b) {
            Lr(this.el, b)
        },
        stationEditClick: function () {
            S(jr);
            this.Mf(!0);
            return !1
        },
        cancelEditClick: function () {
            S(jr);
            $("#title", this.el).val(this.Yi);
            $("#description", this.el).val(this.Jw);
            this.Mf(!1);
            return !1
        },
        saveEditClick: function () {
            S(jr);
            this.Yi = "";
            this.Pd = "Please wait..";
            this.Mf(!1);
            var b = $("#title", this.el).val(),
                c = $("#description", this.el).val(),
                b = Jc(b),
                c = Jc(c);
            w.b(tg, [this.w, b, c]);
            return !1
        },
        Mf: function (b) {
            b ? ($(".stationDescription").hide(), $("#stationEditForm").fadeIn()) : (this.Pd && this.Pd.length > 0 ? ($("#default_description", this.el).hide(), $("#station_description", this.el).empty().html(this.Pd), $("#station_description", this.el).show()) : ($("#default_description", this.el).show(), $("#station_description", this.el).hide()), $("#stationEditForm").hide(), $(".stationDescription").fadeIn())
        },
        handleAddClick: function (b) {
            switch (b.target.id) {
            case "addArtistSeed":
                r("add_variety", {
                    action: "button_clicked",
                    source: "StationView",
                    station_id: this.i.get("stationId"),
                    add_variety_type: "artist"
                }, this.model.get("currentUser"));
                this.oc = new ct({
                    model: this.model,
                    station: this.i,
                    context: b.target.id,
                    title: Wb(),
                    description: Xb(),
                    text: Yb(),
                    event: iq,
                    autoCompleteParams: {
                        artists: "yes"
                    }
                });
                break;
            case "addSongSeed":
                r("add_variety", {
                    action: "button_clicked",
                    source: "StationView",
                    station_id: this.i.get("stationId"),
                    add_variety_type: "song"
                }, this.model.get("currentUser"));
                new ct({
                    model: this.model,
                    station: this.i,
                    context: b.target.id,
                    title: Zb(),
                    description: $b(),
                    text: ac(),
                    event: iq,
                    autoCompleteParams: {
                        songs: "yes"
                    }
                });
                break;
            case "addThumbedUpSong":
                r("add_variety", {
                    action: "button_clicked",
                    source: "StationView",
                    station_id: this.i.get("stationId"),
                    add_variety_type: "thumbsUpSong"
                }, this.model.get("currentUser")), new ct({
                    model: this.model,
                    station: this.i,
                    context: b.target.id,
                    title: bc(),
                    description: cc(),
                    text: dc(),
                    event: iq,
                    autoCompleteParams: {
                        songs: "yes"
                    }
                })
            }
            return !1
        },
        handleDeleteClick: function (b) {
            var c = b.target.getAttribute("data-musicId");
            b.target.getAttribute("data-type") == "seed" ? w.b(fh, {
                stationID: this.w,
                seedID: $(b.target).attr("data-seedid")
            }) : S(Gp, {
                isPositive: $(b.target).closest("ul").hasClass("thumb_up_list"),
                stationID: this.w,
                musicID: [c]
            });
            $(b.target).parents("li").slideUp(200);
            return !1
        },
        handleSortClick: function (b) {
            var c = $(b.target),
                d = c.hasClass("sort-dir-ascending");
            $(".stationSectionSort", c.parents(".section")).removeClass("sort-dir-ascending").removeClass("sort-dir-descending");
            d ? (r("link", {
                click: "sortStationsAscending",
                source: "StationView"
            }, this.model.get("currentUser")), c.addClass("sort-dir-descending")) : (r("link", {
                click: "sortStationsDescending",
                source: "StationView"
            }, this.model.get("currentUser")), c.addClass("sort-dir-ascending"));
            $("." + c.attr("data-sort")).empty();
            this.fetchPage(b);
            return !1
        },
        Hn: function (b) {
            var c = $(".sort-dir-ascending", b);
            c.length == 0 && (c = $(".sort-dir-descending", b));
            c.length == 0 && (c = $(".stationSectionSort", b).last(), c.addClass($(c).attr("data-key") == "date" ? "sort-dir-descending" : "sort-dir-ascending"));
            return c
        },
        fetchPage: function (b) {
            var b = $(b.target).parents(".section"),
                c = this.Hn(b),
                d = $("." + c.attr("data-sort")),
                f = $(".show_more:visible", b);
            f.hide();
            var f = f.length == 0 ? 0 : parseInt(f.data("nextstartindex"), 10),
                i = c.hasClass("sort-dir-ascending"),
                c = c.data("key"),
                l = o(this, function (b) {
                    d.append(b);
                    this.jl()
                });
            b.hasClass("artistSeeds") ? jt("/content/station_artist_seeds", {
                stationId: this.w,
                artistStartIndex: f,
                artistSortAsc: i,
                artistSortBy: c,
                "cachebuster:": "" + (new Date).getTime()
            }, l) : b.hasClass("songSeeds") ? jt("/content/station_track_seeds", {
                stationId: this.w,
                trackStartIndex: f,
                trackSortAsc: i,
                trackSortBy: c,
                "cachebuster:": "" + (new Date).getTime()
            }, l) : b.hasClass("thumbedUpSongs") ? jt("/content/station_track_thumbs", {
                stationId: this.w,
                page: "true",
                posFeedbackStartIndex: f,
                posSortAsc: i,
                posSortBy: c,
                "cachebuster:": "" + (new Date).getTime()
            }, l) : b.hasClass("thumbedDownSongs") && jt("/content/station_track_thumbs", {
                stationId: this.w,
                page: "true",
                down: "true",
                negFeedbackStartIndex: f,
                negSortAsc: i,
                negSortBy: c,
                "cachebuster:": "" + (new Date).getTime()
            }, l);
            return !1
        }
    });

    function Ps() {}
    Ps = Backbone.View.extend({
        initialize: function () {
            this.Aa = (new Date).getTime();
            this.j = this.options.track;
            var b = Pr(this.model),
                c = this.model.get("currentStation");
            c && c.get("isQuickMix") && (c = this.model.get("stationList").zh(this.j.k()));
            this.ir = c;
            b = Jr("stationSelectorPopup", $("#stationSelectorHeaderTmpl").tmpl(), $("#stationSelectorContentTmpl").tmpl({
                albumArt: this.j.xa(),
                songTitle: this.j.pa,
                artistSummary: this.j.ia(),
                currentStation: c,
                stations: b
            }), $("#stationSelectorFooterTmpl").tmpl());
            $("body").append($(this.el).append(b));
            Fr($(".scroll-pane", this.el));
            setTimeout(o(this, function () {
                $(".stationSelectorPopup .stationSelectorPopupStation").first().click()
            }), 1);
            U("/song/move/" + this.j.h(), !1, !0);
            S(er)
        },
        events: {
            "closed .lightbox": "cancelButtonClicked",
            "click .cancelButton": "cancelButtonClicked",
            "click .okButton": "okButtonClicked",
            "click .stationSelectorPopupStation": "stationClicked"
        },
        cancelButtonClicked: function () {
            this.B(e);
            return !1
        },
        okButtonClicked: function () {
            this.B(this.Hf);
            return !1
        },
        stationClicked: function (b) {
            $(".stationSelectorPopupStation", this.el).removeClass("selected");
            $(b.target).addClass("selected");
            this.Hf = $.tmplItem(b.target).data;
            return !1
        },
        B: function (b) {
            $(this.el).remove();
            this.el = e;
            b != e && S(lq, new gs(b, this.j, this.ir))
        }
    });

    function mt() {}
    mt = Backbone.View.extend({
        initialize: function () {
            this.Aa = (new Date).getTime();
            T(mp, o(this, this.S));
            var b = this.options.title;
            b || (b = Ob());
            var c = this.options.subtitle,
                d = this.options.message;
            d || (d = Nb());
            var f = this.options.yesButtonText;
            f || (f = Qb());
            var i = this.options.noButtonText;
            i || (i = Rb());
            this.Wl = this.options.event;
            b = Jr("confirmPopup", $("#confirmHeaderTmpl").tmpl({
                title: b
            }), $("#confirmBodyTmpl").tmpl({
                subtitle: c,
                message: d
            }), $("#confirmFooterTmpl").tmpl({
                yesButtonText: f,
                noButtonText: i
            }));
            $("body").append($(this.el).append(b))
        },
        S: function (b) {
            this.el && (new Date).getTime() - this.Aa > dt && ($(b.target) == this.el || $(b.target).parents(".lightbox_bg").length > 0 || this.B(e))
        },
        events: {
            "click .yesButton": "yesClicked",
            "click .noButton": "noClicked",
            "closed .lightbox": "noClicked"
        },
        yesClicked: function () {
            this.B(!0);
            return !1
        },
        noClicked: function () {
            this.B(!1);
            return !1
        },
        B: function (b) {
            et(this);
            $(this.el).remove();
            this.el = e;
            b ? S(rq, this.Wl) : S(sq, this.Wl)
        }
    });

    function nt() {}
    nt = Backbone.View.extend({
        initialize: function () {
            this.Aa = (new Date).getTime();
            T(mp, o(this, this.S));
            this.i = this.options.station;
            var b = Jr("renameStationPopup", $("#renameStationHeaderTmpl").tmpl(), $("#renameStationContentTmpl").tmpl({
                station: this.i
            }), $("#renameStationFooterTmpl").tmpl());
            $(this.el).append(b);
            $("body").append(this.el);
            $(".renameStationName", this.el).focus()
        },
        S: function (b) {
            this.el && (new Date).getTime() - this.Aa > dt && ($(b.target) == this.el || $(b.target).parents(".renameStationPopup").length > 0 || this.B(e))
        },
        events: {
            "click .okButton": "okClicked",
            "click .cancelButton": "cancelClicked",
            "closed .lightbox": "cancelClicked",
            "keyup .renameStationName": "stationNameKey"
        },
        stationNameKey: function (b) {
            if ((new Date).getTime() - this.Aa > 100) if (b.which == 27) this.B(e);
            else if (b.which == 13) return this.okClicked(e)
        },
        okClicked: function () {
            var b = $(".renameStationName", this.el).val();
            this.B(Jc(b));
            return !1
        },
        cancelClicked: function () {
            this.B("");
            return !1
        },
        B: function (b) {
            et(this);
            $(this.el).remove();
            this.el = e;
            b != e && b != "" && w.b(Fg, [this.i.get("stationId"), b]);
            Gs()
        }
    });

    function ot() {}
    var pt = e,
        ot = Backbone.View.extend({
            initialize: function () {
                w.d(We, o(this, this.Zh));
                w.d(rf, o(this, this.ft));
                this.model.bind("change:twitterAuthenticated", o(this, this.updateUIForSocialStates));
                this.xn = "/";
                T(Ep, o(this, function (b) {
                    this.fc = b.mode == "song";
                    this.xn = b.returnHash;
                    this.mode = b.mode;
                    this.j = b.track;
                    this.fa = b.album;
                    this.i = b.station;
                    this.Df = b.relatedArtists ? b.relatedArtists : this.model.get("relatedArtists");
                    if (!(this.i && this.i.get("isQuickMix") == !0) && this.j instanceof Rj) this.mode = "station", this.fc = !1;
                    this.render()
                }));
                $("body").append(this.el)
            },
            render: function () {
                this.Aa = (new Date).getTime();
                T(mp, o(this, this.S));
                var b = this.model.get("currentUser"),
                    c = this.j ? this.j.pa : "",
                    d = this.j ? this.j.ia() : "",
                    f = this.j ? this.j.Sa : "",
                    b = Jr("shareStationPopup", $("#shareStationHeaderTmpl").tmpl(), $("#shareStationContentTmpl").tmpl({
                        profileImage: Ic(b, !0),
                        albumArt: this.xa(),
                        station: this.i,
                        related: this.Df,
                        trackSongTitle: c,
                        trackArtistSummary: d,
                        trackAlbumTitle: f,
                        album: this.fa
                    }), $("#shareStationFooterTmpl").tmpl());
                $(this.el).empty().append(b);
                this.updateUIForSocialStates();
                $(this.el).show();
                $("#shareStationName", this.el).focus();
                this.sj();
                this.shareViaProfileClick()
            },
            updateUIForSocialStates: function () {
                var b = this.model.get("currentUser");
                b != e && ($(".profileImage", $(this.el)).attr("src", Ic(b, !0)), this.model.get("facebookAuthenticated") ? ($(".facebook_logged_in", $(this.el)).show(), $(".facebook_not_logged_in", $(this.el)).hide(), $("#shareSocialNetworkSelectFacebook", $(this.el)).attr("checked", !0)) : ($(".facebook_logged_in", $(this.el)).hide(), $(".facebook_not_logged_in", $(this.el)).show(), $("#shareSocialNetworkSelectFacebook", $(this.el)).attr("checked", !1)), this.model.get("twitterAuthenticated") && !p(b.Bb) ? ($(".twitter_logged_in", $(this.el)).show(), $(".twitter_not_logged_in", $(this.el)).hide(), $("#shareSocialNetworkSelectTwitter", $(this.el)).attr("checked", !0)) : ($(".twitter_logged_in", $(this.el)).hide(), $(".twitter_not_logged_in", $(this.el)).show(), $("#shareSocialNetworkSelectTwitter", $(this.el)).attr("checked", !1)))
            },
            xa: function () {
                if (this.j != e) return this.j.xa();
                else if (this.fa != e) return this.fa.albumArt;
                else if (this.i != e) return this.Ih();
                return e
            },
            Ih: function () {
                var b = this.i.get("stationArt");
                if (!b) {
                    var c = this.i.get("initialSeed");
                    c && c.song != e ? b = c.song.artUrl : c && c.artist != e ? b = c.artist.artUrl : (b = e, $("#mainContainer .station .thumb-quad-166 img").each(function () {
                        var c = $(this).attr("src");
                        c != "/img/no_album_art.jpg" && (b = c)
                    }))
                }
                return b
            },
            sj: function () {
                this.mode == "song" ? ($(".shareStationOrSong", this.el).hide(), this.In()) : this.mode == "album" ? ($(".shareStationOrSong", this.el).hide(), this.Hx()) : this.mode == "station" ? ($(".shareStationOrSong", this.el).hide(), this.Jn()) : ($(".shareStationOrSong", this.el).show(), this.fc ? this.In() : this.Jn());
                $(".shareInfoData div").truncate({
                    width: 275
                });
                $("#shareSocialNetworkSelectFacebook:visible").attr("checked", Pi());
                $("#shareSocialNetworkSelectTwitter:visible").attr("checked", Oi())
            },
            ia: function () {
                return this.j ? p(this.j.sg) ? this.j.ia() : this.j.sg : this.fa ? p(this.fa.composerName) ? this.fa.artistSummary : this.fa.composerName : ""
            },
            In: function () {
                pt ? $("#shareStationMessage", this.el).val(pt) : $("#shareStationMessage", this.el).val("I'm listening to \"" + this.j.pa + '" by ' + this.ia() + " on Pandora");
                $("#shareStationInfo", this.el).hide();
                $("#shareAlbumInfo", this.el).hide();
                $("#shareTrackInfo", this.el).show();
                $("#shareHeaderStation", this.el).hide();
                $("#shareHeaderAlbum", this.el).hide();
                $("#shareHeaderSong", this.el).show()
            },
            Hx: function () {
                pt ? $("#shareStationMessage", this.el).val(pt) : $("#shareStationMessage", this.el).val("I'm listening to \"" + this.fa.albumTitle + '" by ' + this.ia() + " on Pandora");
                $("#shareStationInfo", this.el).hide();
                $("#shareAlbumInfo", this.el).show();
                $("#shareTrackInfo", this.el).hide();
                $("#shareHeaderStation", this.el).hide();
                $("#shareHeaderAlbum", this.el).show();
                $("#shareHeaderSong", this.el).hide()
            },
            Jn: function () {
                pt ? $("#shareStationMessage", this.el).val(pt) : $("#shareStationMessage", this.el).val("I'm listening to \"" + this.i.get("stationName") + '" on Pandora');
                $("#shareStationInfo", this.el).show();
                $("#shareAlbumInfo", this.el).hide();
                $("#shareTrackInfo", this.el).hide();
                $("#shareHeaderStation", this.el).show();
                $("#shareHeaderAlbum", this.el).hide();
                $("#shareHeaderSong", this.el).hide()
            },
            S: function (b) {
                this.el && (new Date).getTime() - this.Aa > dt && ($(b.target) == this.el || $(b.target).parents(".shareStationPopup").length > 0 || $(b.target).parents(".shareVehicleAuthPopup").length > 0 || $(b.target).parents(".toastContainer").length > 0 || this.B(e))
            },
            events: {
                "closed .lightbox": "cancelClicked",
                "click .okButton": "okClicked",
                "click .cancelButton": "cancelClicked",
                "click .skipButton": "cancelClicked",
                "click #facebookLoginButton": "facebookLoginButtonClick",
                "click #twitterLoginButton": "twitterLoginButtonClick",
                "click #shareStation": "shareStationClick",
                "click #shareSong": "shareSongClick",
                "click #shareViaProfile": "shareViaProfileClick",
                "click #shareViaEmail": "shareViaEmailClick",
                "focus #shareStationTo": "shareStationToFocus",
                "change #shareSocialNetworkSelectFacebook": "shareFacebookChange",
                "change #shareSocialNetworkSelectTwitter": "shareTwitterChange",
                "click .startLoginFacebook": "startFacebookLogin",
                "click .startLoginTwitter": "startTwitterLogin",
                "change #shareStationMessage": "storeUserInputMessage"
            },
            shareFacebookChange: function (b) {
                b = $(b.target).is(":checked");
                B(xi, b)
            },
            shareTwitterChange: function (b) {
                b = $(b.target).is(":checked");
                B(wi, b)
            },
            startFacebookLogin: function () {
                w.b(Qg, o(this, this.updateUIForSocialStates));
                return !1
            },
            startTwitterLogin: function () {
                S(Qp, e);
                return !1
            },
            shareStationToFocus: function () {
                $("#shareStationTo").data("hasdefaulttext") && ($("#shareStationTo").text(""), $("#shareStationTo").data("hasDefaultText", !1))
            },
            shareViaProfileClick: function () {
                this.Q = !1;
                $("#shareViaEmail", this.el).show();
                $("#shareViaProfile", this.el).hide();
                $("#shareToEmailForm", this.el).hide();
                $("#shareSocialNetworkSelect", this.el).show();
                $(".shareVehiclePandora", this.el).show();
                $(".shareVehicleEmail", this.el).hide();
                return !1
            },
            shareViaEmailClick: function () {
                this.Q = !0;
                $("#shareViaEmail", this.el).hide();
                $("#shareViaProfile", this.el).show();
                $("#shareToEmailForm", this.el).show();
                $("#shareSocialNetworkSelect", this.el).hide();
                $(".shareVehiclePandora", this.el).hide();
                $(".shareVehicleEmail", this.el).show();
                return !1
            },
            shareStationClick: function () {
                this.fc = !1;
                this.sj()
            },
            shareSongClick: function () {
                this.fc = !0;
                this.sj()
            },
            cancelClicked: function () {
                this.B();
                pt = e;
                return !1
            },
            okClicked: function () {
                if (!this.Df && this.model.get("relatedArtists")) this.Df = this.model.get("relatedArtists");
                this.P = this.Hq();
                this.Ya = [];
                if (this.P != e) this.Fj = !1, this.Sg({
                    doFacebook: this.P.doFacebook && this.model.get("facebookAuthenticated"),
                    doTwitter: this.P.doTwitter && this.model.get("twitterAuthenticated")
                });
                pt = e;
                return !1
            },
            storeUserInputMessage: function () {
                pt = Jc(String($("#shareStationMessage", this.el).val()));
                $("#shareStationMessage", this.el).addClass("edited")
            },
            Hq: function () {
                var b = Jc(String($("#shareStationMessage", this.el).val())),
                    c = this.model.get("currentUser"),
                    d = !this.Q && $("#shareSocialNetworkSelectFacebook:checked", this.el).length > 0,
                    f = !this.Q && $("#shareSocialNetworkSelectTwitter:checked", this.el).length > 0,
                    i = e;
                if (this.Q) {
                    var i = String($("#shareStationTo", this.el).val()),
                        l;
                    a: {
                        var q = !1;
                        l = i.split(",");
                        for (var s = 0; s < l.length; s++) {
                            var u = jQuery.trim(l[s]);
                            if (u.length > 0) {
                                var q = u,
                                    u = q.indexOf("@"),
                                    z = q.length,
                                    V = q.indexOf(".");
                                if (q.indexOf("@") == -1 ? 0 : u == 0 || u == z - 1 ? 0 : V == -1 || V == 0 || q.substr(z - 1, z) == "." ? 0 : q.indexOf("@", u + 1) != -1 ? 0 : q.substring(u - 1, u) == "." || q.substring(u + 1, u + 2) == "." ? 0 : q.indexOf(".", u + 2) == -1 ? 0 : q.indexOf(" ") == -1) q = !0;
                                else {
                                    l = !1;
                                    break a
                                }
                            }
                        }
                        l = q
                    }
                    if (!l) return (new X({
                        message: eb([gb()])
                    })).render(),
                    e;
                    if (l = b.length > 0) l = b.toLowerCase(), l = !(l.indexOf("http:") >= 0 || l.indexOf("https:") >= 0 || l.indexOf("www.") >= 0 ? 0 : l.replace(/<[^>]*?>/gi, "").length != l.length ? 0 : l.search("([!#-'*+\\-\\/-9=?A-Z^-~]+[.])*[!#-'*+\\-\\/-9=?A-Z^-~]+@(((?:(?:[\\da-zA-Z](?:[-\\da-zA-Z]{0,61}[\\da-zA-Z])?)\\.)+(?:[a-zA-Z](?:[-\\da-zA-Z]{0,6}[\\da-zA-Z])?)\\.?))(\\:\\d+)?") > -1 ? 0 : l.length > 0);
                    if (l) return (new X({
                        message: eb([hb()])
                    })).render(), e
                } else if (b.length == 0) return (new X({
                    message: fb()
                })).render(), e;
                var ka, q = "";
                d ? q += "&site=facebook&shareImp=true" : f && (q += "&site=twitter&shareImp=true");
                u = c.Iu;
                gd(u) && u.charAt(u.length - 1) == "/" && (u = u.substring(0, u.length - 1));
                this.mode == "song" ? (l = u + "?ext_lsfmi=mf" + this.j.h() + q + "&seed=song", s = u + "/land/song/" + this.j.Cg + "?referrer=" + c.v + q + "&seed=song", q = this.j.xa(), r("share", {
                    share_object: "song",
                    source: "unknown",
                    pandora: !this.Q ? "true" : "false",
                    twitter: f ? "true" : "false",
                    facebook: d ? "true" : "false",
                    email: this.Q ? "true" : "false"
                }, this.model.get("currentUser"))) : this.mode == "album" ? (l = u + "?ext_lsfi=lf" + this.fa.musicId + q + "&seed=album", s = u + "/land/album/" + this.fa.musicIdToken + "?referrer=" + c.v + q + "&seed=album", q = this.fa.albumArt, r("share", {
                    share_object: "album",
                    source: "unknown",
                    pandora: !this.Q ? "true" : "false",
                    twitter: f ? "true" : "false",
                    facebook: d ? "true" : "false",
                    email: this.Q ? "true" : "false"
                }, this.model.get("currentUser"))) : this.mode == "station" ? (l = u + "?ext_lsfi=sf" + this.i.get("stationId") + q + "&seed=station", s = u + "/land/station/" + this.i.get("stationIdToken") + "?referrer=" + c.v + q + "&seed=station", q = this.Ih(), r("share", {
                    share_object: "station",
                    source: "unknown",
                    pandora: !this.Q ? "true" : "false",
                    twitter: f ? "true" : "false",
                    facebook: d ? "true" : "false",
                    email: this.Q ? "true" : "false"
                }, this.model.get("currentUser"))) : this.fc ? (l = u + "?ext_lsfmi=mf" + this.j.h() + "%7C" + this.i.get("stationId") + q + "&seed=song", s = u + "/land/song/" + this.j.Cg + "?referrer=" + c.v + q + "&seed=song&station=" + this.i.get("stationIdToken"), ka = u + "/land/station/" + this.i.get("stationIdToken") + "?referrer=" + c.v + q + "&seed=song", q = this.j.xa(), r("share", {
                    share_object: "song",
                    source: "unknown",
                    pandora: !this.Q ? "true" : "false",
                    twitter: f ? "true" : "false",
                    facebook: d ? "true" : "false",
                    email: this.Q ? "true" : "false"
                }, this.model.get("currentUser"))) : (l = u + "?ext_lsfi=sf" + this.i.get("stationId") + q + "&seed=station", s = u + "/land/station/" + this.i.get("stationIdToken") + "?referrer=" + c.v + q + "&seed=station", q = this.Ih(), r("share", {
                    share_object: "station",
                    source: "unknown",
                    pandora: !this.Q ? "true" : "false",
                    twitter: f ? "true" : "false",
                    facebook: d ? "true" : "false",
                    email: this.Q ? "true" : "false"
                }, this.model.get("currentUser")));
                this.i && this.i.get("initialSeed") ? (u = this.i.get("initialSeed"), u = typeof u == "string" ? u : u.musicId) : u = e;
                return {
                    doFacebook: d,
                    doProfile: !this.Q,
                    doTwitter: f,
                    doEmail: this.Q,
                    isSongShare: this.fc,
                    emails: i,
                    message: b,
                    stationName: this.i ? this.i.get("stationName") : e,
                    relatedArtistNames: this.Df,
                    directUrl: l,
                    landingUrl: s,
                    stationLandingUrl: ka,
                    artUrl: q,
                    webname: c.v,
                    stationToken: this.i ? this.i.get("stationIdToken") : e,
                    stationId: this.i ? this.i.get("stationId") : e,
                    stationInitialSeed: u,
                    musicId: this.j ? this.j.h() : e,
                    songToken: this.j ? this.j.Cg : e,
                    songName: this.j ? this.j.pa : e,
                    artistName: this.j ? this.j.ia() : e,
                    albumName: this.j ? this.j.Sa : e
                }
            },
            twitterLoginButtonClick: function () {
                this.Sg({
                    doProfile: !1,
                    doFacebook: !1,
                    doTwitter: !0,
                    doEmail: !1
                })
            },
            facebookLoginButtonClick: function () {
                this.Sg({
                    doProfile: !1,
                    doFacebook: !0,
                    doTwitter: !1,
                    doEmail: !1
                })
            },
            Sg: function (b) {
                var c = {},
                    d;
                for (d in this.P) c[d] = this.P[d];
                if (b != e) for (d in b) c[d] = b[d];
                c.doEmail || c.doProfile || c.doFacebook || c.doTwitter ? w.b(this.fc ? Pg : Og, c) : this.Zh({})
            },
            Zh: function (b) {
                this.B();
                clearTimeout(this.vy);
                if (b.profile) this.P.doProfile = !1, this.Ya.push('your <a href="#!/profile/activity">Pandora Profile</a>');
                if (b.facebook) this.P.doFacebook = !1, this.Ya.push("Facebook");
                if (b.twitter) this.model.set({
                    twitterAuthenticated: !0
                }), this.P.doTwitter = !1, this.Ya.push("Twitter");
                b.email ? this.Fj || (new X({
                    message: Ab([this.P.isSongShare ? this.P.songName : this.P.stationName])
                })).render() : this.vy = setTimeout(o(this, function () {
                    if (!this.Fj && this.Ya.length > 0) {
                        var b;
                        this.Ya.length <= 2 ? b = this.Ya.join(" and ") : (b = this.Ya.shift() + ", ", b += this.Ya.join(" and "));
                        (new X({
                            message: Bb([b])
                        })).render();
                        this.Ya = []
                    }
                }), 1500);
                var c = !b.email && this.P && this.P.doFacebook && !this.model.get("facebookAuthenticated"),
                    b = !b.email && this.P && this.P.doTwitter && !this.model.get("twitterAuthenticated");
                if (c || b) c = Jr("shareVehicleAuthPopup", $("#shareVehicleAuthHeaderTmpl").tmpl(), $("#shareVehicleAuthContentTmpl").tmpl({
                    showTwitter: b,
                    showFacebook: c,
                    showFacebookAuthenticated: this.P.doFacebook && this.model.get("facebookAuthenticated"),
                    showTwitterAuthenticated: this.P.doTwitter && this.model.get("twitterAuthenticated"),
                    facebookConnectName: Mj(this.model.get("currentUser"))
                }), $("#shareVehicleAuthFooterTmpl").tmpl()), $(this.el).empty().append(c).show()
            },
            B: function () {
                S(mr);
                et(this, mp);
                $(this.el).empty();
                U(this.xn, !0, !0)
            },
            ft: function (b) {
                this.Fj = !0;
                (new X({
                    message: b
                })).render();
                this.Zh({})
            }
        });

    function Ms() {}
    Ms = Backbone.View.extend({
        bd: "savagebeast-20",
        ni: "http://click.linksynergy.com/fs-bin/stat?id=FLenzF8lvbI&offerid=78941&type=3&subid=0&tmpid=1826",
        initialize: function () {
            this.Iq = this.options.buyButton;
            this.qc = this.options.buyMenu;
            this.Kl = this.options.cssBeforeOpen;
            this.Kq = new us(this.Iq, e, this.qc);
            this.Kq.Pi = o(this, function (b) {
                this.qc.empty().append($("#buyMenuTmpl").tmpl({
                    iTunesUrl: this.gf && jQuery.trim(this.gf).length > 0 ? this.gf : e,
                    amazonUrl: this.Be && jQuery.trim(this.Be).length > 0 ? this.Be : e,
                    amazonDigitalAsin: this.Ae && jQuery.trim(this.Ae).length > 0 ? this.Ae : e
                }));
                this.Kl && this.qc.css(this.Kl(b));
                $(".buyOnITunes", this.qc).click(o(this, this.Nq));
                $(".buyOnAmazon", this.qc).click(o(this, this.Lq));
                $(".buyOnAmazonMp3", this.qc).click(o(this, this.Mq))
            })
        },
        Pc: function (b, c, d) {
            this.gf = b;
            this.Be = c;
            this.Ae = d
        },
        Ex: function (b) {
            this.Pc(b.Pk, b.Gk, b.Ek)
        },
        Nq: function () {
            r("buy", {
                store: "itunes"
            }, this.model.get("currentUser"));
            S(bq);
            window.open(this.ni + this.gf, "_blank");
            return !1
        },
        Lq: function () {
            r("buy", {
                store: "amazonCD"
            }, this.model.get("currentUser"));
            S(bq);
            window.open(this.Be + "&tag=" + this.bd, ld() ? "pandoraAmazon" : "_blank");
            return !1
        },
        Mq: function () {
            r("buy", {
                store: "amazonMp3"
            }, this.model.get("currentUser"));
            S(bq);
            window.open("http://www.amazon.com/dp/" + this.Ae + "/?&tag=" + this.bd, ld() ? "pandoraAmazon" : "_blank");
            return !1
        }
    });

    function qt() {}
    qt = Backbone.View.extend({
        el: $(".stationContent #promobox"),
        initialize: function () {
            this.jn = e;
            this.nd = "#content_a";
            this.vi = (new Date).getTime();
            this.model.bind("change:currentUser", o(this, this.render));
            setInterval(o(this, this.scrollPromoBox), 15E3);
            $('a[rel="tooltip"]').each(function () {
                new $s($(this), $(this).attr("title"))
            })
        },
        kn: "/static/promo/",
        render: function () {
            var b = this.model.get("currentUser");
            if (b != e && (b = this.kn + "manifest." + (b != e && b.t() ? "free" : "subscriber") + ".json", this.jn != b)) this.jn = b, this.Oa = [], this.T = 0, this.Bf = {}, this.Dd = !0, jt(b, {
                cachebuster: "" + (new Date).getTime()
            }, o(this, function (b) {
                this.Oa = b;
                this.T = Math.floor(Math.random() * this.Oa.length);
                this.Ff();
                this.gx()
            }))
        },
        gx: function () {
            for (var b = "<ul>", c = 0; c < this.Oa.length; c++) b += '<li class="dot">&nbsp;</li>';
            b += "</ul>";
            $(".dots", this.el).empty().append(b)
        },
        Ff: function (b) {
            this.Oa && (this.Bf[this.T] == e ? this.cv(b) : this.Pl(b))
        },
        Pl: function () {
            var b = this.Bf[this.T].htmlElem,
                c = this.Bf[this.T].adType,
                d = $(this.nd == "#content_a" ? "#content_b" : "#content_a", this.el);
            d.empty().append(b);
            tl({
                action: "promo_display",
                promo_type: c,
                source: "PromoBoxView"
            }, this.model.get("currentUser"));
            try {
                $("a", d)[0].setAttribute("adType", c)
            } catch (f) {
                k("displayPromoItem error inserting adType into anchor element: " + f)
            }
            $(this.nd, this.el).fadeOut();
            $(".dot", this.el).removeClass("selected");
            $(".dot", this.el).eq(this.T).addClass("selected");
            $(this.nd == "#content_a" ? "#content_b" : "#content_a", this.el).fadeIn(400, o(this, function () {
                this.nd = this.nd == "#content_a" ? "#content_b" : "#content_a";
                this.Dd = !1
            }))
        },
        cv: function (b) {
            this.Dd = !0;
            jt(this.kn + this.Oa[this.T].url, {
                cachebuster: "" + (new Date).getTime()
            }, o(this, function (c) {
                this.Bf[this.T] = {
                    htmlElem: c,
                    adType: this.Oa[this.T].type
                };
                this.Pl(b)
            }), function (b, d) {
                (new X({
                    message: "Error loading content textStatus=" + b + " error=" + d
                })).render();
                this.Dd = !1
            })
        },
        events: {
            "click #scrollLeft": "scrollLeftClick",
            "click #scrollRight": "scrollRightClick",
            "click #content_a": "handlePromoBoxClick",
            "click #content_b": "handlePromoBoxClick",
            "click .dot": "dotClick"
        },
        handlePromoBoxClick: function (b) {
            try {
                var c = "undefined";
                try {
                    var d = $(b.target).context.parentNode;
                    d.getAttribute("adType") && (c = d.getAttribute("adType"))
                } catch (f) {
                    k("Error collecting info from promo box anchor element" + f)
                }
                tl({
                    action: "box_click",
                    promo_type: c,
                    source: "PromoBoxView"
                }, this.model.get("currentUser"))
            } catch (i) {
                k("Error collecting info from promo box" + i)
            }
        },
        dotClick: function (b) {
            tl({
                action: "dot_click",
                source: "PromoBoxView"
            }, this.model.get("currentUser"));
            if (!$(b.target).hasClass("selected")) this.T = $(b.target).index(), this.Ff("left"), S(Qq);
            return !1
        },
        mouseOverPromobox: function () {
            $("#scrollLeft", this.el).fadeIn();
            $("#scrollRight", this.el).fadeIn()
        },
        mouseOutPromobox: function () {
            $("#scrollLeft", this.el).fadeOut();
            $("#scrollRight", this.el).fadeOut()
        },
        scrollLeftClick: function () {
            if (this.Oa) {
                this.vi = (new Date).getTime();
                if (this.Dd) return;
                this.T--;
                if (this.T < 0) this.T = this.Oa.length - 1;
                this.Ff("left")
            }
            return !1
        },
        scrollRightClick: function () {
            if (this.Oa) {
                this.vi = (new Date).getTime();
                if (this.Dd) return;
                this.T++;
                if (this.T >= this.Oa.length) this.T = 0;
                this.Ff("right")
            }
            return !1
        },
        scrollPromoBox: function () {
            (new Date).getTime() - this.vi > 12E4 && (tl({
                action: "auto_scroll",
                source: "PromoBoxView"
            }, this.model.get("currentUser")), this.scrollRightClick())
        }
    });

    function rt() {}
    rt = Backbone.View.extend({
        initialize: function () {
            w.d(od, o(this, function () {
                this.gh()
            }));
            T(Iq, o(this, this.gh));
            T(Hq, o(this, this.wa));
            this.model.bind("change:pageShifting", o(this, this.Kt));
            this.Yo = "#main";
            this.Ca = "#ad_frame";
            this.ma = "#advertisement";
            this.jc = "#masthead";
            this.lb = "#advertisement_bottom";
            this.gk = "#ad_container";
            this.ic = "#adLayout";
            this.le = "#mainContentContainer";
            this.mk = "#footer";
            this.ng = 665;
            this.qe = 800;
            this.Zo = 970;
            this.so = 300;
            this.Do = 308;
            this.Te = C._data.companionAd;
            this.ui = e;
            $(window).resize(o(this, function () {
                this.bj()
            }))
        },
        render: function (b, c) {
            var d = c ? this.lb : this.Ca;
            if (b != e) {
                var f = "ad" + (new Date).getTime();
                b += (b.indexOf("?") == -1 ? "?" : "&") + "cb=" + dd();
                var i = '<IFRAME id="' + f + '" src="' + b + '" frameborder="0" scrolling="no" marginheight="0" marginwidth="0" topmargin="0" leftmargin="0" allowtransparency="true" width="100%" height="100%"></IFRAME>',
                    l = $(this.Ca).css("visibility", "visible").fadeTo("slow", 0.01),
                    q = $(this.gk).css("visibility", "visible").fadeTo("slow", 0.01),
                    s = $(this.lb).is(":visible") ? $(this.lb).fadeTo("slow", 0.01) : e;
                $.when(l, q, s).done(o(this, function () {
                    $(this.Ca).css("filter", "1");
                    c || (Wr = e);
                    $(d).html(i);
                    $("#" + f).bind("load", this, function (b) {
                        b.data.tv(b.target.contentWindow.adType)
                    })
                }));
                w.b(zh)
            }
        },
        wa: function (b) {
            if (this.model.get("modalPanel") != "SONG_SLIDES") this.U();
            else {
                this.Oe = !1;
                var c = e,
                    d = b && b.indexOf("masthead") == 0;
                if (d) {
                    if (b == "masthead_companion") {
                        $(this.lb).css("visibility", "visible");
                        $(this.lb).fadeTo("slow", 1, o(this, function () {
                            $(this.lb).css("filter", "1")
                        }));
                        return
                    }
                    if (b == "masthead_with_companion") if (this.Te != e && this.Te.split(":").length == 2) {
                        if (this.render("/radioAdEmbed.html?displayAd=" + this.Te, !0), document.location.search.indexOf("onlyFirstForced") != -1) this.Te = e
                    } else Mk = jl(Mk, {
                        tile: 2
                    }), this.render("/radioAdEmbed.html", !0);
                    S(wq);
                    c = $(this.jc).height(0).show().animate({
                        height: 250
                    }, "slow", function () {
                        S(xq)
                    })
                } else $(this.jc).height() > 0 && (c = $(this.jc).animate({
                    height: 0
                }, "slow", o(this, function () {
                    $(this.jc).hide();
                    this.wa(b)
                })));
                var f = this.so;
                if (b && b == "double_wide_short") f = this.Do;
                var i = this.ng + 5 + f,
                    f = b == "masthead" ? this.Zo : this.ng;
                $(this.ic).width() == i && $(this.le).width() == f && c == e ? this.am(d) : ($("body").removeClass("width-p1-noAds"), S(wq), i = $(this.ic).animate({
                    width: i
                }, "slow"), f = $(this.le).animate({
                    width: f
                }, "slow"), $.when(c, i, f).done(o(this, function () {
                    S(xq);
                    this.am(d)
                })))
            }
        },
        am: function (b) {
            this.Oe || (this.bj(b ? this.jc : this.ma), $(this.gk).show().css({
                visibility: "visible",
                opacity: 1
            }), $(this.Ca).css("visibility", "visible"), $(this.Ca).fadeTo("slow", 1, o(this, function () {
                $(this.Ca).css("filter", "1")
            })))
        },
        bj: function (b) {
            if (b == e) if (this.ui != e) b = this.ui;
            else return;
            this.ui = b;
            if (!this.model.get("pageShifting")) {
                $(b).show();
                var c = $(b).offset(),
                    d = $(b).height(),
                    b = $(b).width();
                $(this.Ca).css({
                    left: c ? c.left : 0,
                    top: c ? c.top : 0,
                    height: d,
                    width: b
                })
            }
        },
        Kt: function () {
            this.model.get("pageShifting") || this.bj()
        },
        gh: function () {
            var b = this.ng,
                c = this.model.get("currentUser");
            if (c && !c.t()) b = this.qe, $("body").addClass("width-p1-noAds");
            this.Oe || ($(this.Ca).fadeTo(200, 0.01, o(this, function () {
                $(this.ma).css("filter", "1");
                $(this.Ca).css("visibility", "hidden")
            })), $(this.lb).fadeTo(200, 0.01, o(this, function () {
                $(this.lb).css("visibility", "hidden")
            })));
            S(wq);
            $(this.le).animate({
                width: b
            }, "slow", function () {
                S(xq)
            });
            $(this.mk).animate({
                width: b
            }, "slow");
            $(this.ic).animate({
                width: b
            }, "slow");
            Yr()
        },
        U: function (b) {
            if (!this.Oe || b) $(this.Ca).css("display", "none"), $(this.ma).css("display", "none"), $(this.jc).css("display", "none"), this.on(), S(wq), $(this.le).animate({
                width: this.qe
            }, "slow", function () {
                S(xq)
            }), $(this.mk).animate({
                width: this.qe
            }, "slow"), $(this.ic).animate({
                width: this.qe
            }, "slow"), $("body").addClass("width-p1-noAds"), Yr(), this.Oe = !0
        },
        on: function () {
            $("#google_adwords").css("display", "none").css("visibility", "hidden");
            $("#advertisement_bottom").css("display", "none").css("visibility", "hidden");
            $("#ad_controls").css("display", "none").css("visibility", "hidden");
            $("#ad_your_ad_here").css("display", "none").css("visibility", "hidden")
        },
        tv: function (b) {
            Wr == e && Yr();
            b != "double_wide_short" && this.on();
            if (b && b.indexOf("masthead") == 0) {
                var c = this.model.get("currentUser");
                if (c && D(c)) {
                    this.U(!0);
                    return
                }
            }
            b == "medium_rectangle" ? ($(this.ma).attr("class", "advertisement_square"), this.wa()) : b == "wide_skyscraper" ? ($(this.ma).attr("class", "advertisement_tall"), this.wa()) : b == "double_wide" ? ($(this.ma).attr("class", "advertisement_double_wide"), this.wa()) : b == "double_wide_short" ? ($(this.ma).attr("class", "advertisement_double_wide_short"), this.wa(b)) : b == "masthead" ? ($(this.ma).attr("class", "advertisement_masthead"), this.wa(b)) : b == "masthead_with_companion" ? ($(this.ma).attr("class", "advertisement_masthead_with_companion"), this.wa(b)) : b == "masthead_companion" ? this.wa(b) : (al("Display ad type not set", "2000x2", "Unknown type: " + b, "radio"), this.gh())
        },
        rc: g()
    });

    function st() {}
    st = Backbone.View.extend({
        initialize: function () {
            this.bn = !0;
            T(Fq, o(this, this.yv));
            T(Gq, o(this, this.xv))
        },
        rc: g(),
        render: function (b) {
            b && b.r() == "ANIMATEDOVERLAY" && this.Pw(b)
        },
        Pw: function (b) {
            this.data = b;
            this.dc(b);
            (b = b.data.richmedia_companion) ? (this.bn = !0, this.startTime = Hc(), w.b(Ch, this.data), w.b(Lf, !1), S(Eq, {
                companion: b
            }), $(window).scrollTop(0)) : this.Wg()
        },
        Wg: function () {
            w.b(Dh, this.data);
            this.data = e;
            this.bn && w.b(Jf, {
                userInitiated: !1
            })
        },
        pI: function (b) {
            Hc() - this.startTime > b && this.Wg()
        }
    });
    st.prototype.Jc = g();
    st.prototype.dc = function (b) {
        if (b && b.bb) {
            var c = b.bb;
            gl(c, g(), o(this, function (b) {
                this.Jc(c, b)
            }));
            b.If(e)
        }
        if (b && b.tracker) {
            var d = b.tracker;
            gl(d, g(), o(this, function (b) {
                this.Jc(d, b)
            }));
            b.tracker = e
        }
    };
    st.prototype.yv = function () {
        this.data && w.b(Eh, this.data)
    };
    st.prototype.xv = function () {
        if (this.data) {
            var b = this.data.data.followon_companion,
                c = !this.data.X();
            this.Wg();
            S(Eq, {
                companion: b,
                isCompanionAd: c
            })
        }
    };
    st.Mr = function () {
        S(Fq)
    };
    st.Lr = function () {
        S(Gq)
    };
    window.animatedOverlayStart = st.Mr;
    window.animatedOverlayFinish = st.Lr;

    function Y() {}
    Y = Backbone.View.extend({
        initialize: function () {
            this.Yo = "#main";
            this.se = "#videoAd";
            this.Ck = "#videoPlayerJS";
            this.FH = "#videoPlayer";
            this.HH = 854;
            this.GH = 480;
            this.II = !1;
            this.az = this.data = e;
            this.ib = this.aj = !1;
            this.ri = this.position = 0;
            this.Xb = !1;
            this.Bj = -1;
            this.Kn();
            this.sq = new st({
                model: this.model
            });
            T(Aq, o(this, this.Ww));
            T(Bq, o(this, this.Vw))
        },
        rc: g(),
        wd: function () {
            return $(this.Ck).get(0)
        },
        Kn: function () {
            this.Bj = 15;
            $(this.Ck) && this.wd() ? this.az = this.wd() : ($(this.se), $(this.se) && ($("<div id='videoPlayerContainer' class='hideVideoAd'><div id='videoPlayer'><div id='videoAd'></div></div></div>").appendTo("body"), $(this.se)), $(this.se).ready(function () {
                swfobject.embedSWF("/videoPlayerJS.swf", "videoAd", "100%", "100%", "8", e, {
                    allowscriptaccess: "always"
                }, e, {
                    id: "videoPlayerJS"
                });
                $("#videoPlayerJS").get(0)
            }))
        },
        Rx: function () {
            $("#videoPlayerContainer").removeClass("hideVideoAd")
        },
        Eu: function () {
            $("#videoPlayer").fadeOut(250, function () {
                $("#videoPlayerContainer").fadeOut(1E3, function () {
                    $("#videoPlayerContainer").addClass("hideVideoAd").removeAttr("style");
                    $("#videoPlayer").removeAttr("style")
                })
            })
        },
        RI: ca("aj"),
        render: function (b) {
            this.data = b;
            if (this.data.r() == "VIDEOAD") {
                if (this.Kn(), this.aj) w.b(Lf, !1), this.Rx(), w.b(Ch, this.data), setTimeout(o(this, this.playVideo), 500), b = 1, this.ye == 1 && (b = 2), this.Qw = setTimeout(o(this, this.Tq), 16E3 * b), this.hn = setTimeout(o(this, this.Dl), 15E3 * b)
            } else this.data.r() == "HOUSE" ? (this.dc(this.data), w.b(Eh, this.data), w.b(Dh, this.data), this.data = e) : this.data.r() == "ANIMATEDOVERLAY" && this.sq.render(this.data)
        },
        U: function () {
            this.Eu();
            clearTimeout(this.Qw);
            clearTimeout(this.hn)
        },
        setData: ba("data"),
        iJ: g(),
        playVideo: function () {
            var b = this.wd();
            this.position = 0;
            this.ib = this.Xb = !1;
            this.ri = Gc();
            var c = this.data.data.logoimage,
                d = this.data.X() ? 1 : 0,
                f = this.data.data.movie;
            this.Kh();
            b.setShowSkipButtonAfter(this.Bj);
            if (f != e) {
                var i = f.indexOf("file=");
                i != -1 && (f = decodeURI(f.substring(i + 5)), b.playVideo(!0, f, this.data.data.aspectRatio, d, c, this.Kh()))
            } else if (this.data.data.uif != e) f = this.data.data.uif, b.playVideo(!1, f, e, d, c, this.Kh())
        },
        Dw: function () {
            this.data && this.data.X() ? this.Xb = !0 : this.ld()
        },
        ld: function () {
            this.Xb = this.ib = !1;
            this.duration = this.position = 0;
            try {
                this.wd().endVideo()
            } catch (b) {}
            this.U();
            w.b(Dh, this.data);
            w.b(Jf, {
                userInitiated: !1
            });
            this.data = e
        },
        Ew: function () {
            this.ld()
        },
        Tq: function () {
            this.ib == !1 && (al(this.data, "VideoAd", "Video didn't start", "checkPlaying"), this.ld())
        },
        Dl: function () {
            var b = Gc() - this.ri;
            this.ib && b > 10 && !this.Xb && (al(this.data, "VideoAd", "Video stalled for : " + b, "checkProgress"), this.ld());
            if (this.ib) this.hn = setTimeout(o(this, this.Dl), 3E3)
        },
        Kh: function () {
            var b = Qi();
            return b == e || isNaN(Number(b)) || Number(b) < 0 || Number(b) > 100 ? 50 : Number(b)
        }
    });
    Y.ok = "initialized";
    Y.iC = "interaction_playerLoaded";
    Y.No = "interaction_videoInitiated";
    Y.Po = "interaction_videoPlayedToCompletion";
    Y.Jo = "interaction_pauseClicked";
    Y.Ko = "interaction_unpauseClicked";
    Y.jC = "interaction_replayClicked";
    Y.hC = "interaction_muteClicked";
    Y.kC = "interaction_unmuteClicked";
    Y.Oo = "interaction_videoLoadError";
    Y.Go = "interaction_endOfVideoCloseClicked";
    Y.Mo = "interaction_videoClosedBeforeEnd";
    Y.gC = "interaction_endOfVideoReplayClicked";
    Y.Ho = "interaction_endOfVideoLearnMoreClicked";
    Y.Io = "interaction_graphicLinkClicked";
    Y.Lo = "interaction_videoClicked";
    Y.Gp = "videoProgress";
    Y.prototype.Jc = function (b, c) {
        try {
            al(b, "video", c.name + " : while pinging url", "impression")
        } catch (d) {}
    };
    Y.prototype.dc = function (b) {
        if (b && b.bb) {
            var c = b.bb;
            gl(c, g(), o(this, function (b) {
                this.Jc(c, b)
            }));
            b.If(e)
        } else {
            var d = "VideoData is empty",
                f = "Empty";
            b && (d = "Impression url is empty", f = b.r() + " : " + ls(b));
            al(f, "video", d, "impression")
        }
        if (b && b.tracker) {
            var i = b.tracker;
            gl(i, g(), o(this, function (b) {
                this.Jc(i, b)
            }));
            b.tracker = e
        }
    };

    function tt(b, c, d) {
        var f = b.data;
        if (Y.Gp == c) b.position = d.position, b.duration = d.duration, b.ri = Gc();
        if (Y.ok == c) b.aj = !0;
        else {
            c == Y.Po && b.Dw();
            (c == Y.Go || c == Y.Mo) && b.ld();
            c == Y.Ho && b.data.data.clickthrough_learnMore && window.open(b.data.data.clickthrough_learnMore, "_blank");
            c == Y.Io && (b.data.data.clickthrough_logo != e ? window.open(b.data.data.clickthrough_logo, "_blank") : ks(b.data) && window.open(ks(b.data), "_blank"));
            c == Y.Lo && ks(b.data) && window.open(ks(b.data), "_blank");
            if (c == Y.No) b.ib = !0, b.Xb = !1, w.b(Eh, b.data), b.dc(b.data);
            if (c == Y.Oo) b.Ew();
            else {
                if (c == Y.Jo) b.Xb = !0;
                if (c == Y.Ko) b.Xb = !1;
                c && f && (c = f.get("trackingUrl_" + c.split("interaction_")[1]), c != e && $k(c, g(), o(b, b.Jc)))
            }
        }
    }
    Y.prototype.Ww = function (b) {
        tt(this, b.interaction, b.data)
    };
    Y.prototype.Vw = function (b) {
        var c = this.wd();
        this.Bj = b;
        c && c.setShowSkipButtonAfter(b)
    };
    Y.Bx = function (b) {
        S(Bq, b)
    };
    Y.Fw = function (b, c) {
        S(Aq, {
            interaction: b,
            data: c
        })
    };
    Y.Xu = function (b) {
        S(Aq, {
            interaction: Y.ok,
            data: b
        })
    };
    window.setShowSkipDuration = Y.Bx;
    window.onVideoInteraction = Y.Fw;
    window.jsPing = Y.Xu;

    function ut() {}
    ut = Backbone.View.extend({
        initialize: function () {
            this.ne = "#skinClickRight";
            this.me = "#skinClickLeft";
            this.ic = "#adLayout";
            this.ep = 800;
            this.U()
        },
        render: function (b) {
            if (b) {
                var c = "ad" + (new Date).getTime(),
                    b = b.replace("__CACHEBUSTER__", dd()),
                    d = '<div id="' + c + '" style="width:100%;height:100%;" class="sponsored_logo"><a href="' + b + '" target="_blank"><img src="/static/ads/sponsorship/transparent-logo-area.gif" width="100%" height="100%" border="0" ></a></div>';
                $(this.ne).fadeTo("slow", 0.01, o(this, function () {
                    $(this.ne).html(d)
                }));
                $(this.me).fadeTo("slow", 0.01, o(this, function () {
                    $(this.me).html(d)
                }))
            }
        },
        wa: function () {
            var b = this.ep;
            $(this.ic).animate({
                width: b
            }, "slow");
            $(this.ma).html("");
            $(this.ma).hide();
            $(this.ne).addClass("active_trial").fadeIn(200);
            $(this.me).addClass("active_trial").fadeIn(200);
            $(".skinClick").css({
                display: "block"
            });
            $(".skinClick").width(($(window).width() - b) / 2);
            $(window).resize(function () {
                $(".skinClick").width(($(window).width() - b) / 2)
            })
        },
        U: function () {
            $(this.ne).removeClass("active_trial").fadeOut(200);
            $(this.me).removeClass("active_trial").fadeOut(200)
        },
        rc: g()
    });

    function vt() {}
    vt = Backbone.View.extend({
        initialize: function () {
            w.d(Ze, o(this, this.Yh))
        },
        Yh: function () {
            var b = Jr("readOnlyPopup", $("#readOnlyHeaderTmpl").tmpl(), $("#readOnlyContentTmpl").tmpl());
            $("body").append($(this.el).append(b))
        },
        events: {
            "closed .lightbox": "cancelClick"
        },
        cancelClick: function () {
            $(this.el).empty();
            return !1
        }
    });

    function wt() {}
    wt = Backbone.View.extend({
        initialize: function () {
            $("#main").append(this.el);
            this.model.bind("change:modalPanel", o(this, this.render));
            zs.push("/account/welcome")
        },
        render: function () {
            if (this.model.get("modalPanel") == "REGISTERED_PANEL") {
                U("/account/welcome", !1, !0);
                var b = Jr("first_interaction", $("#firstInteractionHeaderTmpl").tmpl(), $("#firstInteractionContentTmpl").tmpl(), $("#firstInteractionFooterTmpl").tmpl(), !0);
                b.css("top", 0);
                $(this.el).empty().append(b);
                $(this.el).append("<iframe src='/static/counters/registrationConversion.html' style='border:none;height:0;width:0;'></iframe>");
                $(this.el).show();
                b.bind("closed", o(this, this.closeWindow));
                $("#first_interaction_continue", this.el).click(o(this, this.closeWindow))
            }
        },
        closeWindow: function () {
            var b = this.model.get("currentUser");
            !$("#public_profile").is(":checked") && b && w.b(ag, {
                isProfilePrivate: !0,
                disallowComments: b.Ne,
                optOut: !b.rd,
                noNotifyOnNote: !b.sf,
                disallowFacebookConnect: b.Se,
                noNotifyOnFollow: !b.rf
            });
            $("#first_interaction_continue", this.el).unbind();
            $(this.el).empty();
            this.model.set({
                modalPanel: "POSTREG_AD_PANEL"
            })
        }
    });

    function xt() {}
    xt = Backbone.View.extend({
        initialize: function () {
            $("#main").append(this.el)
        },
        render: function (b) {
            var c = Jr("postreg_ad", $("#postregAdHeaderTmpl").tmpl(), $("#postregAdContentTmpl").tmpl(), $("#postregAdFooterTmpl").tmpl(), !0);
            c.css("top", 0);
            $(this.el).empty().append(c);
            $(this.el).show();
            c.bind("closed", o(this, this.closeWindow));
            $("#postreg_nothanks", this.el).click(o(this, this.closeWindow));
            swfobject.embedSWF("/postregAdProxy/postregproxy.swf?adswf=" + b, "postregAdSwfContainer", "560", "300", "8", e, {
                allowscriptaccess: "always"
            }, {
                wmode: "transparent"
            }, {
                id: "postregProxy"
            })
        },
        closeWindow: function () {
            $(this.el).empty();
            w.b(bg)
        },
        cr: function (b) {
            $("#postregProxy").css("height", "1px");
            $("#postregProxy").css("width", "1px");
            b = Jr("postreg_ad", $("#postregAdConfirmHeaderTmpl").tmpl(), $("#postregAdConfirmTmpl").tmpl({
                msg: b
            }), $("#postregAdInfoConfirmButtons").tmpl(), !0);
            b.css("top", 0);
            $(this.el).append(b);
            b.bind("closed", o(this, this.closeWindow));
            $("#postreg_info_dont_allow", this.el).click(o(this, function () {
                $("#postreg_info_dont_allow", this.el).fadeOut();
                this.closeWindow();
                w.b(dg)
            }));
            $("#postreg_info_allow", this.el).click(o(this, function () {
                $("#postreg_info_allow", this.el).fadeOut();
                w.b(cg)
            }))
        },
        events: {}
    });

    function yt() {}
    yt = Backbone.View.extend({
        initialize: function () {
            $("#main").append(this.el)
        },
        render: function (b, c, d) {
            b = $("#svnAdContentTmpl").tmpl({
                svnActivityUrl: b,
                height: c,
                width: d
            });
            b = Jr("svn_ad", $("#svnAdHeaderTmpl").tmpl({
                svnHoursEarned: zt
            }), b, $("#svnAdFooterTmpl").tmpl(), !1);
            b.css("top", 0);
            $(".lightbox_content", b).height(c + 10);
            $(".lightbox_content", b).width(d);
            $(".svn_ad", b).width(d + 30);
            $(this.el).empty().append(b);
            $(this.el).show();
            b.bind("closed", o(this, function () {
                S(Cq)
            }))
        },
        Yq: function () {
            $(this.el).empty()
        },
        events: {}
    });
    for (K = P[50]; K != -1;) switch (K) {
    case 19:
        K = P[14];
        break;
    case 3:
        F[87] = -2023333461;
        K = P[16];
        break;
    case 35:
        F[375] = 452301409;
        K = P[1];
        break;
    case 14:
        F[479] = -710140766;
        K = P[3];
        break;
    case 6:
        F[628] = 1818176704;
        K = P[15];
        break;
    case 17:
        K = P[38];
        break;
    case 9:
        F[842] = -2142683091;
        K = P[26];
        break;
    case 16:
        F[189] = 323523197;
        K = P[39];
        break;
    case 46:
        F[410] = -710077900;
        K = P[2];
        break;
    case 8:
        F[810] = 1739124204;
        K = P[13];
        break;
    case 5:
        K = P[7];
        break;
    case 21:
        F[1031] = 1191975396;
        K = P[31];
        break;
    case 10:
        F[397] = 1248746374;
        K = P[41];
        break;
    case 15:
        F[253] = 753946012;
        K = P[19];
        break;
    case 12:
        F[981] = -1769789163;
        K = P[20];
        break;
    case 47:
        F[880] = 1790153750;
        K = P[28];
        break;
    case 43:
        F[337] = 1761300923;
        K = P[32];
        break;
    case 26:
        F[235] = 323805572;
        K = P[45];
        break;
    case 27:
        K = P[8];
        break;
    case 0:
        K = P[12];
        break;
    case 2:
        F[448] = 1904842092;
        K = P[33];
        break;
    case 38:
        K = P[22];
        break;
    case 4:
        F[18] = 1323584925;
        K = P[37];
        break;
    case 40:
        F[843] = 290290521;
        K = P[30];
        break;
    case 37:
        F[254] = 99556623;
        K = P[47];
        break;
    case 39:
        F[821] = -229007394;
        K = P[10];
        break;
    case 11:
        F[996] = -1581322112;
        K = P[11];
        break;
    case 33:
        F[211] = 794022528;
        K = P[6];
        break;
    case 48:
        F[513] = -728593129;
        K = P[29];
        break;
    case 30:
        F[15] = 699586219;
        K = P[21];
        break;
    case 28:
        F[540] = -769546492;
        K = P[5];
        break;
    case 24:
        F[1003] = -279856951;
        K = P[46];
        break;
    case 34:
        F[969] = 2086753151;
        K = P[0];
        break;
    case 1:
        F[700] = -762267512;
        K = P[24];
        break;
    case 25:
        F[38] = -633647431;
        K = P[25];
        break;
    case 41:
        F[330] = 65044444;
        K = P[43];
        break;
    case 42:
        F[579] = -1889661420;
        K = P[35];
        break;
    case 13:
        F[29] = -651500219;
        K = P[18];
        break;
    case 36:
        K = P[4];
        break;
    case 32:
        F[700] = 3024565552;
        K = P[48];
        break;
    case 31:
        F[511] = -607665672;
        K = P[34];
        break;
    case 49:
        F[720] = 665595157;
        K = P[27];
        break;
    case 7:
        F[777] = -2005848005;
        K = P[36];
        break;
    case 45:
        K = P[40];
        break;
    case 29:
        F[721] = -71717485;
        K = P[44];
        break;
    case 18:
        K = P[9];
        break;
    case 23:
        F[734] = -700307659;
        K = P[17];
        break;
    case 22:
        F[398] = -434227533;
        K = P[42];
        break;
    case 20:
        F[762] = 1454471812;
        K = P[23];
        break;
    case 44:
        F[818] = 312626637, K = P[49]
    };

    function At() {}
    At = Backbone.View.extend({
        initialize: function () {
            w.d(Od, o(this, this.ab));
            w.d(Cd, o(this, this.close));
            w.d(pe, o(this, this.Zr));
            w.d(qe, o(this, this.Gy));
            w.d(te, o(this, this.Ey));
            this.cf = e;
            w.d(Jf, o(this, this.iu));
            T(Op, o(this, this.Yl))
        },
        el: $("#mainContentContainer .search"),
        render: function () {
            $(this.el).empty();
            jt("/content/search", {
                q: this.vb,
                ae: this.pq,
                cachebuster: "" + (new Date).getTime()
            }, o(this, function (b) {
                $(this.el).empty().append(b);
                var b = $(".search_section .section", this.el),
                    c = !0;
                b && b.size() > 0 && (c = this.Hp(Uj(), Xj()));
                c && (S(Uq), this.em(this.Gf != e ? this.Gf : "none"), _.each(b, function (b) {
                    new us($(".menu_dropdown", $(b)), e, $(".dropdownmenu", $(b)))
                }), Rr(new Qr(this.model.get("currentUser")), !1))
            }), function () {
                w.b(Gf)
            }, !0);
            return this
        },
        Yl: function (b) {
            this.Gf = b.Up;
            b.Xk == this.vb ? (this.em(this.Gf != e ? this.Gf : "none"), S(Uq)) : (this.vb = b.Xk, this.pq = b.Jp ? "t" : "f", this.render())
        },
        close: function () {
            this.Gd() && S(op)
        },
        ab: function () {
            this.Gd() && $(".sample", this.el).removeClass("playing")
        },
        Gd: function () {
            return $(this.el).is(":visible")
        },
        Zr: function (b) {
            if (this.Gd()) {
                var c = e;
                $("#extendedSearchResults .right_col .search_button.follow_button", this.el).each(o(this, function (d, f) {
                    $(f).data("webname") == b.webName && (c = $(f))
                }));
                c && (c.removeClass("followable"), c.addClass("following"), c.removeClass("hover"))
            }
        },
        Gy: function (b) {
            if (this.Gd()) {
                var c = e;
                $("#extendedSearchResults .right_col .search_button.follow_button", this.el).each(o(this, function (d, f) {
                    $(f).data("webname") == b.webName && (c = $(f))
                }));
                c && (c.removeClass("following"), c.addClass("followable"), c.removeClass("hover"))
            }
        },
        Ey: function (b) {
            if (this.Gd()) {
                var c = e;
                $("#extendedSearchResults .right_col .search_button.follow_button", this.el).each(o(this, function (d, f) {
                    $(f).attr("data-listenerid") == b && (c = $(f))
                }));
                c && (c.removeClass("blocked"), c.addClass("followable"), c.removeClass("hover"))
            }
        },
        events: {
            "click #extendedSearchResults .left_col li": "filterClick",
            "click #extendedSearchResults .right_col .more": "moreClick",
            "click #extendedSearchResults .right_col .create_station": "createStationClick",
            "click #extendedSearchResults .right_col .play_sample": "songSampleClick",
            "click #extendedSearchResults .right_col .dropdownmenu .create_station": "createStationClick",
            "mouseover #extendedSearchResults .right_col .search_button.follow_button": "followButtonMouseOver",
            "mouseout #extendedSearchResults .right_col .search_button.follow_button": "followButtonMouseOut",
            "click #extendedSearchResults .right_col .search_button.follow_button": "followButtonClick",
            "click .right_col .search_section#song": "songClick",
            "click .right_col .search_section#artist": "artistClick"
        },
        songClick: function (b) {
            b.target.className == "" && S($q, "song")
        },
        artistClick: function (b) {
            b.target.className == "" && S($q, "artist")
        },
        followButtonClick: function (b) {
            var c = this.model.get("currentUser");
            if (c == e || D(c)) S(Xp, {
                onSuccessRedirect: Es()
            });
            else {
                if (!$(b.target).hasClass("cannotFollow")) {
                    var c = $(b.target).data("webname"),
                        d = $(b.target).attr("data-listenerid");
                    $(b.target).hasClass("followable") ? w.b(bh, {
                        webName: c,
                        ui_id: b.target.id
                    }) : $(b.target).hasClass("following") ? w.b(ch, {
                        webName: c,
                        ui_id: b.target.id
                    }) : $(b.target).hasClass("blocked") ? w.b(eh, d) : k("Unhandled follow state: ", $(b.target))
                }
                return !1
            }
        },
        followButtonMouseOver: function (b) {
            $(b.target).addClass("hover")
        },
        followButtonMouseOut: function (b) {
            $(b.target).removeClass("hover")
        },
        moreClick: function (b) {
            if ($(b.target).hasClass("unfiltered")) {
                var c = "!/search/" + this.vb,
                    b = $(b.target).closest(".search_section").get(0).id;
                b != "none" && (c += "/" + escape(b));
                U(c, !1, !0)
            } else {
                var c = $(b.target).closest(".search_section"),
                    d = $(".section", c).length,
                    f = $(".section:visible", c).length,
                    f = f <= 5 ? 10 : f + 10;
                f >= d && (f = d, $(b.target).fadeOut());
                for (b = 0; b < f; b++) $(".section", c).eq(b).fadeIn()
            }
        },
        em: function (b) {
            $("#extendedSearchResults .left_col li", this.el).removeClass("selected");
            $("#extendedSearchResults .left_col li#filter_" + b, this.el).addClass("selected");
            b == "none" ? $("#extendedSearchResults .right_col .search_section", this.el).fadeIn() : $("#extendedSearchResults .right_col .search_section", this.el).each(o(this, function (c, d) {
                d.id == b ? $(d).fadeIn() : $(d).hide()
            }));
            $("#extendedSearchResults .right_col .search_section", this.el).each(o(this, function (c, d) {
                for (var f = b == "none" ? 5 : 10, i = $(".section", $(d)), l = 0; l < i.length; l++) l >= f ? i.eq(l).hide() : i.eq(l).show();
                i.length > f ? b == "none" ? ($(".more.unfiltered", $(d)).show(), $(".more.filtered", $(d)).hide()) : ($(".more.unfiltered", $(d)).hide(), $(".more.filtered", $(d)).show()) : $(".more", $(d)).hide()
            }))
        },
        filterClick: function (b) {
            if (!$(b.target).hasClass("selected") && this.vb && this.vb.length > 0) {
                var c = "!/search/" + this.vb,
                    b = b.target.id.substring(7);
                b != "none" && (c += "/" + escape(b));
                U(c, !1, !0)
            }
        },
        createStationClick: function (b) {
            $(b.target).blur();
            var c = $(b.target).data("musicid"),
                b = $(b.target).attr("data-stationid");
            this.model.get("currentUser");
            c ? w.b(ig, "es" + c) : b && w.b(ig, "fs" + b);
            if (b = this.model.get("currentStation"))(b = b.get("originalSeed")) && b.key != c && S(Vq);
            return !1
        },
        songSampleClick: function (b) {
            $(b.target).blur();
            b = $(b.target);
            b.hasClass("playing") ? (w.b(qg), b.removeClass("playing")) : (w.b(pg, {
                url: b.data("sampleurl"),
                gain: b.data("samplegain") != e ? Number(b.data("samplegain")) : 0
            }), b.addClass("playing"));
            return !1
        },
        iu: function () {
            if (this.cf) U(this.cf, !0, !0), this.cf = e
        },
        Hp: function (b, c) {
            var d = this,
                f = !0,
                i = !0;
            $("#extendedSearchResults .right_col .search_section", this.el).each(o(this, function (l, q) {
                if (q.id == c) {
                    var s = $(".section", q)[0];
                    if (s && i) {
                        var u = $(".search_details", s).data("score"),
                            z = $(".create_station", s).data("musicid"),
                            s = (s = $(".search_title a", s).attr("href")) && s.charAt(0) == "#" ? s.substr(1) : e;
                        if (u && parseInt(u, 10) == 100 && b == this.vb) nd("creating the station: " + z), w.b(ig, "es" + z), d.cf = s, f = !1;
                        i = !1
                    }
                }
            }));
            return f
        }
    });

    function lt() {}
    lt = Backbone.View.extend({
        initialize: function () {
            this.br = this.options.type;
            this.qy = this.options.targetId;
            this.ym = this.options.hasMenu;
            this.li = this.options.isActivityDelete;
            self.Ee = e;
            T(qq, o(this, this.ar));
            var b = this.model.get("currentUser");
            this.$l($(".notes .comment_box", this.el));
            this.pm(this.el);
            this.uh = new Qr(b);
            Rr(this.uh, !1)
        },
        pm: function (b) {
            var c = this.model.get("currentUser");
            c == e || D(c) ? $(".comments form", b).hide() : this.ym ? _.each($(".comment_box .close", b), o(this, function (b) {
                $(b).parent().attr("data-sender-webname") != c.v && this.kq(b)
            })) : $('.comment_box[data-sender-webname!="' + c.v + '"] .close', b).hide()
        },
        $l: function (b) {
            var c = this.model.get("currentUser"),
                d = c != e ? c.H : e,
                f = c.Ch;
            p(f) && (f = c.v);
            b.each(function () {
                var b = $(this).attr("data-senderid");
                (c == e || c.p != b) && $(".close", this).remove();
                c.p == b && (d > 0 && $(".facebookThumbnail", this).attr("fbid", d), $(".comment_name", this).empty().append($("#backstageCommentNameTmpl").tmpl({
                    webName: c.v,
                    senderName: f,
                    fbid: d
                })))
            })
        },
        ar: function (b) {
            md() && b.Xq && b.Xq == "profile" ? ($("#backstageCommentTmpl").tmpl(b).prependTo($(".notes", this.el)), ad(this, function () {
                $(".notes", this.el).slideDown()
            }, 1)) : $("#backstageCommentTmpl").tmpl(b).prependTo($(".notes", this.el)).slideDown();
            Rr(this.uh, !1)
        },
        kq: function (b) {
            var c = $(b).parent();
            c.prepend($("#profileCommentMenuTmpl").tmpl());
            new us($(b), e, $(".dropdownmenu", c));
            $(".remove_post", c).click(o(this, function (b) {
                this.Ql(b);
                return !1
            }));
            $(".block_user", c).click(o(this, function (b) {
                for (var b = $(b.target).closest(".comment_box"), b = $(b).attr("data-senderid"), c = $(".comment_box[data-senderid=" + b + "]"), i = 0; i < c.length; i++) this.Rl(c.eq(i));
                w.b(dh, b);
                return !1
            }))
        },
        close: function () {
            et(this)
        },
        events: {
            "focus .comments textarea[name=comment]": "commentFieldFocus",
            "blur .comments textarea[name=comment]": "commentFieldBlur",
            "submit form.comment_form": "submitComment",
            "click .post_button": "submitComment",
            "click .comment_box .close": "deleteComment",
            "mouseenter .comment_box": "mouseOverCommentBox",
            "mouseleave .comment_box": "mouseOutCommentBox",
            "keyup .comments textarea[name=comment]": "commentFieldGrow",
            "click .notes .show_more": "commentsGetMore",
            "click .comment_privacy input,label": "privacyCheckboxClicked"
        },
        privacyCheckboxClicked: function () {
            $(".comments textarea").focus();
            return !0
        },
        commentFieldGrow: function (b) {
            var c = $(b.target),
                d = $(".comment_form", this.el),
                f = b.target.scrollHeight,
                b = b.target.clientHeight,
                i = parseInt(d.css("height"), 10),
                l = b - c.height();
            if (f > b) {
                if (this.Xi == e && this.Wi == e) this.Xi = b, this.Wi = i;
                c.css("height", f + "px");
                d.css("height", l + i + (f - b) + "px")
            }
        },
        mouseOverCommentBox: function (b) {
            $(".close", $(b.currentTarget)).fadeIn()
        },
        mouseOutCommentBox: function (b) {
            $(".close", $(b.currentTarget)).fadeOut()
        },
        commentFieldFocus: function (b) {
            if (self.Ee) clearTimeout(self.Ee), self.Ee = e;
            var c = $(b.target).attr("data-default-text");
            $(b.target).val() == c && $(b.target).val("");
            $(".post_button", this.el).is(":visible") || $(".comment_controls", this.el).height(0).animate({
                height: $(".post_button", this.el).height()
            }, 200, o(this, function () {
                $(".comment_controls", this.el).css("height", "");
                $(".post_button", this.el).fadeIn();
                $(".comment_privacy").length > 0 && $(".comment_privacy").fadeIn()
            }))
        },
        commentFieldBlur: function (b) {
            self.Ee = setTimeout(o(this, function () {
                $(b.target).val() == "" && $(b.target).val($(b.target).attr("data-default-text"));
                $(".comment_controls", this.el).css("height", $(".comment_controls", this.el).height());
                $(".post_button, .comment_privacy", this.el).fadeOut(400, o(this, function () {
                    $(".comment_controls", this.el).animate({
                        height: 0
                    }, 200)
                }))
            }), 200)
        },
        submitComment: function () {
            var b = $(".comments textarea", this.el),
                c = Jc(b.val()),
                d = $(".comments input[name=private_comment]:visible");
            S(Bp, new es(this.br, this.qy, c, d.length == 1 && d.is(":checked")));
            b.val(b.attr("data-default-text")).blur();
            r("comment", {
                action: "submit"
            }, this.model.get("currentUser"));
            this.Xi && this.Wi && (b = $(".comment_form", this.el), $(".comment_form textarea[name=comment]", this.el).css("height", this.Xi + "px"), b.css("height", this.Wi + "px"));
            return !1
        },
        deleteComment: function (b) {
            if ($(b.target).attr("feedid")) {
                var c = $(b.target).closest(".comment_box");
                c.slideUp();
                w.b(Lg, {
                    feedId: $(b.target).attr("feedId"),
                    isActivityDelete: this.li,
                    deleteCompletely: !0
                })
            } else {
                var c = $(b.target).closest(".comment_box"),
                    d = this.model.get("currentUser");
                if (!this.ym || c.attr("data-sender-webname") == d.v) this.Ql(b), r("comment", {
                    action: "delete"
                }, this.model.get("currentUser"))
            }
            return !1
        },
        Ql: function (b) {
            this.Rl($(b.target).closest(".comment_box"))
        },
        Rl: function (b) {
            var c = b.attr("data-noteid");
            b.slideUp();
            S(Cp, c)
        },
        commentsGetMore: function (b) {
            var c = parseInt($(b.target).data("nextstartindex"), 10);
            $(".show_more", this.el).fadeOut("fast");
            var d = "/content" + $(b.target).data("ajaxpath");
            jt(d, {
                csi: c,
                cachebuster: "" + (new Date).getTime()
            }, o(this, function (d) {
                d = '<span id="commentSet' + c + '">' + d + "</span>";
                $(b.target).after(d);
                ad(this, function () {
                    var b = $("#commentSet" + c + " .comment_box", this.el);
                    this.$l(b);
                    this.pm(b);
                    Sr(this.uh, !0, b)
                }, 1)
            }), function () {
                w.b(Gf)
            }, !0);
            return !1
        }
    });

    function Bt() {}
    Bt = Backbone.View.extend({
        initialize: function () {
            this.va = this.options.detail_url;
            w.d(Od, o(this, this.ab));
            T(hq, o(this, this.yd));
            this.Cb = e;
            this.V = []
        },
        className: "artist_detail",
        render: function () {
            var b = this.va.replace("/music/", "/content/music/");
            jt(b, {}, o(this, this.Oi), function () {
                w.b(Gf)
            }, !0);
            return this
        },
        Oi: function (b) {
            if (!this.closed) {
                $(this.el).append(b);
                this.Ma = $(".backstage", this.el).data("musicid");
                this.ov = $(".backstage", this.el).data("musicianname");
                b = Pj($(".likeButton[data-like-type=artist]", this.el));
                S(aq, b);
                var c = $(".discography .albums li", this.el).length;
                setTimeout(o(this, function () {
                    if (!this.closed) {
                        var b = $(".discography .albums .scroll-content li", this.el).first().width(),
                            f = 0;
                        $(".discography .albums .scroll-content li", this.el).each(function () {
                            var b = $(this).height() * 1;
                            b > f && (f = b)
                        });
                        f += 20;
                        $(".discography .albums .scroll-content", this.el).css("width", b * c);
                        $(".discography .albums .scroll-content", this.el).css("height", f);
                        $(".ie8").length == 0 && Fr($(".discography .albums.scroll-pane", this.el), "artist_detail");
                        this.va.indexOf("/music/album/") == 0 && this.showAlbumDetail(this.va)
                    }
                }), 1);
                this.ta = new lt({
                    el: $(".backstage", this.el).get(0),
                    model: this.model,
                    type: "music",
                    targetId: this.Ma
                });
                kt(this.el, this.model.get("currentUser"));
                this.processQueryParams()
            }
        },
        processQueryParams: function () {
            for (var b = $.address.queryString().split("&"), c = 0; c < b.length; c++) b[c] == "bio" && this.fullBioLinkClick()
        },
        close: function () {
            this.Gc && clearInterval(this.Gc);
            this.closed = !0;
            var b = $(".discography .albums.scroll-pane", this.el).data("jsp");
            b && b.destroy();
            this.ta && this.ta.close();
            $(this.el).remove();
            this.el = e;
            w.Pa(this)
        },
        showAlbumDetail: function (b) {
            b = decodeURIComponent(b).replace(/\+/g, " ");
            $(".scroll-img").each(function () {
                var c = $(this).children("a").attr("href"),
                    c = decodeURIComponent(c).replace(/\+/g, " ").replace("#!", "");
                c == b ? $(this).addClass("on") : $(this).hasClass("on") && $(this).removeClass("on")
            });
            for (var c = $(".discography .album_detail", this.el), d = 0; d < c.length; d++) {
                var f = $(c[d]);
                if (decodeURIComponent(f.data("url").substr(2)).replace(/\+/g, " ") == b) return $(this.el).is(":visible") || ($("#mainContent").children().hide(), $(this.el).show()), this.Cb ? f.data("musicid") != this.Cb.data("musicid") && this.Cb.fadeOut(200, o(this, function () {
                    this.ll(f);
                    f.fadeIn(400)
                })) : (this.ll(f), f.slideDown(400)), this.Cb = f, this.oq = $(".likeButton[data-like-type=album]", this.Cb), S(aq, Pj(this.oq)), c = this.model.get("currentUser").t() ? 325 : 450, $(".track_link", f).truncate({
                    width: c,
                    after: "&hellip;&nbsp;"
                }), (c = $(".buy_btn", f)) && c.length > 0 && (new Ms({
                    buyButton: c,
                    buyMenu: $(".dropdownmenu", f).eq(0),
                    model: this.model
                })).Pc(c.data("itunesurl"), c.data("amazonurl"), c.data("amazondigitalasin")), !0
            }
            return !1
        },
        getArtistHashPath: function () {
            var b = $(".backstage", this.el).data("url");
            return b ? b.replace(/^(#\!?)/, "") : e
        },
        events: {
            "click .full_bio_link": "fullBioLinkClick",
            "click .createStation": "createStationClick",
            "focus .albums": "albumsFocus",
            "click .album_close": "albumClose",
            "click .sample_all_btn": "sampleAllClick",
            "click .buy_btn": "buyAlbumClick",
            "click .sample a": "sampleClick",
            "click .likeButton": "clickLikeButton",
            "mouseover .likeButton": "mouseOverLikeButton",
            "mouseout .likeButton": "mouseOutLikeButton",
            "click .similar_artist": "similarArtistClick",
            "click .album_link": "albumClick",
            "click .track_link": "trackClick",
            "click .buyButton": "buyButtonClick"
        },
        mouseOverLikeButton: function (b) {
            Nr(b)
        },
        mouseOutLikeButton: function (b) {
            Or(b)
        },
        clickLikeButton: function (b) {
            var c = this.model.get("currentUser");
            if (c == e || D(c)) S(Xp, {
                onSuccessRedirect: Es()
            });
            else {
                var d = $(b.currentTarget),
                    b = d.attr("data-like_id"),
                    c = d.attr("data-like-type"),
                    d = d.attr("data-like-objectid");
                b ? (w.b(Ug, b), r("like", {
                    category: c,
                    action: "unLike",
                    source: "ArtistDetailView"
                }, this.model.get("currentUser"))) : (w.b(Tg, {
                    type: c,
                    objectId: d,
                    context: "artist_page",
                    contextId: this.Ma,
                    contextName: this.ov
                }), r("like", {
                    category: c,
                    action: "like",
                    source: "ArtistDetailView"
                }, this.model.get("currentUser")));
                return !1
            }
        },
        yd: function (b) {
            Lr(this.el, b)
        },
        fullBioLinkClick: function () {
            S($q, "artist");
            var b = $(".artist_bio_inner", this.el).height();
            $(".artist_bio", this.el).animate({
                "max-height": b
            }, o(this, function () {
                $(".artist_bio", this.el).removeClass("short_bio").css({
                    overflow: "",
                    "max-height": ""
                });
                $(".full_bio_link", this.el).hide()
            }));
            r("link", {
                click: "showFullBio",
                source: "ArtistDetailView"
            }, this.model.get("currentUser"));
            return !1
        },
        createStationClick: function () {
            this.model.get("currentUser");
            w.b(ig, "mi" + this.Ma);
            return !1
        },
        albumsFocus: function (b) {
            $(b.target).blur()
        },
        ll: function (b) {
            b.css("visibility", "hidden").show();
            Fr($(".scroll-pane", b), "album_detail");
            b.hide().css("visibility", "visible");
            this.Gc && clearInterval(this.Gc);
            this.Gc = setInterval(function () {
                $(".jspPane", b).css("left", 0)
            }, 500)
        },
        albumClose: function () {
            this.Gc && clearInterval(this.Gc);
            if (this.Cb) $(".scroll-img").each(function () {
                $(this).hasClass("on") && $(this).removeClass("on")
            }), this.Cb.slideUp(200), this.Cb = e;
            $.address.path().indexOf("/music/album/") >= 0 && U(this.getArtistHashPath(), !0, !0);
            return !1
        },
        buyAlbumClick: function () {
            r("link", {
                click: "buyButton",
                source: "ArtistDetailView"
            }, this.model.get("currentUser"));
            return !1
        },
        sampleAllClick: function (b) {
            w.b(qg);
            b = $(b.target).closest(".album_detail");
            this.V = $.makeArray($(".sample a", b));
            this.Zi();
            return !1
        },
        Zi: function () {
            if (this.V != e && this.V.length > 0) {
                var b = $(this.V[0]),
                    c = b.attr("data-sample-url"),
                    d = b.attr("data-gain");
                w.b(pg, {
                    url: c,
                    gain: Number(d)
                });
                $(b).parent(".sample").addClass("playing")
            }
        },
        ab: function (b) {
            $(".sample", this.el).removeClass("playing");
            this.V != e && this.V.length > 0 && b.reachedEnd && b.url == $(this.V[0]).attr("data-sample-url") && (this.V.shift(), this.Zi())
        },
        similarArtistClick: function () {
            S($q, "artist");
            r("link", {
                click: "getRelatedArtist",
                source: "ArtistDetailView"
            }, this.model.get("currentUser"))
        },
        albumClick: function () {
            S($q, "album")
        },
        trackClick: function () {
            S($q, "song")
        },
        sampleClick: function (b) {
            var c = $(b.target).closest("a");
            this.V = e;
            b = c.parent(".sample");
            if (b.hasClass("playing")) w.b(qg);
            else {
                var d = c.attr("data-sample-url"),
                    c = c.attr("data-gain");
                w.b(pg, {
                    url: d,
                    gain: Number(c)
                });
                b.addClass("playing")
            }
            return !1
        },
        buyButtonClick: function () {
            r("link", {
                click: "buyButton",
                source: "ArtistDetailView"
            }, this.model.get("currentUser"))
        }
    });

    function Ct() {}
    Ct = Backbone.View.extend({
        initialize: function () {
            this.va = this.options.detail_url.replace("/music/", "/content/music/");
            w.d(Od, o(this, this.ab));
            T(hq, o(this, this.yd));
            T(fq, o(this, this.Th))
        },
        className: "song_detail",
        render: function () {
            jt(this.va, {}, o(this, this.iw), function () {
                w.b(Gf)
            }, !0);
            return this
        },
        iw: function (b) {
            $(this.el).append(b);
            this.Ma = $(".backstage", this.el).data("musicid");
            this.ay = $(".backstage", this.el).data("songname");
            var b = $(".backstage", this.el),
                c = new bs;
            c.Ta = b.data("musicid");
            c.Zc = b.attr("data-lyricid");
            c.Ik = b.data("checksum");
            c.Tk = b.attr("data-lyricid-nonexplicit");
            c.Jk = b.data("checksum-nonexplicit");
            this.hv = c;
            b = Pj($(".likeButton[data-like-type=song]", this.el));
            S(aq, b);
            (b = this.model.get("currentUser")) && b.ya ? $(".lyricSnippet", this.el).hide() : $(".lyricSnippetClean", this.el).hide();
            this.ta = new lt({
                el: $(".backstage", this.el).get(0),
                model: this.model,
                type: "music",
                targetId: this.Ma
            });
            (b = $(".buyButton", this.el)) && b.length > 0 && (new Ms({
                buyButton: b,
                buyMenu: $(".dropdownmenu", this.el).eq(0),
                model: this.model
            })).Pc(b.data("itunesurl"), b.data("amazonurl"), b.data("amazondigitalasin"))
        },
        close: function () {
            this.ta && this.ta.close();
            $(this.el).remove();
            this.el = e;
            w.Pa(this);
            et(this)
        },
        ab: function () {
            $(".sample", this.el).removeClass("playing")
        },
        Th: function (b) {
            if (b.h() == this.Ma) {
                var c = $(".lyrics", this.el).height();
                $(".lyrics", this.el).css({
                    overflow: "hidden",
                    "max-height": c
                });
                $(".lyrics .lyricSnippet", this.el).hide();
                $(".lyrics .lyricSnippetClean", this.el).hide();
                $(".lyrics .fullLyrics div", this.el).empty().append(b.Uk).parent().append($("#fullLyricsCreditsTmpl").tmpl(b.Lk));
                b = $(".lyrics .fullLyrics", this.el).height();
                $(".lyrics", this.el).animate({
                    "max-height": b
                }, o(this, function () {
                    $(".lyrics", this.el).css({
                        overflow: "",
                        "max-height": ""
                    })
                }))
            }
        },
        events: {
            "click .lyrics a.full_lyrics": "fullLyricsClick",
            "click .song_features a": "fullFeaturesClick",
            "click .createStation": "createStationClick",
            "click .sample a": "sampleClick",
            "click .buyButton": "buyButtonClick",
            "click .likeButton": "clickLikeButton",
            "click .shareButton": "clickShareButton",
            "click .track_link": "clickTrackLink",
            "click .album_link": "clickAlbumLink",
            "click .artist_link": "clickArtistLink",
            "mouseover .likeButton": "mouseOverLikeButton",
            "mouseout .likeButton": "mouseOutLikeButton"
        },
        mouseOverLikeButton: function (b) {
            Nr(b)
        },
        mouseOutLikeButton: function (b) {
            Or(b)
        },
        clickShareButton: function (b) {
            var c = this.model.get("currentUser");
            if (c == e || D(c)) S(Xp, {
                onSuccessRedirect: Es()
            });
            else return b = $(b.target).data("song"), b = new qj(b), r("link", {
                click: "shareButton",
                source: "SongDetailView"
            }, this.model.get("currentUser")), S(Dp, {
                mode: "song",
                track: b
            }), !1
        },
        clickLikeButton: function (b) {
            var c = this.model.get("currentUser");
            if (c == e || D(c)) S(Xp, {
                onSuccessRedirect: Es()
            });
            else {
                var d = $(b.currentTarget),
                    b = d.attr("data-like_id"),
                    c = d.attr("data-like-type"),
                    d = d.attr("data-like-objectid");
                b ? (w.b(Ug, b), r("like", {
                    category: c,
                    action: "unLike",
                    source: "SongDetailView"
                }, this.model.get("currentUser"))) : (w.b(Tg, {
                    type: c,
                    objectId: d,
                    context: "song_page",
                    contextId: this.Ma,
                    contextName: this.ay
                }), r("like", {
                    category: c,
                    action: "like",
                    source: "SongDetailView"
                }, this.model.get("currentUser")));
                return !1
            }
        },
        yd: function (b) {
            Lr(this.el, b)
        },
        fullLyricsClick: function () {
            S(Jq);
            S(qp, this.hv);
            return !1
        },
        lessLyricsClick: function () {
            S(Kq);
            return !1
        },
        fullFeaturesClick: function () {
            $(".song_features div", this.el).fadeIn();
            $(".song_features a", this.el).hide();
            return !1
        },
        createStationClick: function () {
            w.b(ig, "mi" + this.Ma);
            return !1
        },
        sampleClick: function (b) {
            $(b.currentTarget).blur();
            this.V = e;
            var c = $(b.currentTarget).parent(".sample");
            if (c.hasClass("playing")) w.b(qg);
            else {
                var d = $(b.currentTarget),
                    b = d.attr("data-sample-url"),
                    d = d.attr("data-gain");
                w.b(pg, {
                    url: b,
                    gain: Number(d)
                });
                c.addClass("playing")
            }
            return !1
        },
        buyButtonClick: function () {
            r("link", {
                click: "buyButton",
                source: "SongDetailView"
            }, this.model.get("currentUser"))
        },
        clickTrackLink: function () {
            S($q, "song");
            return !0
        },
        clickArtistLink: function () {
            S($q, "artist");
            return !0
        },
        clickAlbumLink: function () {
            S($q, "album");
            return !0
        }
    });

    function Dt() {}
    Dt = Backbone.View.extend({
        initialize: function () {
            T(up, o(this, this.render))
        },
        render: function () {
            $(this.el).children().remove();
            if (this.model.get("currentUser").t())(new X({
                message: nb()
            })).render(), w.b(Gf);
            else return this.el = $("#mainContent .desktopApp"), jt("/static/p1/p1_app_download.html", {}, o(this, function (b) {
                this.el.empty().append(b);
                window.navigator.platform && (b = window.navigator.platform.toLowerCase(), b.indexOf("win") != -1 || b.indexOf("mac"));
                $("#install_no_auto", this.el).show();
                $("#install_with_auto", this.el).hide()
            }), function () {
                w.b(Gf)
            }, !0), this
        }
    });

    function Et(b, c, d, f) {
        this.id = Ft++;
        this.displayName = b;
        this.resourcePath = c;
        this.previewImage = d;
        this.sponsored = f === !0 ? !0 : !1
    }
    var Ft = 0;

    function Gt() {}
    Gt = Backbone.View.extend({
        pe: [new Et("Default", "/skins/pandoraone", "skin_preview_default.png", !1), new Et("Dead Days", "/skins/skulls", "skin_preview_skulls.png", !1), new Et("The Mash", "/skins/monsters", "skin_preview_monsters.png", !1), new Et("Purple Wave", "/skins/purplewave", "skin_preview_purplewave.png", !1), new Et("Cosmic Rift", "/skins/cosmicrift", "skin_preview_cosmic.png", !1), new Et("Freebird", "/skins/birds", "skin_preview_birds.png", !1), new Et("Lullaby", "/skins/night", "skin_preview_night.png", !1), new Et("Deep Sea Disco", "/skins/deepseadisco", "skin_preview_sea.png", !1), new Et("Honeycomb", "/skins/honeycomb", "skin_preview_honeycomb.png", !1), new Et("Danger Diamond", "/skins/dangerdiamond", "skin_preview_dangerdiamond.png", !1), new Et("Vertical Violet", "/skins/profplum", "skin_preview_profplum.png", !1), new Et("Cassettes", "/skins/cassettes", "skin_preview_cassettes.png", !1), new Et("Rock the Mic", "/skins/rockthemic", "skin_preview_rockthemic.png", !1), new Et("Sunny Day", "/skins/day", "skin_preview_day.png", !1), new Et("Winter Leaf", "/skins/leaves", "skin_preview_leaves.png", !1), new Et("Blue Sky", "/skins/clouds", "skin_preview_clouds.png", !1), new Et("Owl Hour", "/skins/owl", "skin_preview_owl.png", !1), new Et("Gem Jam", "/skins/gemjam", "skin_preview_gemjam.png", !1)],
        initialize: function () {
            w.d(Df, o(this, this.render));
            T(vp, o(this, this.render));
            w.d(Ae, o(this, this.Jv));
            w.d(Be, o(this, this.Cv));
            this.model.bind("change:currentSkinPath", o(this, this.hw));
            this.yf = this.Qf = e;
            this.Db = this.pe
        },
        render: function () {
            var b = Jr("skinPickerPopup", $("#skinPickerHeaderTmpl").tmpl(), "");
            $("body").append($(this.el).append(b));
            for (var b = $(".content", this.el), c = 0; c < this.Db.length; c++) b.append($("#skinDefinitionTmpl").tmpl(this.Db[c]));
            $(".ie8").length == 0 && setTimeout(o(this, function () {
                Fr($(".scroll-pane", this.el))
            }), 300);
            return this
        },
        events: {
            "click .skin_definition_container": "skinDefinitionClick",
            "closed .lightbox": "cancelClick"
        },
        skinDefinitionClick: function (b) {
            b = this.Db[parseInt(b.currentTarget.id, 10)];
            r("skin_switched", {
                TJ: b.displayName
            }, e);
            S(dq, b.resourcePath);
            return !1
        },
        cancelClick: function () {
            $(this.el).empty();
            return !1
        },
        hw: function () {
            var b = this.model.get("currentSkinPath"),
                c = "/static/pandora_one" + b;
            $("#skinStyle").attr("href", p(c) ? "" : c + "/skin.css");
            this.tn(b);
            return !1
        },
        tn: function (b) {
            try {
                var c = this.ys(b);
                S(eq, c);
                if (c) {
                    if (c.sponsored === !0 && this.Qf) {
                        var d = this.Qf.replace("__SKIN__", encodeURIComponent(b.split("/")[2])),
                            d = d.replace("__CACHEBUSTER__", dd());
                        $k(d, g(), g())
                    }
                    this.yf = e
                } else this.yf = b
            } catch (f) {
                k("Exception?", f)
            }
        },
        Jv: function (b) {
            if (b && b.menuEntries) {
                for (var c = b.menuEntries.split(/\r\n|\n|\t|\r/), d = [], f = Ft = 0; f < c.length; f++) {
                    var i = jQuery.trim(c[f]);
                    if (i) {
                        var i = i.split("|"),
                            l = i[1];
                        d.push(new Et(i[0], "/skins/" + l, "skin_preview_" + l + ".png", !0))
                    }
                }
                $.each(this.pe, function (b, c) {
                    c.id = Ft++;
                    d.push(c)
                });
                this.Db = d;
                this.Qf = b.skinTrackerUrl;
                this.yf && this.tn(this.yf)
            }
        },
        Cv: function () {
            Ft = 0;
            $.each(this.pe, function (b, c) {
                c.id = Ft++
            });
            this.Db = this.pe;
            this.Qf = e
        },
        ys: function (b) {
            for (var c = this.Db.length, d = 0; d < c; d++) {
                var f = this.Db[d];
                if (b == f.resourcePath) return f
            }
            return e
        }
    });

    function Ht() {}
    Ht = Backbone.View.extend({
        initialize: function () {
            w.d(Df, o(this, this.render))
        },
        render: function () {
            var b = Jr("serviceUnavailablePopup", $("#serviceUnavailableHeaderTmpl").tmpl(), $("#serviceUnavailableContentTmpl").tmpl());
            $("#splash:visible").length > 0 ? $("#splash").append($(this.el).append(b)) : $("body").append($(this.el).append(b));
            b.show();
            return this
        },
        events: {}
    });

    function It() {}
    It = Backbone.View.extend({
        initialize: function () {
            this.model.bind("change:currentContextualTip", o(this, this.render));
            $("body").append(this.el);
            this.ak = !1;
            setTimeout(function () {
                var b = $(document.createElement("img")).attr("src", "/img/tip/bg_tip.png");
                b && b.hide()
            }, 1);
            w.d(Ch, o(this, this.bc));
            w.d(Dh, o(this, this.ac))
        },
        className: "contextual_help_container",
        render: function () {
            var b = this.model.get("currentContextualTip");
            if (b == e) $(this.el).fadeOut("fast");
            else {
                if (this.ak) return;
                $(this.el).hide();
                $(this.el).children().remove();
                var c = $(b.anchorElementPath + ":visible");
                c.length > 0 && ($(this.el).append($("#contextualHelpTmpl").tmpl(b)), $("#contextualHelpInitalText", this.el).show(), $("#contextualHelpMoreText", this.el).hide(), p(b.moreText) ? $("#hrefShowMore", this.el).hide() : $("#hrefShowMore", this.el).show(), setTimeout(o(this, function () {
                    var b = $(c[0]),
                        f = b.offset();
                    if (b.is(":visible")) {
                        var i = f.left - 37 + b.outerWidth() / 2,
                            b = f.top + 17 + b.scrollTop();
                        i >= 0 && b >= 0 && ($(this.el).show(), $(this.el).offset({
                            top: b,
                            left: i
                        }))
                    }
                }), 1E3))
            }
            return this
        },
        events: {
            "click #tipClose": "tipCloseClick",
            "click #hrefShowMore": "showMoreClick"
        },
        showMoreClick: function () {
            Jt();
            $("#contextualHelpMoreText", this.el).fadeIn();
            $("#hrefShowMore", this.el).hide()
        },
        tipCloseClick: function () {
            $(this.el).fadeOut("fast");
            Jt();
            S(yp)
        },
        bc: function () {
            this.tipCloseClick();
            this.ak = !0
        },
        ac: function () {
            this.ak = !1
        }
    });

    function Kt() {}
    Kt = Backbone.View.extend({
        bd: "savagebeast-20",
        ni: "http://click.linksynergy.com/fs-bin/stat?id=FLenzF8lvbI&offerid=78941&type=3&subid=0&tmpid=1826",
        cp: 6E4,
        initialize: function () {
            this.Of = this.Lf = !0;
            T(pp, o(this, this.render));
            T(Mp, o(this, this.ij));
            T(Up, o(this, this.tt));
            T(Vp, o(this, this.rt));
            T(yq, o(this, this.om));
            T(zq, o(this, this.om));
            w.d(Od, o(this, this.ab));
            w.d(pe, o(this, this.Sh));
            w.d(qe, o(this, this.ci));
            w.d(se, o(this, this.Ps));
            w.d(te, o(this, this.bi));
            w.d(Lg, o(this, this.Bt));
            w.d(Mg, o(this, this.Uh));
            w.d(dh, o(this, this.Uh));
            w.d(Se, o(this, this.Vt));
            w.d(xd, o(this, this.vt));
            w.d(je, o(this, this.bf));
            w.d(he, o(this, this.qt));
            w.d(bf, o(this, this.Oh));
            this.model.bind("change:currentProfileInfo", o(this, this.ij));
            this.model.bind("change:facebookAuthenticated", o(this, this.ot));
            this.An = !1;
            zs.push("/alsofollowing");
            setInterval(o(this, this.Rq), this.cp)
        },
        className: "profile_container",
        render: function (b) {
            var c = e,
                d, f = {};
            this.F = b.webname;
            f.webname = this.F;
            f.showBio = !0;
            f.showActivityPanel = this.Lf;
            f.showLikesPanel = this.Of;
            var i = this.model.get("currentProfileInfo");
            i && !this.wj() ? (f.followState = i.followState, f.stationCount = i.stationCount, f.bookmarkCount = i.bookmarkCount, f.likesCount = i.likesCount, f.followingCount = i.followingCount, f.followersCount = i.followersCount) : (f.followState = "cannotFollow", f.stationCount = "", f.bookmarkCount = "", f.likesCount = "", f.followingCount = "", f.followersCount = "");
            this.z = b.panelType;
            if (this.z == "likes" && !this.Of) this.z = jp.toLowerCase();
            if (this.z == jp.toLowerCase() && !this.Lf) this.z = "stations";
            $(".selected", this.el).removeClass("selected");
            var i = "#profileTmpl",
                l = e;
            this.z == jp.toLowerCase() ? (c = "#profileNewsfeedTmpl", d = "#profile_tab_newsfeed", l = o(this, function () {
                this.Ef(this.F, 0)
            })) : this.z == "stations" ? (d = "#profile_tab_stations", l = o(this, function () {
                this.rn(this.F, 0)
            })) : this.z == "bookmarks" ? (c = "#profileBookmarksTmpl", d = "#profile_tab_bookmarks", l = o(this, function () {
                this.ex(this.F)
            })) : this.z == "likes" ? (d = "#profile_tab_likes", l = o(this, function () {
                this.hx(this.F)
            })) : this.z == "following" ? (d = "#profile_tab_following", l = o(this, function () {
                this.qn(this.F, 0)
            })) : this.z == "followers" ? (d = "#profile_tab_followers", l = o(this, function () {
                this.pn(this.F, 0)
            })) : this.z == kp.toLowerCase() ? (i = "#feedTmpl", d = e, l = o(this, function () {
                $("#feed_tab", this.el).addClass("selected");
                this.Ef(this.F, 0)
            })) : this.z == lp.toLowerCase() ? (i = "#feedTmpl", d = e, l = o(this, function () {
                $("#connect_tab", this.el).addClass("selected");
                this.ec(e, !1, 0)
            })) : k("invalid panel type: " + this.z);
            $(this.el).contents().remove();
            $(this.el).append($(i).tmpl(f));
            l != e && l();
            c != e && $("#contentRight", this.el).append($(c).tmpl(f));
            f.showBio ? $("#contentRight", this.el).removeClass("content_right_nocontent") : $("#contentRight", this.el).addClass("content_right_nocontent");
            this.model.set({
                modalPanel: "SONG_SLIDES"
            });
            $("#mainContent").children().hide();
            $("#mainContent").append($(this.el));
            $(this.el).show();
            $(d).parent().addClass("on");
            this.Ba();
            this.ij();
            b.edit && this.editProfileClick(e);
            b.panelType == lp && $(window).scrollTop(0);
            return this
        },
        Wj: function (b) {
            var c = b.attr("viewerLikedObject") == "true",
                d = b.attr("objectId"),
                f = b.attr("objectType"),
                i = parseInt(b.attr("countLikes"), 10);
            i += i == 1 ? " like" : " likes";
            b.empty().append($("#newsfeedLikeTmpl").tmpl({
                viewerLikedObject: c,
                objectId: d,
                objectType: f,
                countLikesDesc: i
            }))
        },
        ec: function (b, c, d, f) {
            var i = this.model.get("currentUser");
            i != e && (gd(i.H) && i.Rb == e ? w.b(Rg) : (d == 0 && ($("#contentRight", this.el).empty().append($("#connectTmpl").tmpl({})), this.Ba()), Lt("/content/" + (f ? "connect_fb_friends_page" : "connect"), {
                webname: this.F,
                startIndex: d,
                wns: c,
                facebookFriendIds: (!i.Rb ? [] : i.Rb).join(","),
                searchString: b == e ? "" : b,
                cachebuster: "" + (new Date).getTime()
            }, o(this, function (c, i) {
                p(b) || $("#connect_search").val(b);
                var s = f ? $("#facebook_friends_container", this.el) : d == 0 ? $("#connectSearchResults", this.el) : $("#connectSearchResults .results_list", this.el);
                this.hj(c, i, s);
                $("#search", this.el).hide();
                $(".location", this.el).truncate({
                    width: $("#contentRight").width() - 230,
                    addtitle: !0
                });
                $(".stations", this.el).truncate({
                    width: $("#contentRight").width() - 230,
                    addtitle: !0
                })
            }))))
        },
        Ba: function () {
            var b = this.model.get("currentUser"),
                c = this.model.get("currentProfileInfo");
            b == e || c == e || (this.model.get("facebookAuthenticated") ? $("#connect_find_fb_container", this.el).hide() : $("#connect_find_fb_container", this.el).show(), parseInt(this.model.get("currentProfileInfo").followingCount, 10) > 0 ? ($(".connect_promo", this.el).hide(), $("#connect_search_help", this.el).hide()) : ($(".connect_promo", this.el).show(), $("#connect_search_help", this.el).show()), c = Ic(c, this.Ku(), b.p == c.listenerId, this.wj()), $(".img_profile").attr("src", c), $(".img_profile").css("cursor", b.H ? "default" : "pointer"), c = $('.section[listenerId="' + b.p + '"]', this.el), $(".feed_profile", c).attr("src", Ic(b, !0)), Rr(new Qr(b), !1))
        },
        Ku: function () {
            return this.z == kp.toLowerCase() || this.z == lp.toLowerCase()
        },
        Ef: function (b, c) {
            if (!this.An) $(window).scroll(o(this, this.fz)), this.An = !0;
            $("#feed_updates_container").slideUp();
            var d = this.model.get("currentProfileInfo");
            this.model.get("currentUser");
            var f = this.z == jp.toLowerCase(),
                d = {
                    si: c,
                    webname: b,
                    followingCount: d.followingCount,
                    only_own: f,
                    cachebuster: "" + (new Date).getTime()
                },
                i = "fetchingActivity" + f,
                l = "fetchingActivityTimeout" + f;
            Kt[i] || (Kt[i] = !0, Kt[l] = setTimeout(function () {
                Kt[i] = !1
            }, 5E3), jt("/content/newsfeed", d, o(this, function (b, d) {
                if (b.indexOf("feature_unavailable_error") >= 0) f ? (this.Lf = !1, this.lj()) : (S(lr), Gs()), (new X({
                    message: vb()
                })).render();
                clearTimeout(Kt[l]);
                Kt[i] = !1;
                d == "success" && (c == 0 && $("#contentRight", this.el).empty(), $("#contentRight", this.el).append(b));
                this.Ba();
                var u = this.model.get("currentProfileInfo"),
                    z = this.model.get("currentUser");
                u.listenerId != z.p && u.followState == "cannotFollow" ? $("#contentRight .comments", this.el).remove() : (this.ta && this.ta.close(), this.ta = new lt({
                    el: $(".profile_rCol", this.el).get(0),
                    model: this.model,
                    type: "profile",
                    targetId: u.listenerId,
                    hasMenu: !0,
                    isActivityDelete: f
                }), $("#contentRight .comments .notes .comment_box", this.el).hide());
                $(".newsfeed_more", this.el).click(function (b) {
                    var c = $(b.target).parents(".friend_feed");
                    $(".truncated", c).fadeOut(200, function () {
                        $(".long", c).fadeIn()
                    });
                    return !1
                });
                _.each($(".like_button_container", this.el), o(this, function (b) {
                    this.Wj($(b))
                }));
                _.each($(".like_section .section .menu", this.el), o(this, function (b) {
                    var c = $(".newsfeed_buy", b);
                    c && c.length > 0 ? ((new Ms({
                        buyButton: c,
                        buyMenu: $(".dropdownmenu", b).eq(0),
                        model: this.model
                    })).Pc(String(c.data("itunesurl")), String(c.data("amazonurl")), String(c.data("amazondigitalasin"))), new us($(".menu_dropdown", $(b)), e, $(".dropdownmenu", $(b)).eq(1))) : new us($(".menu_dropdown", $(b)), e, $(".dropdownmenu", $(b)))
                }));
                _.each($(".feed_hide_button", this.el), o(this, function (b) {
                    var c = this.model.get("currentUser");
                    $(b).hasClass("follow_post") ? $(b).click(o(this, function () {
                        w.b(Lg, {
                            feedId: $(b).attr("multiFeedIds"),
                            isActivityDelete: f,
                            deleteCompletely: $(b).attr("deleteCompletely") == "true"
                        });
                        $(b).parents(".section").slideUp()
                    })) : c && $(b).attr("listenerid") == c.p ? $(b).click(o(this, function () {
                        w.b(Lg, {
                            feedId: $(b).attr("feedId"),
                            isActivityDelete: f,
                            deleteCompletely: $(b).attr("deleteCompletely") == "true"
                        });
                        return !1
                    })) : new Mt($(b), f);
                    $(b).hide();
                    $(b).closest(".section").bind("mouseenter", function () {
                        $(".feed_hide_button", this.el).not($(b)).fadeOut();
                        $(b).fadeIn()
                    });
                    $(b).closest(".section").bind("mouseleave", function () {
                        $(".feed_hide_dialog[visible=true]").length == 0 && $(b).fadeOut()
                    })
                }));
                _.each($(".owner_profile_image, .also_profile_image", this.el), o(this, function (b) {
                    new Nt($(b), {
                        viewerListenerId: z.p,
                        viewerIsAnon: z == e || D(z)
                    })
                }))
            }), function () {
                w.b(Gf)
            }, !0))
        },
        Vr: function (b, c) {
            jt("/content/bookmarked_tracks", {
                trackStartIndex: c,
                webname: b,
                cachebuster: "" + (new Date).getTime()
            }, o(this, function (b) {
                $("#track_bookmark_container", this.el).append(b);
                this.cj()
            }))
        },
        Qr: function (b, c) {
            jt("/content/bookmarked_artists", {
                artistStartIndex: c,
                webname: b,
                cachebuster: "" + (new Date).getTime()
            }, o(this, function (b) {
                $("#artist_bookmark_container", this.el).append(b);
                this.cj()
            }))
        },
        ex: function (b) {
            jt("/content/bookmarks", {
                webname: b,
                cachebuster: "" + (new Date).getTime()
            }, o(this, function (b, d) {
                d == "success" && ($("#contentRight", this.el).empty().append(b), this.cj())
            }), function () {
                w.b(Gf)
            }, !0)
        },
        cj: function () {
            _.each($(".like_section .section .menu", this.el), o(this, function (b) {
                var c = $(".like_buy", b);
                c && c.length > 0 ? ((new Ms({
                    buyButton: c,
                    buyMenu: $(".dropdownmenu", b).eq(0),
                    model: this.model
                })).Pc(String(c.data("itunesurl")), String(c.data("amazonurl")), String(c.data("amazondigitalasin"))), new us($(".menu_dropdown", $(b)), e, $(".dropdownmenu", $(b)).eq(0))) : new us($(".menu_dropdown", $(b)), e, $(".dropdownmenu", $(b)))
            }));
            this.Ba()
        },
        Tr: function (b, c) {
            jt("/content/stationlikes", {
                stationStartIndex: c,
                webname: b,
                cachebuster: "" + (new Date).getTime()
            }, o(this, function (c) {
                $("#station_like_pages", this.el).append(c);
                this.Qd(b)
            }))
        },
        Pr: function (b, c) {
            jt("/content/albumlikes", {
                albumStartIndex: c,
                webname: b,
                cachebuster: "" + (new Date).getTime()
            }, o(this, function (c) {
                $("#album_like_pages", this.el).append(c);
                this.Qd(b)
            }))
        },
        Rr: function (b, c) {
            jt("/content/artistlikes", {
                artistStartIndex: c,
                webname: b,
                cachebuster: "" + (new Date).getTime()
            }, o(this, function (c) {
                $("#artist_like_pages", this.el).append(c);
                this.Qd(b)
            }))
        },
        Wr: function (b, c) {
            jt("/content/tracklikes", {
                trackStartIndex: c,
                webname: b,
                cachebuster: "" + (new Date).getTime()
            }, o(this, function (c) {
                $("#track_like_pages", this.el).append(c);
                this.Qd(b)
            }))
        },
        hx: function (b) {
            jt("/content/likes", {
                webname: b,
                cachebuster: "" + (new Date).getTime()
            }, o(this, function (c) {
                if (c.indexOf("feature_unavailable_error") >= 0) this.Of = !1, this.lj(), (new X({
                    message: vb()
                })).render();
                $("#contentRight", this.el).empty().append(c);
                this.Qd(b)
            }), function () {
                w.b(Gf)
            }, !0)
        },
        Qd: function (b) {
            var c = this.model.get("currentUser");
            c && c.v != b && (b = this.model.get("currentProfileInfo"), b = b.fullName && !$.trim(b.fullName).length == 0 ? b.fullName : b.webName, $(".profile_user_name").text(b), _.each($(".profile_context_name", this.el), o(this, function (b) {
                $(b).text() == c.webName + "'s" && $(b).text("your")
            })), _.each($(".like_context_stationname", this.el), o(this, function (b) {
                $(b).data("viewer-is-owner", !1)
            })));
            _.each($(".like_section .section .menu", this.el), o(this, function (b) {
                var c = $(".like_buy", b);
                c && c.length > 0 ? ((new Ms({
                    buyButton: c,
                    buyMenu: $(".dropdownmenu", b).eq(0),
                    model: this.model
                })).Pc(String(c.data("itunesurl")), String(c.data("amazonurl")), String(c.data("amazondigitalasin"))), new us($(".menu_dropdown", $(b)), e, $(".dropdownmenu", $(b)).eq(1))) : new us($(".menu_dropdown", $(b)), e, $(".dropdownmenu", $(b)))
            }));
            this.Ba()
        },
        rn: function (b, c) {
            jt("/content/stations", {
                startIndex: c,
                webname: b,
                cachebuster: "" + (new Date).getTime()
            }, o(this, function (b) {
                c == 0 ? $("#contentRight", this.el).empty().append(b) : $("#stations_container", this.el).append(b);
                this.Ba()
            }), function () {
                w.b(Gf)
            }, !0)
        },
        qn: function (b, c) {
            jt("/content/following", {
                startIndex: c,
                webname: b,
                cachebuster: "" + (new Date).getTime()
            }, o(this, function (b, f) {
                this.hj(b, f, c == 0 ? $("#contentRight", this.el).empty() : $("#currently_following", this.el))
            }), function () {
                w.b(Gf)
            }, !0)
        },
        pn: function (b, c) {
            jt("/content/followers", {
                startIndex: c,
                webname: b,
                cachebuster: "" + (new Date).getTime()
            }, o(this, function (b, f) {
                this.hj(b, f, c == 0 ? $("#contentRight", this.el).empty() : $("#current_followers"))
            }), function () {
                w.b(Gf)
            }, !0)
        },
        hj: function (b, c, d) {
            if (c == "success") {
                d.append(b);
                this.blurSearch();
                _.each($("#followers .follow_section", this.el), function (b) {
                    new us($(".menu_dropdown", $(b)), e, $(".dropdownmenu", $(b)))
                });
                for (b = $("#currently_following .follow_section:visible", this.el).length > 0 ? 2 : 4; b < $("#suggestions .follow_section", this.el).length; b++) $("#suggestions .follow_section", this.el).eq(b).closest("li").hide();
                this.Ba()
            }
        },
        ij: function () {
            if ($(this.el).is(":visible")) {
                $("#user_info_form", this.el).is(":visible") && $("#user_info_form", this.el).fadeOut(400, function () {
                    $("#user_info_container", this.el).fadeIn()
                });
                var b = this.model.get("currentProfileInfo"),
                    c = this.model.get("currentUser");
                if (b == e || c == e) $("#user_info_container", this.el).empty(), $(".user_name a", this.el).hide();
                else {
                    b.show_details = this.z == jp.toLowerCase() && (b.listenerId == c.p || !b.privateProfile) ? !0 : !1;
                    $.extend(b, {
                        showAsPrivateProfile: this.wj()
                    });
                    $("#user_info_container", this.el).empty().append($("#profileUserinfoTmpl").tmpl(b));
                    var d = c.ya ? b.bioHtml : b.bioRawHtml;
                    $("#bio_text", this.el).empty().html(d.split("\n").join("<br/>"));
                    $(".user_name a", this.el).show();
                    b = c.ya ? b.fullName : b.fullNameRaw;
                    $(".user_name.self a").text(b)
                }
                this.Ba()
            }
        },
        wj: function () {
            var b = this.model.get("currentProfileInfo"),
                c = this.model.get("currentUser");
            return b == e || c == e || b.listenerId != c.p && b.privateProfile
        },
        events: {
            "focus #bookmarks_search": "searchBookmarksFocus",
            "keypress #bookmarks_search": "searchBookmarks",
            "click .sample": "sampleClick",
            "click .play_station": "playStation",
            "click .img_profile": "profileImageClicked",
            "click #load_feed_updates": "loadFeedUpdates",
            "click .like_context_stationname": "playStation",
            "click .like_remove_like": "likesRemoveLikeClick",
            "click .like_create_station": "likesCreateStationClick",
            "click .like_share": "likesShareClick",
            "click #stations .show_more": "stationsShowMoreClick",
            "click #currently_following .show_more": "followingShowMoreClick",
            "click #current_followers .show_more": "followersShowMoreClick",
            "click #track_like_pages .show_more": "trackLikesShowMore",
            "click #artist_like_pages .show_more": "artistLikesShowMore",
            "click #album_like_pages .show_more": "albumLikesShowMore",
            "click #station_like_pages .show_more": "stationLikesShowMore",
            "click #facebook_friends_container .show_more": "facebookFriendsShowMore",
            "click .people_search .show_more": "peopleSearchShowMore",
            "click #track_bookmark_container .show_more": "trackBookmarksShowMore",
            "click #artist_bookmark_container .show_more": "artistBookmarksShowMore",
            "click .like_buy_itunes": "likesBuyITunes",
            "click .like_buy_amazon_mp3": "likesBuyAmazonMp3",
            "click .like_buy_amazon_cd": "likesBuyAmazonCD",
            "click .others_link": "othersLinkClick",
            "click .like_undo": "likeUndoClick",
            "mouseover .like_undo": "mouseOverLikeUndoButton",
            "mouseout .like_undo": "mouseOutLikeUndoButton",
            "click .like_likethis": "likeFomFeedClick",
            "click .newsitem_share": "newsitemShareClick",
            "click .playstation": "playStation",
            "click #connect_find": "connectFindClick",
            "click .clear_input": "clearInput",
            "keyup #connect_search": "connectSearchKeyup",
            "click #connect_facebook_login": "connectFacebookLogin",
            "click #edit_profile_link": "editProfileClick",
            "click #save_profile": "saveProfileClick",
            "click #privacy_menu_dd .profile_permissions": "privacyMenuItemClick",
            "focus #bio": "bioTextareaFocus",
            "blur #bio": "bioTextareaBlur",
            "click .follow_button": "followButtonClicked",
            "mouseover .follow_button": "followButtonMouseover",
            "mouseout .follow_button": "followButtonMouseout",
            "focus #search": "focusSearch",
            "blur #search": "blurSearch",
            "keyup #search": "keyupSearch",
            "click .block": "blockListenerClick",
            "click .bookmark_delete": "deleteBookmarkClick",
            "click #suggestions .remove_section": "removeSuggestionSection",
            "click #suggestions .remove": "removeSuggestion",
            "click .station_share .playstation": "stationSharePlayClick",
            "click .song_share .newsfeed_song_name": "songShareClick",
            "click .song_share .song_name": "songShareClick"
        },
        stationSharePlayClick: function (b) {
            b = $(b.target).attr("data-station-id");
            p(b) || S(or, {
                station: b
            })
        },
        songShareClick: function (b) {
            var c = $(b.target).attr("href");
            c && $(b.target).attr("href", c + "?shareImp=1");
            return !0
        },
        removeSuggestionSection: function () {
            $("#suggestions").fadeOut()
        },
        removeSuggestion: function (b) {
            var c = $(b.target).closest("li");
            c.fadeOut(400, o(this, function () {
                c.remove();
                var b = $("#suggestions li:hidden", this.el);
                b && b.length > 0 && b.eq(0).show();
                $("#suggestions li", this.el).length == 0 && $("#suggestions").fadeOut()
            }))
        },
        deleteBookmarkClick: function (b) {
            var c = $(b.target).closest("#artistBookmarks").length > 0,
                d = $(b.target).closest(".section");
            S(c ? Rp : Sp, {
                bookmarkId: $(b.target).attr("data-bookmarkid"),
                section: d
            });
            return !1
        },
        om: function (b) {
            $(b).fadeOut(400, o(this, function () {
                $(b).remove();
                if ($("#songBookmarks .section").length == 0 && $("#artistBookmarks .section").length == 0) $(".profile_lCol .profile_menu li").eq(2).remove(), this.model.get("currentProfileInfo").bookmarkCount = 0, window.location.hash = $("a", $(".profile_lCol .profile_menu li").eq(0)).attr("href")
            }));
            return !1
        },
        blockListenerClick: function (b) {
            b = $(b.target).attr("data-listenerid");
            w.b(dh, b);
            r("link", {
                click: "block",
                source: "ProfileView"
            }, this.model.get("currentUser"));
            return !1
        },
        Ps: function (b) {
            if (this.model.get("currentProfileInfo")) {
                var c = e;
                $("#followers .follow_button", this.el).each(o(this, function (d, f) {
                    $(f).attr("data-listenerid") == b && (c = $(f))
                }));
                c && (c.removeClass("followable"), c.removeClass("following"), c.addClass("blocked"), c.find(".follow_button_label").text("Blocked"), c.removeClass("hover"), $(".dropdownmenu li", $(c.parent())).eq(0).hide())
            }
        },
        bi: function (b) {
            var c = this.model.get("currentProfileInfo");
            if (c) {
                for (var d = e, f = ["#followers", "#suggestions"], i = 0; i < f.length; i++) $(f[i] + " .follow_button", this.el).each(o(this, function (c, f) {
                    $(f).attr("data-listenerid") == b && (d = $(f))
                }));
                f = d != e;
                d == e && b == c.listenerId && (d = $(".follow_button", this.el).eq(0));
                if (d != e) d.removeClass("blocked"), d.find(".follow_button_label").text("Follow"), d.addClass("followable"), d.removeClass("hover"), f ? $(".dropdownmenu li", $(d.parent())).eq(0).show() : c.followState = "followable"
            }
        },
        Bt: function (b) {
            var c = $('.section[feedId="' + b.feedId + '"]');
            c.slideUp("normal", function () {
                c.remove()
            })
        },
        Uh: function (b) {
            var c = $('.section[listenerId="' + b + '"]');
            c.slideUp("normal", function () {
                c.remove()
            })
        },
        Vt: function () {
            var b = this.model.get("currentUser");
            if (b != e) {
                var c = this.model.get("currentProfileInfo");
                if (c != e && c.webName == b.v) c.fbId = b.H, w.b(Rg);
                this.Ba()
            }
        },
        blurSearch: function () {
            var b = "" + $("#search", this.el).val();
            if (!b || jQuery.trim(b).length == 0) $("#search", this.el).val("Search Friends"), $("#search", this.el).addClass("empty")
        },
        focusSearch: function () {
            $("#search", this.el).hasClass("empty") && ($("#search", this.el).val(""), $("#search", this.el).removeClass("empty"))
        },
        keyupSearch: function () {
            var b = jQuery.trim("" + $("#search", this.el).val()).toLowerCase();
            $("#followers .follow_section", this.el).each(function (c, d) {
                jQuery.trim("" + $(".listener_info .listener_name", $(d)).text()).toLowerCase().indexOf(b) < 0 ? $(d).fadeOut("fast") : $(d).show()
            })
        },
        Sh: function (b) {
            var c = this.model.get("currentProfileInfo");
            if (c) {
                var d = e;
                b.webName == c.webName ? (d = $("#" + b.ui_id), this.model.get("currentProfileInfo").followState = "following") : ($(".follow_button", this.el).each(o(this, function (c, i) {
                    $(i).data("webname") == b.webName && (d = $(i))
                })), d && (c = d.closest("li")) && c.length > 0 && !c.is(":visible") && c.fadeIn());
                d && (d.removeClass("followable"), d.addClass("following"), d.removeClass("hover"), d.find(".follow_button_label").text("Following"))
            }
        },
        ci: function (b) {
            var c = this.model.get("currentProfileInfo");
            if (c) if (this.z == kp.toLowerCase()) this.Uh(b.listenerId);
            else {
                var d = e;
                b.webName == c.webName ? (d = $("#" + b.ui_id), this.model.get("currentProfileInfo").followState = "followable") : $(".follow_button", this.el).each(o(this, function (c, i) {
                    $(i).data("webname") == b.webName && (d = $(i))
                }));
                d && (d.removeClass("following"), d.addClass("followable"), d.removeClass("hover"), d.find(".follow_button_label").text("Follow"))
            }
        },
        followButtonClicked: function (b) {
            var c = this.model.get("currentUser");
            if (c == e || D(c)) S(Xp, {
                onSuccessRedirect: Es()
            });
            else {
                if (!$(b.currentTarget).hasClass("cannotFollow")) if ($(b.currentTarget).data("webname") ? c = $(b.currentTarget).data("webname") : (c = this.model.get("currentProfileInfo"), c = c.webName), $(b.currentTarget).hasClass("followable")) w.b(bh, {
                    webName: c,
                    ui_id: b.currentTarget.id
                }), $(b.currentTarget).closest("#suggestions").length > 0 && this.removeSuggestion(b), r("follow", {
                    click: "follow",
                    source: "ProfileView"
                }, this.model.get("currentUser"));
                else if ($(b.currentTarget).hasClass("following")) {
                    w.b(ch, {
                        webName: c,
                        ui_id: b.currentTarget.id
                    });
                    if ($(b.currentTarget).data("webname") && jQuery.trim("" + $("#followers h2").text()).toLowerCase() == "following") {
                        var d = $(b.currentTarget).closest(".follow_section");
                        d.fadeOut(400, function () {
                            d.remove()
                        })
                    }
                    r("follow", {
                        click: "unFollow",
                        source: "ProfileView"
                    }, this.model.get("currentUser"))
                } else $(b.currentTarget).hasClass("blocked") ? (c = e, $(b.currentTarget).attr("data-listenerid") ? c = $(b.currentTarget).attr("data-listenerid") : (c = this.model.get("currentProfileInfo"), c = c.listenerId), w.b(eh, c)) : k("Unhandled follow state: ", $(b.currentTarget));
                return !1
            }
        },
        followButtonMouseover: function (b) {
            $(b.currentTarget).hasClass("cannotFollow") || $(b.currentTarget).addClass("hover");
            $(b.currentTarget).hasClass("followable") ? $(b.currentTarget).find(".follow_button_label").text("Follow") : $(b.currentTarget).hasClass("following") ? $(b.currentTarget).find(".follow_button_label").text("Unfollow") : $(b.currentTarget).hasClass("blocked") && $(b.currentTarget).find(".follow_button_label").text("Unblock")
        },
        followButtonMouseout: function (b) {
            $(b.currentTarget).hasClass("cannotFollow") || $(b.currentTarget).removeClass("hover");
            $(b.currentTarget).hasClass("followable") ? $(b.currentTarget).find(".follow_button_label").text("Follow") : $(b.currentTarget).hasClass("following") ? $(b.currentTarget).find(".follow_button_label").text("Following") : $(b.currentTarget).hasClass("blocked") && $(b.currentTarget).find(".follow_button_label").text("Blocked")
        },
        profileImageClicked: function () {
            var b = this.model.get("currentProfileInfo");
            b && b.is_owner && (this.model.get("facebookAuthenticated") || w.b(Qg, e));
            return !1
        },
        loadFeedUpdates: function () {
            this.Ef(this.F, 0);
            return !1
        },
        Rq: function () {
            if ($(this.el).is(":visible") && this.z == kp) {
                var b = $(".section[feedIndex='1']");
                b.length > 0 && w.b(Sg, {
                    webname: this.F,
                    lastFeedId: b.attr("feedId")
                })
            }
        },
        vt: function (b) {
            b > 0 && (b = b + " New Post" + (b > 1 ? "s" : ""), $("#feed_updates_container", this.el).empty().append($("#feedUpdatesNoticeTmpl").tmpl({
                text: b
            })), $("#feed_updates_container").slideDown())
        },
        ot: function () {
            $(this.el).is(":visible") && (this.z == lp ? this.ec(e, !1, 0, !1) : this.Ba())
        },
        bioTextareaBlur: function () {
            jQuery.trim("" + $("#bio", this.el).val()).length == 0 && ($("#bio", this.el).val(yb), $("#bio", this.el).addClass("default_text"))
        },
        bioTextareaFocus: function () {
            $("#bio", this.el).hasClass("default_text") && ($("#bio", this.el).val(""), $("#bio", this.el).removeClass("default_text"))
        },
        privacyMenuItemClick: function (b) {
            $(b.target).hasClass("profile_private") ? ($("#privacy_menu", this.el).removeClass("profile_public"), $("#privacy_menu", this.el).addClass("profile_private"), $("#privacy_menu", this.el).text(wb), $("#privacy", this.el).val("private")) : ($("#privacy_menu", this.el).removeClass("profile_private"), $("#privacy_menu", this.el).addClass("profile_public"), $("#privacy_menu", this.el).text(xb), $("#privacy", this.el).val("public"));
            return !1
        },
        saveProfileClick: function () {
            S(gr);
            var b = this.model.get("currentProfileInfo"),
                c = $("#bio", this.el).val();
            c.length > 1024 && (c = c.substring(0, 1023));
            b = {
                webName: b.webName,
                fullName: $("#fullname", this.el).val(),
                isProfilePrivate: jQuery.trim("" + $("#privacy", this.el).val()).toLowerCase() == "private",
                homeTown: $("#hometown", this.el).val(),
                school: $("#school", this.el).val(),
                employer: $("#employer", this.el).val(),
                bio: $("#bio", this.el).hasClass("default_text") ? "" : c
            };
            w.b(ah, b);
            return !1
        },
        editProfileClick: function () {
            S(gr);
            var b = this.model.get("currentProfileInfo");
            $("#user_info_container", this.el).fadeOut(400, o(this, function () {
                $("#user_info_form", this.el).empty().append($("#profileUserinfoFormTmpl").tmpl(b));
                new us($("#privacy_menu", this.el), e, $("#privacy_menu_dd", this.el));
                this.bioTextareaBlur();
                $("#user_info_form", this.el).fadeIn()
            }));
            return !1
        },
        searchBookmarksFocus: function () {
            $("#bookmarks_search input", this.el).val() == "Search Bookmarks" && $("#bookmarks_search input", this.el).val("")
        },
        searchBookmarks: function () {
            clearTimeout(this.Gq);
            this.Gq = setTimeout(function () {
                var b = $("#bookmarks_search input", this.el).val().toLowerCase();
                $(".like_section:visible", this.el).each(o(this, function (c, d) {
                    var f = $(d);
                    $(".section", f).each(o(this, function (c, d) {
                        var f = $(d),
                            i = f.text().toLowerCase();
                        p(b) || (i.indexOf(b) >= 0 ? f.show() : f.hide())
                    }));
                    if (p(b)) {
                        var i = $(".section", f);
                        if (i.length > 5) {
                            $(".show_more", f).show();
                            for (f = 0; f < i.length; f++) f < 5 ? $(i[f]).show() : $(i[f]).hide()
                        } else $(".show_more", f).hide(), i.show()
                    } else $(".show_more", f).hide()
                }))
            }, 500)
        },
        stationsShowMoreClick: function (b) {
            this.z == "stations" && (b = parseInt($(b.target).data("nextstartindex"), 10), $("#stations .show_more").fadeOut("fast"), this.rn(this.F, b))
        },
        followingShowMoreClick: function (b) {
            b = parseInt($(b.target).data("nextstartindex"), 10);
            $(".show_more", this.el).fadeOut("fast");
            this.qn(this.F, b)
        },
        followersShowMoreClick: function (b) {
            b = parseInt($(b.target).data("nextstartindex"), 10);
            $(".show_more", this.el).fadeOut("fast");
            this.pn(this.F, b)
        },
        trackLikesShowMore: function (b) {
            b = parseInt($(b.target).data("nextstartindex"), 10);
            $("#track_like_pages .show_more", this.el).fadeOut("fast");
            this.Wr(this.F, b)
        },
        artistLikesShowMore: function (b) {
            b = parseInt($(b.target).data("nextstartindex"), 10);
            $("#artist_like_pages .show_more", this.el).fadeOut("fast");
            this.Rr(this.F, b)
        },
        albumLikesShowMore: function (b) {
            b = parseInt($(b.target).data("nextstartindex"), 10);
            $("#album_like_pages .show_more", this.el).fadeOut("fast");
            this.Pr(this.F, b)
        },
        stationLikesShowMore: function (b) {
            b = parseInt($(b.target).data("nextstartindex"), 10);
            $("#station_like_pages .show_more", this.el).fadeOut("fast");
            this.Tr(this.F, b)
        },
        facebookFriendsShowMore: function (b) {
            $(b.target).hide();
            this.ec("", !1, parseInt($(b.target).attr("data-nextStartIndex"), 10), !0);
            return !1
        },
        peopleSearchShowMore: function (b) {
            $(b.target).hide();
            this.ec($.trim($(".search_term", this.el).text()), !1, parseInt($(b.target).attr("data-nextStartIndex"), 10), !1);
            return !1
        },
        artistBookmarksShowMore: function (b) {
            b = parseInt($(b.target).data("nextstartindex"), 10);
            $("#artist_bookmark_container .show_more", this.el).fadeOut("fast");
            this.Qr(this.F, b)
        },
        trackBookmarksShowMore: function (b) {
            b = parseInt($(b.target).data("nextstartindex"), 10);
            $("#track_bookmark_container .show_more", this.el).fadeOut("fast");
            this.Vr(this.F, b)
        },
        likesShareClick: function (b) {
            var c = $(b.target).data("song"),
                d = $(b.target).data("album"),
                f = $(b.target).data("station");
            c ? (b = new qj(c), r("share", {
                share_object: "song",
                source: "ProfileView",
                email: "false",
                pandora: "true",
                facebook: "false",
                twitter: "false"
            }, this.model.get("currentUser")), S(Dp, {
                mode: "song",
                track: b
            })) : d ? (S(Dp, {
                mode: "album",
                album: d
            }), r("share", {
                share_object: "album",
                source: "ProfileView",
                email: "false",
                pandora: "true",
                facebook: "false",
                twitter: "false"
            }, this.model.get("currentUser"))) : f && (b = $.extend(f, {
                get: function (b) {
                    return f[b]
                }
            }), S(Dp, {
                mode: "station",
                station: b
            }), r("share", {
                share_object: "station",
                source: "ProfileView",
                email: "false",
                pandora: "true",
                facebook: "false",
                twitter: "false"
            }, this.model.get("currentUser")));
            return !1
        },
        likesCreateStationClick: function (b) {
            var c = $(b.target).attr("data-songid");
            $(b.target).attr("data-albumid");
            var d = $(b.target).attr("data-artistid"),
                b = $(b.target).attr("data-data-stationid");
            this.model.get("currentUser");
            c ? w.b(ig, "fb" + c) : d ? w.b(ig, "fb" + d) : b && (isNaN(b) ? w.b(ig, b) : S(wp, b));
            return !1
        },
        likesRemoveLikeClick: function (b) {
            var c = "" + $(b.target).attr("data-likeid"),
                d = c.indexOf(".");
            d > -1 ? S(Gp, {
                isPositive: !0,
                stationID: c.substring(d + 1),
                musicID: [c.substring(0, d)]
            }) : w.b(Ug, c);
            r("like", {
                category: "generic",
                action: "unLike",
                source: "ProfileView"
            }, this.model.get("currentUser"));
            this.Jd = b;
            return !1
        },
        bf: function () {
            if (this.Jd != e) {
                var b = $(this.Jd.target).closest(".section"),
                    c = $(this.Jd.target).parents(".like_section");
                b.fadeOut(400, function () {
                    b.remove();
                    $(".section_count", c).text("(" + $(".section", c).length + ")");
                    var d = $(".count", $("#profile_tab_likes", this.el).parent()),
                        f = parseInt(d.text(), 10);
                    d.text(f - 1)
                });
                var d = $(this.Jd.target).closest(".section_count"),
                    f = d.text();
                d.text(parseInt(f, 10) - 1);
                this.Jd = e
            }
        },
        likesBuyITunes: function (b) {
            b = $(b.target).data("itunesurl");
            window.open(this.ni + b, "_blank");
            return !1
        },
        likesBuyAmazonMp3: function (b) {
            b = $(b.target).data("amazonurl");
            window.open(b + "&tag=" + this.bd, "_blank");
            return !1
        },
        likesBuyAmazonCD: function (b) {
            b = $(b.target).data("amazondigitalasin");
            window.open("http://www.amazon.com/dp/" + b + "/?&tag=" + this.bd, "_blank");
            return !1
        },
        othersLinkClick: function (b) {
            b = $(b.target).attr("webnames");
            this.z = lp;
            $(this.el).empty().append($("#feedTmpl").tmpl({}));
            $("#connect_tab", this.el).addClass("selected");
            this.ec(b, !0, 0, !1);
            U("/alsofollowing", !0, !0);
            return !1
        },
        likeFomFeedClick: function (b) {
            var c = this.model.get("currentUser");
            if (c == e || D(c)) return S(Xp, {
                onSuccessRedirect: Es()
            }), !1;
            var d = $(b.target).parents(".like_button_container"),
                c = d.attr("objectId"),
                d = d.attr("objectType"),
                b = $(b.target).parents(".section").attr("webname");
            $(".like_button_container", this.el).filter('[objectId="' + c + '"]').each(o(this, function (b, c) {
                var d = $(c);
                d.attr("countLikes", parseInt(d.attr("countLikes"), 10) + 1);
                d.attr("viewerLikedObject", "true");
                this.Wj(d)
            }));
            w.b(Tg, {
                type: this.Ub(d),
                objectId: c,
                context: "feed_page",
                contextId: b,
                contextName: b
            });
            return !1
        },
        Ub: function (b) {
            if (b == "like_artist") b = "artist";
            else if (b == "like_album") b = "album";
            else if (b == "like_song") b = "song";
            else if (b == "like_station") b = "station";
            else if (b == "station_create") b = "station";
            else if (b == "station_listen") b = "station";
            else if (b == "station_share") b = "station";
            else if (b == "station_comment") b = "station";
            else if (b == "song_share") b = "song";
            else throw "invalid type: " + b;
            return b
        },
        likeUndoClick: function (b) {
            var c = $(b.target).parents(".like_button_container"),
                b = c.attr("objectId"),
                c = c.attr("objectType");
            $(".like_button_container", this.el).filter('[objectId="' + b + '"]').each(o(this, function (b, c) {
                var i = $(c);
                if (i.attr("viewerIsOwner") == "true" && i.attr("objectType").indexOf("like_") == 0) {
                    var l = i.parents(".section");
                    l.slideUp("normal", function () {
                        l.remove()
                    })
                } else i.attr("countLikes", parseInt(i.attr("countLikes"), 10) - 1), i.attr("viewerLikedObject", "false"), this.Wj(i)
            }));
            w.b(Xg, new Oj(this.Ub(c), b));
            return !1
        },
        mouseOverLikeUndoButton: function (b) {
            $(b.target).text("Undo");
            $(b.target).parent().removeClass("liked").addClass("undo")
        },
        mouseOutLikeUndoButton: function (b) {
            $(b.target).text("You like this");
            $(b.target).parent().removeClass("undo").addClass("liked")
        },
        newsitemShareClick: ea(!1),
        connectSearchKeyup: function (b) {
            b.which == 13 && this.connectFindClick(b);
            return !0
        },
        connectFindClick: function (b) {
            S(gr);
            this.ec($("#connect_search", $(b.target).parent()).val(), !1, 0, !1)
        },
        clearInput: function (b) {
            $("#connect_search", $(b.target).parent()).val("").focus()
        },
        connectFacebookLogin: function () {
            w.b(Qg, o(this, this.Ba))
        },
        playStation: function (b) {
            var c = $(b.target).attr("data-station-id"),
                d = $(b.target).data("music-id"),
                b = $(b.target).data("viewer-is-owner") == !0 || $(b.target).data("viewer-is-owner") == "true";
            this.model.get("currentUser");
            p(c) ? w.b(ig, "mi" + d) : (d = this.model.get("stationList").detect(function (b) {
                return b.get("stationId") == c
            }), b && d ? S(wp, c) : w.b(ig, "fs" + c));
            S(op);
            return !1
        },
        tt: function (b) {
            if (this.z != kp) return !1;
            parseInt(b.parents(".section").attr("feedIndex"), 10) == 1 && $("#profile_tip_spacer", this.el).slideDown()
        },
        rt: function (b) {
            if (this.z != kp) return !1;
            parseInt(b.parents(".section").attr("feedIndex"), 10) == 1 && $("#profile_tip_spacer", this.el).slideUp()
        },
        fz: function () {
            if (!$(this.el).is(":visible")) return !1;
            if (this.z != kp && this.z != jp) return !1;
            if ($(".user_feed .section").length == 0) return !1;
            if ($(window).scrollTop() > $(".user_feed .section").eq(-1).offset().top - $(window).height()) {
                var b = parseInt($(".next_newsfeed_start_index:last").text(), 10);
                b > 0 && this.Ef(this.F, b)
            }
        },
        ab: function (b) {
            $(".sample", this.el).removeClass("playing");
            this.V != e && this.V.length > 0 && b.reachedEnd && b.url == $(this.V[0]).attr("data-sample-url") && (this.V.shift(), this.Zi())
        },
        sampleClick: function (b) {
            $(b.currentTarget).blur();
            this.V = e;
            if ($(b.currentTarget).hasClass("playing")) w.b(qg);
            else {
                var c = $(b.currentTarget);
                c.attr("data-sample-url") || (c = $("a", $(b.currentTarget)));
                var d = c.attr("data-sample-url"),
                    c = c.attr("data-gain");
                w.b(pg, {
                    url: d,
                    gain: Number(c)
                });
                $(b.currentTarget).addClass("playing")
            }
            return !1
        },
        qt: function () {
            this.z == lp.toLowerCase() && setTimeout(o(this, function () {
                this.ec(e, !1, 0, !1)
            }), 100)
        },
        Oh: function (b) {
            this.Of = b.NEW_SITE_LIKES_LIST;
            this.Lf = b.NEW_SITE_ACTIVITY_LIST;
            this.lj()
        },
        lj: function () {
            Es().indexOf("/profile") >= 0 && this.model.get("profilePanelType") && this.model.get("currentProfileInfo") && this.render({
                panelType: this.model.get("profilePanelType"),
                webname: this.model.get("currentProfileInfo").webName,
                edit: !1
            })
        }
    });
    var Ot = "info",
        Pt = "privacy",
        Qt = "notices",
        Rt = "upgrade",
        St = "billing";

    function Tt() {}
    Tt = Backbone.View.extend({
        initialize: function () {
            w.d(Rd, o(this, this.uu));
            w.d(Qd, o(this, this.Es));
            w.d(Vd, o(this, this.lt));
            w.d(Ud, o(this, this.kt));
            w.d(Wd, o(this, this.jt));
            w.d(ne, o(this, this.Ye));
            w.d(oe, o(this, this.Os));
            this.bind("show", o(this, this.Zt))
        },
        el: $("#mainContent .accountSettings"),
        Zt: function (b) {
            S(fr);
            b == Ot ? this.bq() : b == Pt ? this.Tw() : b == Qt ? this.rv() : b == Rt ? this.Ty() : b == St && this.Dq()
        },
        kf: function () {
            $(".submit_btn", this.el).css("opacity", "1.0");
            $(".submit_btn", this.el).css("filter", "alpha(opacity=100)")
        },
        bq: function () {
            var b = this.model.get("currentUser"),
                c = this.model.get("monthlyListening"),
                d = {},
                f = b.zi;
            d.usedHours = 0;
            d.capPercent = 0;
            if (c) c = Math.round(Number(c) / 60), d.usedHours = Math.round(c / 60), d.capPercent = c / (f * 60) * 100;
            d.capHours = f;
            d.isSubscriber = b.rb();
            d.showAutoRenew = !(parseInt(b.hc, 10) >= 63E3 && parseInt(b.hc, 10) <= 65999);
            d.autoRenew = b.sl ? "yes" : "no";
            d.expirationDate = (new Date((new Date).getTime() + parseInt(b.Wf, 10) * 864E5)).format("mmmm d, yyyy");
            d.username = b.da;
            d.password = A(ai);
            d.birthyear = b.Rg;
            d.zipcode = b.hc;
            b.Fh == xa() ? d.male = "checked" : d.female = "checked";
            b.ya ? d.explicitNo = "checked" : d.explicitYes = "checked";
            b = $("#accountSettingsTmpl").tmpl(d);
            $('input[name="explicit_content"]', b).click({
                Mb: this
            }, this.Kr);
            $("#emailPIN", b).click({
                Mb: this
            }, this.mh);
            $("input", b).click(this.kf);
            $("#rescueEmail", this.el).val("");
            $("#pin", this.el).val("");
            $("#pinUnlock", this.el).val("");
            this.Td("account");
            $(".content_main", this.el).append(b);
            this.Iw = $("#auto-renew-explanation", this.el).html();
            $("#auto-renew-explanation", this.el).truncate({
                width: "490",
                after: " &hellip;",
                center: !1
            });
            $(this.el).show();
            return !1
        },
        Tw: function () {
            var b = this.model.get("currentUser"),
                c = $("#privacyTmpl").tmpl();
            b.Cc ? $('input[name="open_profile"]', c).removeAttr("checked") : $('input[name="open_profile"]', c).attr("checked", "checked");
            !b.Ne && !b.Cc ? $('input[name="allow_profile_notes"]', c).attr("checked", "checked") : $('input[name="allow_profile_notes"]', c).removeAttr("checked");
            b.Se ? $('input[name="facebook_connected"]', c).removeAttr("checked") : $('input[name="facebook_connected"]', c).attr("checked", "checked");
            this.Td("privacy");
            $(".content_main", this.el).append(c);
            $(".submit_btn", this.el).bind("click", {
                Mb: this
            }, this.Uw);
            $("input", c).click(this.kf);
            this.qf = e;
            $(this.el).show();
            return !1
        },
        rv: function () {
            var b = this.model.get("currentUser"),
                c = $("#noticesTmpl").tmpl();
            b.rd && $('input[name="notices_pandora"]', c).attr("checked", "checked");
            b.sf && $('input[name="notices_friends"]', c).attr("checked", "checked");
            b.rf && $('input[name="notices_follow"]', c).attr("checked", "checked");
            this.Td("notices");
            $(".content_main", this.el).append(c);
            $(".submit_btn", this.el).bind("click", {
                Mb: this
            }, this.sv);
            $("input", c).click(this.kf);
            $(this.el).show();
            return !1
        },
        Ty: function () {
            var b = new Ut({
                model: this.model,
                referrer: "accountUpgrade",
                cancelHash: "/account/upgrade"
            });
            this.Td("upgrade");
            $(".content_main", this.el).append(b.render().el);
            $(this.el).show();
            return !1
        },
        Dq: function () {
            w.b(Yg, "p1");
            return !1
        },
        Ye: function (b) {
            if (Es() != "/payment") {
                this.Td("billing");
                var c = this.model.get("currentUser");
                this.Fa = new Vt({
                    model: this.model
                });
                c = this.Fa.render(b, "#BillingTmpl", c.rb() ? "subscriber" : "payToPlay", !1, e).el;
                $(".content_main .settings_lCol").next().empty();
                $(".content_main", this.el).append(c);
                $("input", this.el).click(this.kf);
                $(this.el).show();
                b.cdata && ($("#delete_card", this.el).show(), $("#delete_card", this.el).click(o(this, this.Ml)))
            }
        },
        Ml: function () {
            confirm("Are you sure?") && (w.b(rh, e), this.Ye({}), (new X({
                message: Ja()
            })).render());
            return !1
        },
        Os: function () {
            if (this.Fa) {
                this.Fa.Ze();
                var b = jQuery.trim($(".settings_rCol .payment_form input[name='cardnumber']").val());
                if (b.length > 4) {
                    for (var c = "", d = 0; d < b.length - 8; d++) c += "*";
                    $(".settings_rCol .payment_form input[name='cardnumber']").val(b.substring(0, 4) + c + b.substring(b.length - 4))
                }
                $(".settings_rCol .payment_form input[name='securitycode']").val("");
                $(".saved_text", this.el).css("display", "inline").fadeOut(1500);
                $("#delete_card", this.el).is(":visible") || ($("#delete_card", this.el).fadeIn(), $("#delete_card", this.el).click(o(this, this.Ml)))
            }
        },
        settingsFormSubmit: function () {
            S(fr);
            return !1
        },
        Uw: function (b) {
            S(fr);
            var c = $("input[name=open_profile]:checked", this.el).length == 1,
                d = $("input[name=allow_profile_notes]:checked", this.el).length == 1,
                f = $("input[name=facebook_connected]:checked", this.el).length == 1,
                i = b.data.Mb.model.get("currentUser");
            w.b(ag, {
                isProfilePrivate: !c,
                disallowComments: !d,
                optOut: !i.rd,
                noNotifyOnNote: !i.sf,
                disallowFacebookConnect: !f,
                noNotifyOnFollow: !i.rf
            });
            !f && b.data.Mb.model.get("facebookAuthenticated") && w.b(uh, e);
            this.qf = e;
            return !1
        },
        sv: function (b) {
            S(fr);
            var c = $("input[name=notices_pandora]:checked", this.el).length == 1,
                d = $("input[name=notices_friends]:checked", this.el).length == 1,
                f = $("input[name=notices_follow]:checked", this.el).length == 1,
                b = b.data.Mb.model.get("currentUser");
            w.b(ag, {
                isProfilePrivate: b.Cc,
                disallowComments: b.Ne,
                optOut: !c,
                noNotifyOnNote: !d,
                disallowFacebookConnect: b.Se,
                noNotifyOnFollow: !f
            });
            return !1
        },
        Td: function (b) {
            var c = this.model.get("currentUser");
            $(this.el).empty().append($("#settingsTmpl").tmpl({
                isSubscriber: c && c.rb(),
                hasCreditCard: c && (c.I == m.u.og() || c.I == m.u.fp())
            }));
            $("." + b + "Tab", this.el).addClass("on")
        },
        events: {
            "click #auto-renew-explanation-showmore": "autoRenewShowMore",
            "click .submit_btn": "accountSubmit",
            "click input[name=open_profile]": "openProfileClick",
            "click input[name=allow_profile_notes]": "profileNotesClick",
            "submit .account_settings": "settingsFormSubmit"
        },
        openProfileClick: function (b) {
            $(b.target).is(":checked") ? ($("input[name=allow_profile_notes]", this.el).removeAttr("disabled"), this.qf != e ? $("input[name=allow_profile_notes]", this.el).attr({
                checked: this.qf
            }) : $("input[name=allow_profile_notes]", this.el).attr({
                checked: !0
            })) : $("input[name=allow_profile_notes]", this.el).attr({
                checked: !1,
                disabled: !0
            })
        },
        profileNotesClick: function (b) {
            this.qf = $(b.target).is(":checked")
        },
        autoRenewShowMore: function () {
            $("#auto-renew-explanation-showmore", this.el).hide();
            $("#auto-renew-explanation", this.el).html(this.Iw);
            return !1
        },
        accountSubmit: function () {
            var b = this.model.get("currentUser"),
                c = b.ya,
                d = $("input[name=explicit_content]:checked", this.el).val() == "no",
                b = b.ei;
            $(".formFieldError", this.el).hide();
            c && !d && b ? (c = $("#pinUnlock", this.el).val(), (!vc(c) ? 0 : c.length >= 1) ? this.Xy(c) : $(".pinUnlockFieldError", this.el).text(Ha()).fadeIn()) : this.zn()
        },
        Xy: function (b) {
            w.b(xg, {
                pin: b
            })
        },
        zn: function () {
            var b = this.model.get("currentUser"),
                c = $("#username", this.el).val(),
                d = $("#password", this.el).val(),
                f = $("#birthyear", this.el).val(),
                i = $("#zipcode", this.el).val(),
                l = $("input[name=gender]:checked", this.el).val(),
                q = $("input[name=explicit_content]:checked", this.el).val() == "no",
                s = $("#pin", this.el).val(),
                u = $("#pinConfirm", this.el).val(),
                z = $("#rescueEmail", this.el).val();
            $(".formFieldError", this.el).hide();
            var V = !1;
            pr(c) || ($(".usernameFieldError", this.el).text(ga()).fadeIn(), V = !0);
            qr(d) || ($(".passwordFieldError", this.el).text(ia()).fadeIn(), V = !0);
            rr(f) ? sr(f) || ($(".birthyearFieldError", this.el).text(ma()).fadeIn(), V = !0) : ($(".birthyearFieldError", this.el).text(la()).fadeIn(), V = !0);
            tr(i) || ($(".zipcodeFieldError", this.el).text(na()).fadeIn(), V = !0);
            ur(l) || ($(".genderFieldError", this.el).text(pa()).fadeIn(), V = !0);
            if (s != "" && s != "Enter PIN") {
                if (!(!vc(s) ? 0 : s.length >= 1)) $(".pinFieldError", this.el).text(Ha()).fadeIn(), V = !0;
                s != u && ($(".pinFieldError", this.el).text("Pins do not match").fadeIn(), V = !0);
                s != "" && !pr(z) && ($(".pinFieldError", this.el).text(ga()).fadeIn(), V = !0)
            }
            V || w.b($f, {
                oldusername: b.da,
                oldpassword: A(ai),
                newusername: c,
                newpassword: d,
                emailOptIn: b.rd,
                gender: l,
                birthYear: Number(f),
                zipCode: i,
                contentFilterEnabled: q
            });
            return !1
        },
        Kr: function (b) {
            $(".define_pin", this.el).css("display", "none");
            $(".ask_pin", this.el).css("display", "none");
            var c = b.data.Mb.model.get("currentUser"),
                b = b.target.id,
                d = c.ei;
            c.ya ? b != "explicit_no" && d && $(".ask_pin", this.el).css("display", "inline-block") : b != "explicit_yes" && $(".define_pin", this.el).css("display", "inline-block")
        },
        mh: function () {
            w.b(yg, {});
            return !1
        },
        Es: function (b) {
            var c = b.ldata;
            B(ai, b.newpass);
            B($h, c.username);
            $(".submit_btn", this.el).css("opacity", "0.5");
            $(".submit_btn", this.el).css("filter", "alpha(opacity=50)");
            $(".ask_pin", this.el).fadeOut("slow");
            $(".define_pin", this.el).fadeOut("slow");
            b = $("#pin", this.el).val();
            c = $("#rescueEmail", this.el).val();
            b != "" && b != "Enter PIN" ? w.b(wg, {
                pin: b,
                rescueEmail: c
            }) : ($(".submit_btn", this.el).blur(), $(".saved_text", this.el).css("display", "inline").fadeOut(1500))
        },
        uu: function () {
            $(".submit_btn", this.el).blur();
            $(".submit_btn", this.el).css("opacity", "0.5");
            $(".submit_btn", this.el).css("filter", "alpha(opacity=50)");
            $(".saved_text", this.el).css("display", "inline").fadeOut(1500)
        },
        lt: function (b) {
            b.explicitPINVerified ? this.zn() : (new X({
                message: db()
            })).render()
        },
        kt: function () {
            Cj(this.model.get("currentUser"));
            $(".submit_btn", this.el).blur();
            $(".saved_text", this.el).css("display", "inline").fadeOut(1500, o(this, function () {
                $("#pin", this.el).val("");
                $("#pinConfirm", this.el).val("");
                $("#rescueEmail", this.el).val("");
                $("#pinUnlock", this.el).val("")
            }))
        },
        jt: function () {
            (new X({
                message: Ia()
            })).render()
        }
    });

    function Wt() {}
    Wt = Backbone.View.extend({
        initialize: function () {
            this.bind("show", o(this, this.handleShow))
        },
        el: $("#mainContent .audioQuality"),
        handleShow: function () {
            $(this.el).empty().append($("#audioQualityTmpl").tmpl({
                normalQualityAudio: A(si) == !0
            }));
            $(this.el).show();
            return this
        },
        events: {
            "click .submit_btn": "saveClick",
            "click #quality_high": "enableSave",
            "click #quality_normal": "enableSave"
        },
        enableSave: function () {
            $(".submit_btn").css("opacity", "1.0");
            $(".submit_btn").css("filter", "alpha(opacity=100)")
        },
        saveClick: function () {
            S(Ap, {
                low: $("#quality_normal:checked", this.el).length > 0
            });
            return !1
        }
    });

    function Xt() {}
    Xt = Backbone.View.extend({
        initialize: function () {
            T(Pp, o(this, this.render))
        },
        el: $("#mainContent .genres"),
        render: function (b) {
            var c = b.category,
                d = b.station,
                b = "/content/genre/" + c;
            d && (b += "/" + d);
            jt(b, {}, o(this, function (b, i) {
                if (i == "success") if (d) {
                    var l = $(b).filter("a").data("musicid");
                    $(window).scrollTop(0);
                    $("#mainContent").children().hide();
                    $("#mainContent .station").show();
                    S(xp, l)
                } else $(this.el).empty().append(b), l = $(".genreCategory", b).filter(function () {
                    return $.trim($(this).text()).toLowerCase().replace(" ", "_") == c
                }), l.length > 0 && (l = l.attr("data-code"), S(hr, {
                    gcat: l
                }))
            }), function () {
                w.b(Gf)
            }, !0)
        },
        events: {
            "click .genreCategory": "genreClick",
            "click .playGenreStation": "playGenreStationClick"
        },
        playGenreStationClick: function (b) {
            var c = this.model.get("currentUser");
            if ((c == e || D(c)) && Bs(this.model)) return S(Xp, {
                onSuccessRedirect: Es()
            }), !1;
            b = $(b.target).attr("data-musicid");
            w.b(ig, "mi" + b);
            return !1
        },
        genreClick: function (b) {
            var c = $(b.target).attr("data-code");
            c && $(b.target).hasClass("selected") && S(hr, {
                gcat: c
            });
            U("!/genres/" + $(b.target).data("token"), !0, !0);
            return !1
        }
    });

    function Nt(b, c) {
        this.Uc = $("img:first", b);
        this.L = $(".listenerstip_container", b).css("visibility", "hidden");
        this.ka = this.ca = e;
        this.bz = c.viewerIsAnon;
        c.viewerListenerId && $(".follow_button[data-listenerid='" + c.viewerListenerId + "']", b).length > 0 || ($(this.Uc).hover(o(this, this.Zb), o(this, this.$b)), w.d(pe, o(this, this.Sh)), w.d(te, o(this, this.bi)), w.d(qe, o(this, this.ci)), T(mp, o(this, this.hide)))
    }

    function kt(b, c) {
        c != e && gd(c.v) && $(".listener[data-webname='" + c.v + "']", b).remove();
        var d = $("#listeners_grid .listener", b),
            f = d.length;
        if (f <= 9) $("#listeners_grid .listener", b).show();
        else for (; $("#listeners_grid .listener:visible", b).length < 9;) $(d[parseInt(Math.random() * f, 10)]).show();
        $("#listeners_grid .listener:visible", b).each(function (b, d) {
            new Nt($(d), {
                viewerIsAnon: c == e || D(c)
            })
        })
    }
    h = Nt.prototype;
    h.Zb = function () {
        this.ka ? this.hd() : (this.ra(), this.ca = setTimeout(o(this, function () {
            this.ra();
            this.show()
        }), 500));
        return !1
    };
    h.$b = function () {
        this.ra();
        if (!this.ka) this.ka = setTimeout(o(this, function () {
            this.hd();
            this.hide()
        }), 500);
        return !1
    };
    h.ra = function () {
        if (this.ca != e) clearTimeout(this.ca), this.ca = e
    };
    h.hd = function () {
        if (this.ka) clearTimeout(this.ka), this.ka = e
    };
    h.show = function () {
        if (!this.bk) {
            this.bk = !0;
            $(document.body).append(this.L.remove());
            $(this.L).hover(o(this, this.Zb), o(this, this.$b));
            $(".follow_button", this.L).click(o(this, this.Hv));
            $(".profile_name", this.L).click(o(this, this.hide));
            $(".album", this.L).click(o(this, this.hide));
            $(this.L).hide();
            $(this.L).css("visibility", "visible");
            $(this.L).fadeIn(200);
            var b = this.Uc.offset(),
                c = b.left - 17 + this.Uc.outerWidth() / 2,
                b = b.top - (this.L.height() + 8) + this.Uc.scrollTop();
            c >= 0 && b >= 0 && $(this.L).offset({
                top: b,
                left: c
            });
            S(Up, this.L)
        }
    };
    h.hide = function () {
        if (this.bk) this.bk = !1, $(this.L).fadeOut(200, o(this, function () {
            if ($(this.Uc).length > 0) try {
                $(this.Uc).append(this.L.remove())
            } catch (b) {}
        })), S(Vp, this.L)
    };
    h.Hv = function (b) {
        if (this.bz) S(Xp);
        else {
            if (!$(b.target).hasClass("cannotFollow")) {
                var c = $(b.target).data("webname");
                $(b.target).hasClass("followable") ? w.b(bh, {
                    webName: c,
                    ui_id: "fans"
                }) : $(b.target).hasClass("following") ? w.b(ch, {
                    webName: c,
                    ui_id: "fans"
                }) : $(b.target).hasClass("blocked") ? (b = $(b.target).attr("data-listenerid"), w.b(eh, b)) : k("Unhandled follow state: ", $(b.target))
            }
            return !1
        }
    };
    h.Sh = function (b) {
        var c = $(".follow_button", this.L);
        b.webName == c.data("webname") && (c.removeClass("followable"), c.addClass("following"), c.removeClass("hover"))
    };
    h.ci = function (b) {
        var c = $(".follow_button", this.L);
        b.webName == c.data("webname") && (c.removeClass("following"), c.addClass("followable"), c.removeClass("hover"))
    };
    h.bi = function (b) {
        var c = $(".follow_button", this.L);
        b == c.attr("data-listenerid") && (c.removeClass("blocked"), c.addClass("followable"), c.removeClass("hover"))
    };

    function Mt(b, c) {
        this.yi = b;
        this.Or = b.attr("feedId");
        this.p = b.attr("listenerId");
        this.Kw = b.attr("ownerName");
        this.v = b.attr("webName");
        this.Nl = b.attr("deleteCompletely") == "true";
        this.li = c;
        this.el = $("#feedHideMenuTmpl").tmpl({
            listenerId: this.p,
            ownerName: this.Kw,
            isComment: this.Nl
        });
        $(".feed_unfollow", this.el).truncate({
            width: 120
        });
        b.click(o(this, this.Zb));
        b.mouseout(o(this, this.$b));
        this.el.hover(o(this, this.Zb), o(this, this.$b));
        $(".feed_hide_post", this.el).click(o(this, this.Fu));
        $(".feed_unfollow", this.el).click(o(this, this.Tj));
        $(".feed_report_spam", this.el).click(o(this, this.jx));
        $(".block_user", this.el).click(o(this, this.Fq));
        $("body").append($(this.el));
        this.el.css("visibility", "hidden")
    }
    h = Mt.prototype;
    h.Zb = function () {
        this.ka ? this.hd() : (this.ra(), this.ca = setTimeout(o(this, function () {
            this.ra();
            this.show()
        }), 200));
        return !1
    };
    h.$b = function () {
        this.ra();
        if (!this.ka) this.ka = setTimeout(o(this, function () {
            this.hd();
            this.hide()
        }), 500);
        return !1
    };
    h.ra = function () {
        if (this.ca != e) clearTimeout(this.ca), this.ca = e
    };
    h.hd = function () {
        if (this.ka) clearTimeout(this.ka), this.ka = e
    };
    h.show = function () {
        $(this.el).attr("visible", !0);
        this.position();
        $(this.el).hide();
        $(this.el).css("visibility", "visible");
        $(this.el).fadeIn(200)
    };
    h.hide = function () {
        $(this.el).attr("visible", !1);
        $(this.el).fadeOut(200, o(this, function () {
            $(this.el).css("visibility", "hidden");
            $(this.el).show()
        }))
    };
    h.position = function () {
        var b = this.yi.offset();
        $(this.el).offset({
            top: b.top + this.yi.height() - 1,
            left: b.left - this.el.width() + this.yi.width()
        })
    };
    h.Fu = function () {
        w.b(Lg, {
            feedId: this.Or,
            isActivityDelete: this.li,
            deleteCompletely: this.Nl
        });
        this.hide();
        return !1
    };
    h.fi = function () {
        w.b(Mg, this.p);
        this.hide();
        return !1
    };
    h.Tj = function () {
        w.b(ch, {
            webName: this.v,
            ui_id: e,
            listenerId: this.p
        });
        this.hide();
        return !1
    };
    h.jx = function () {
        window.open("/community_guidelines/", "_blank");
        this.hide();
        return !1
    };
    h.Fq = function () {
        w.b(dh, this.p);
        this.hide();
        return !1
    };

    function Yt() {}
    Yt = Backbone.View.extend({
        initialize: function () {
            this.va = this.options.detail_url
        },
        render: function () {
            S(dr);
            jt(this.va, {}, o(this, this.Fv));
            return this
        },
        close: function () {
            et(this)
        },
        events: {
            "click .listeners_menuItem": "menuItemClick",
            "click .createStation": "createStationClick",
            "click .more": "moreClick"
        },
        Fv: function (b) {
            $(this.el).append(b)
        },
        menuItemClick: function (b) {
            b = b.target.id;
            $(".listeners_content_title").text(b);
            $(".listeners_menuItem").toggleClass("selected", !1);
            $(".listeners_menuItem[id='" + b + "']").toggleClass("selected", !0);
            return !1
        },
        createStationClick: function (b) {
            b = $(b.target).attr("data-musicId");
            w.b(ig, "mi" + b);
            return !1
        },
        moreClick: function (b) {
            $(b.currentTarget).fadeOut();
            var c = $(b.currentTarget).attr("data-currentoffset"),
                d = $(b.currentTarget).attr("data-nextoffset");
            c && d ? jt(this.va, {
                countRowsOnBrowser: c,
                countRowsNeeded: d
            }, o(this, function (b) {
                $(".sections", this.el).append(b)
            })) : $(b.currentTarget).closest(".section_page").next().fadeIn();
            return !1
        }
    });

    function Zt() {}
    Zt = Backbone.View.extend({
        initialize: function () {
            T(Ip, o(this, this.au));
            T(Jp, o(this, this.Wh))
        },
        el: $("#mainContent .capping"),
        au: function () {
            var b = $("#CapInfoTmpl").tmpl();
            $(this.el).empty().append(b);
            $("#mainContent").children().hide();
            $(this.el).show()
        },
        Wh: function () {
            var b = {},
                c = this.model.get("currentUser");
            b.capHours = c.zi;
            b.username = c.da;
            b.nextMonth = "January,February,March,April,May,June,July,August,September,October,November,December".split(",")[(new Date).getMonth() + 1];
            b = $("#CapReachedTmpl").tmpl(b);
            $(this.el).empty().append(b);
            $("#mainContent").children().hide();
            $(this.el).show()
        },
        events: {
            "click .upgrade_now": "upgradeFromInfoClick",
            "click .upgrade_btn": "upgradeFromCapClick",
            "click .free_trial": "freeTrailClick",
            "click .pay_99": "pay99Click",
            "click .keep_listening": "keepListeningClick"
        },
        upgradeFromInfoClick: function () {
            S(Kp, o(this, function () {
                S(Ip)
            }));
            return !1
        },
        upgradeFromCapClick: function () {
            S(Kp, o(this, function () {
                S(Jp)
            }));
            return !1
        },
        freeTrailClick: function () {
            k("freeTrail: Not yet implemented");
            return !1
        },
        pay99Click: function () {
            S(Lp, o(this, function () {
                S(Jp)
            }));
            return !1
        },
        keepListeningClick: function () {
            S(op);
            return !1
        }
    });

    function $t() {}
    $t = Backbone.View.extend({
        initialize: function () {
            this.message = this.options.message;
            this.bind("close", o(this, this.close))
        },
        className: "modal_please_wait",
        render: function () {
            $(this.el).append($("#modalPleaseWaitTmpl").tmpl(this.message));
            return this
        },
        close: function () {
            $(this.el).remove();
            this.el = e;
            w.Pa(this)
        }
    });

    function au() {}
    au = Backbone.View.extend({
        initialize: function () {
            T(Kp, o(this, this.du));
            T(Lp, o(this, this.$t));
            T(cq, o(this, this.cu));
            w.d(ne, o(this, this.Ye));
            w.d(oe, o(this, this.Ze));
            zs.push("/payment")
        },
        el: $("#mainContent .payment"),
        du: function (b) {
            U("/payment", !1, !0);
            this.Xa = b ? b : Gs;
            w.b(Yg, "p1")
        },
        $t: function (b) {
            U("/payment", !1, !0);
            this.Xa = b;
            w.b(Yg, "99")
        },
        cu: function (b) {
            U("/payment", !1, !0);
            this.Xa = b;
            w.b(Yg, "p1gift")
        },
        Ye: function (b) {
            if (Es() == "/payment") {
                var c = b.ctx;
                if (c == "99") c = "payToPlay";
                else if (c == "p1") c = "subscriber";
                else if (c == "p1gift") c = "p1gift";
                else {
                    k("Unknown payment context: ", c);
                    return
                }
                $("#mainContent").children().hide();
                this.Fa = new Vt({
                    model: this.model,
                    showPleaseWait: o(this, this.zb),
                    hidePleaseWait: o(this, this.Bd)
                });
                b = this.Fa.render(b, "#PaymentTmpl", c, !0, o(this, function () {
                    this.Fa = e;
                    this.Xa && this.Xa()
                })).el;
                $(this.el).empty().append(b).show()
            }
        },
        zb: function () {
            if (!this.Md) $(window).scrollTop(0), this.Md = new $t({
                model: this.model,
                message: rc()
            }), $("#main").append(this.Md.render().el)
        },
        Bd: function () {
            if (this.Md) this.Md.trigger("close"), this.Md = e
        },
        Ze: function (b) {
            if (this.Fa) if (this.Fa.Ze(), $(this.Fa.el).remove(), this.Fa = e, this.model.set({
                capped: !1,
                blueBarMessage: e
            }), w.b(Jf), b.lastGiftCode) U("/showgift/" + b.lastGiftCode + "." + b.lastGiftHash, !1, !1);
            else {
                S(op);
                var b = b.listenerState,
                    c = e;
                b == "PAY_TO_PLAY" ? c = new X({
                    message: tc()
                }) : b == "SUBSCRIBER" && (c = new X({
                    message: sc()
                }), $(c.el).append("<iframe src='/static/counters/subscriptionWebTracking.html' style='border:none;height:0;width:0;'></iframe>"));
                c && c.render()
            }
        }
    });

    function bu() {}
    bu = Backbone.View.extend({
        initialize: function () {
            this.zm = this.options.hashTag;
            w.d(xf, o(this, this.ht));
            zs.push("/norenew");
            this.bind("close", o(this, this.close))
        },
        className: "expired_account_container clearfix",
        render: function () {
            $(this.el).append($("#expiration-" + this.zm + "Tmpl").tmpl());
            $(window).scrollTop(0);
            $("#footer .browseGenres").hide();
            return this
        },
        close: function () {
            $(this.el).remove();
            this.el = e;
            $("#footer .browseGenres").show();
            w.Pa(this)
        },
        ht: g(),
        events: {
            "click .confirm": "confirmClick",
            "click .nothanks": "noThanksClick",
            "click .continue": "continueClick"
        },
        confirmClick: function () {
            S(Kp, o(this, function () {
                U("/" + this.zm, !0, !0)
            }));
            return !1
        },
        noThanksClick: function () {
            this.model.set({
                blueBarMessage: e
            });
            $(this.el).fadeOut(200, o(this, function () {
                $(this.el).empty().append($("#renewalNoThanksTmpl").tmpl()).fadeIn()
            }));
            U("/norenew", !1, !0);
            return !1
        },
        continueClick: function () {
            var b = this.model.get("currentUser");
            b && b.ga == m.G.rg() ? (w.b(Kh), b.ga = e, w.b(re, b)) : b && b.ga == m.G.qg() ? (w.b(Lh), b.ga = e, w.b(re, b)) : b && !b.Xf ? w.b($g) : (b.Xf = !1, w.b(re, b));
            return !0
        }
    });

    function cu() {}
    cu = Backbone.View.extend({
        initialize: function () {
            w.d(ye, o(this, this.yt));
            w.d(sd, o(this, this.wu));
            w.d(rd, o(this, this.N));
            w.d(lf, o(this, this.ct));
            w.d(wf, o(this, this.bt))
        },
        render: function (b) {
            this.Hc = !1;
            this.kj = !0;
            this.Ei = !1;
            if (b) this.Ac = b;
            b = this.model.get("currentUser");
            D(b) ? this.model.get("hasStations") ? (this.root = "#mainContent .redemption", b = this.model.get("stationList").pluck("stationName"), b.shift(), b = $("#hasStationsTmpl").tmpl({
                naked: !1,
                stations: b
            }), $("#mainContent").children().hide(), $("#mainContent .redemption").remove(), $("#mainContent").prepend(b).show(), $("#noBtn").bind("click", this, o(this, function () {
                this.ub = !0;
                w.b(Zf)
            })), $("#yesBtn").bind("click", this, this.Ji)) : (this.Hc = !0, this.root = "#main .redemption", $("#main .redemption").remove(), $("#main").prepend($("#redeemChoicesTmpl").tmpl({
                naked: !0
            })).show(), $("#existingUserBtn").bind("click", this, this.Zl), $("#newUserBtn").bind("click", this, this.Ji)) : (this.model.get("hasStations") ? (this.root = "#mainContent .redemption", b = $("#redeemSignedInTmpl").tmpl({
                username: b.da
            }), $("#mainContent").children().hide(), $("#mainContent .redemption").remove(), $("#mainContent").prepend(b).show()) : (this.Hc = !0, this.root = "#main .redemption", b = $("#redeemSignedInTmpl").tmpl({
                username: b.da,
                naked: !0
            }), $("#main .redemption").remove(), $("#main").prepend(b).show()), $("#redeemSignedInBtn").bind("click", this, this.Wx), $("#notMeLink").bind("click", this, this.qv))
        },
        gi: function () {
            $("#main .redemption").fadeOut(o(this, function () {
                $("#main .redemption").remove();
                $("#mainContent .redemption").remove()
            }));
            this.kj = e
        },
        Ge: function () {
            this.render();
            return !1
        },
        yt: function () {
            var b = La(),
                c;
            c = this.model.get("currentUser").Wf;
            c > 365 && (b = new Date, b.setDate(b.getDate() + c), b = Ka([b.toDateString()]));
            (new X({
                message: b
            })).render();
            this.Ei ? this.model.set({
                modalPanel: "REGISTERED_PANEL"
            }) : (this.model.set({
                modalPanel: "SONG_SLIDES"
            }), S(op));
            return !1
        },
        bt: function (b) {
            (new X({
                message: jb() + b
            })).render();
            this.Ac = e;
            this.Ei = !1;
            this.kj || this.render();
            return !1
        },
        wu: function () {
            if (this.ub) {
                var b = this.ub;
                setTimeout(o(this, function () {
                    w.b(mh, b)
                }), 500);
                this.ub = this.kj = e;
                this.Ei = !0
            } else this.gi()
        },
        ct: function (b) {
            if (this.ub) this.ub = e, (new X({
                message: kb() + b
            })).render()
        },
        N: function () {
            this.ub ? (this.ub = !1, this.Hc = !0, this.root = "#main .redemption", this.model.set({
                modalPanel: ip
            }), $("#main .redemption").remove(), $("#main").prepend($("#redeemRegisterTmpl").tmpl({
                giftcode: this.Ac
            })), $("#redeemNowBtn").bind("click", this, this.Sl), $("#goBackBtn").click(o(this, function () {
                this.Ge()
            })), $(".redeem_field").click(this.Ie)) : this.gi()
        },
        Wx: function (b) {
            b.data.Ac ? w.b(mh, b.data.Ac) : ($(b.data.root).empty().append($("#redeemNowTmpl").tmpl({
                naked: b.data.Hc
            })), $(".redeem_field", this.el).click(b.data.Ie), $("#redeemNowBtn").click(function () {
                var b = $("#giftcode", this.el).val();
                vr(b) ? w.b(mh, b) : $(".error", this.el).text(Ma()).fadeIn()
            }), $("#goBackBtn").click(function () {
                b.data.Ge()
            }));
            return !1
        },
        qv: function (b) {
            $(b.data.root).empty().append($("#redeemChoicesTmpl").tmpl({
                naked: b.data.Hc
            }));
            $("#existingUserBtn").bind("click", b.data, b.data.Zl);
            $("#newUserBtn").bind("click", b.data, b.data.Ji);
            return !1
        },
        $w: function () {
            var b = $("#giftcode", this.el).val(),
                c = $("#email", this.el).val(),
                d = $("#password", this.el).val(),
                f = !1;
            vr(b) || (f = !0, $("#codeError", this.el).text(Ma()).fadeIn());
            qr(d) || (f = !0, $("#passError", this.el).text(Oa()).fadeIn());
            pr(c) || (f = !0, $("#emailError", this.el).text(Na()).fadeIn());
            f || w.b(nh, {
                user: c,
                pass: d,
                code: b
            });
            return !1
        },
        Sl: function (b) {
            var c = $("#giftcode", this.el).val(),
                d = $("#email", this.el).val(),
                f = $("#password", this.el).val(),
                i = $("#birthyear", this.el).val(),
                l = $("#zipcode", this.el).val(),
                q = $("input[name=gender]:checked", this.el).val(),
                s = $("input[name=optin]", this.el).is(":checked"),
                u = $("input[name=terms]", this.el).is(":checked"),
                z = !1;
            vr(c) || ($("#codeError", this.el).text(Ma()).fadeIn(), z = !0);
            pr(d) || ($("#emailError", this.el).text(Na()).fadeIn(), z = !0);
            qr(f) || ($("#passwordError", this.el).text(Oa()).fadeIn(), z = !0);
            rr(i) ? sr(i) || ($("#birthyearError", this.el).text(ma()).fadeIn(), z = !0) : ($("#birthyearError", this.el).text(ma()).fadeIn(), z = !0);
            tr(l) || ($("#zipcodeError", this.el).text(na()).fadeIn(), z = !0);
            ur(q) || ($("#genderError", this.el).text(pa()).fadeIn(), z = !0);
            u || ($("#termsError", this.el).text(oa()).fadeIn(), z = !0);
            if (!z) b.data.ub = c, w.b(Xf, {
                username: d,
                password: f,
                birthYear: Number(i),
                zipCode: l,
                emailOptIn: s,
                gender: q
            });
            return !1
        },
        Ji: function (b) {
            $(b.data.root).empty().append($("#redeemRegisterTmpl").tmpl({
                giftcode: b.data.Ac
            }));
            $("#redeemNowBtn").bind("click", b.data, b.data.Sl);
            $("#goBackBtn").click(function () {
                b.data.Ge()
            });
            $(".redeem_field").click(b.data.Ie);
            return !1
        },
        Zl: function (b) {
            $(b.data.root).empty().append($("#redeemLoginTmpl").tmpl({
                naked: b.data.Hc,
                giftcode: b.data.Ac
            }));
            $("#redeemNowBtn").click(b.data.$w);
            $("#goBackBtn").click(function () {
                b.data.Ge()
            });
            $(".redeem_field").click(b.data.Ie);
            return !1
        },
        Ie: function (b) {
            (new $(b.target)).parent().siblings(".error").empty()
        }
    });

    function Ut() {}
    Ut = Backbone.View.extend({
        initialize: function () {
            this.referrer = this.options.referrer;
            this.Ug = this.options.cancelHash
        },
        className: "upgrade_container clearfix",
        render: function () {
            S(ir);
            $(this.el).append($("#upgradeTmpl").tmpl());
            var b = this.model.get("currentUser");
            (b == e || !(!b.t() ? 0 : D(b) ? 0 : Lj(b) == 0)) && $(".start_trial", this.el).hide();
            return this
        },
        events: {
            "click .start_trial": "startTrialClick",
            "click .upgrade_now": "upgradeNowClick",
            "click #learn": "learnMoreClick"
        },
        startTrialClick: function () {
            var b = this.model.get("currentUser");
            if (b == e || D(b)) return S(Xp, {
                onSuccessRedirect: Es()
            }), !1;
            w.b(oh, {
                sponsor: "PandoraP1HQ",
                referrer: this.referrer
            });
            Gs();
            return !1
        },
        upgradeNowClick: function () {
            var b = this.model.get("currentUser");
            if (b == e || D(b)) return S(Xp, {
                onSuccessRedirect: "/subscriptionInfo/payment"
            }), !1;
            S(Kp, o(this, function () {
                U(this.Ug, !0, !0)
            }));
            return !1
        },
        learnMoreClick: function () {
            S(Xq);
            return !0
        }
    });

    function Vt() {}
    Vt = Backbone.View.extend({
        initialize: function () {
            this.Ul = !0;
            this.zb = this.options.showPleaseWait;
            this.Bd = this.options.hidePleaseWait;
            w.d(yf, o(this, this.dt))
        },
        render: function (b, c, d, f, i) {
            b = b.cdata;
            this.Ul = f;
            this.Xa = i;
            f = this.model.get("currentUser");
            b == e ? (c = $(c).tmpl({
                mode: d,
                showAutoRenew: Fj(f),
                autoRenew: "checked",
                showCancelButton: this.Xa != e,
                showPayButton: c == "#PaymentTmpl"
            }), $(".payment_verb", c).text("Enter")) : (i = {}, i.mode = d, i.showCancelButton = this.Xa != e, i.showPayButton = c == "#PaymentTmpl", i.showAutoRenew = Fj(f), b.autoRenew && (i.autoRenew = "checked"), i.customerName = b.customerName, i.zipcode = b.zipcode, i.displayableCardNumber = b.displayableCardNumber, i[b.cardCompany.toLowerCase()] = "checked", i["month" + b.expirationMonth] = "selected", i["year" + b.expirationYear] = "selected", c = $(c).tmpl(i), $(".payment_verb", c).text("Verify"), $("input[name='securitycode']", c).removeAttr("disabled"), $("input[name='agree']", c).removeAttr("disabled"));
            this.el && $(this.el).empty();
            $(this.el).append(c);
            return this
        },
        dt: function () {
            this.Bd();
            (new X({
                message: lb()
            })).render()
        },
        Ze: function () {
            $("input[name='securitycode']", this.el).removeAttr("disabled");
            $("input[name='agree']", this.el).removeAttr("disabled");
            $(".submit_btn", this.el).css("opacity", "0.5");
            $(".submit_btn", this.el).css("filter", "alpha(opacity=50)");
            this.Bd && this.Bd()
        },
        events: {
            "click #p1_pay_now": "payP1Click",
            "click #p1_gift_pay_now": "payP1GiftClick",
            "click .submit_btn": "payP1Click",
            "click #p99_pay_now": "pay99Click",
            "click .cancel": "cancelClick",
            "click .edit_info": "editInfoClick",
            "click .payment_field_validated": "clearErrors"
        },
        payP1Click: function () {
            var b = $("input[name='cardtype']:checked", this.el).val(),
                c = $("input[name='name']", this.el).val(),
                d = $("input[name='cardnumber']", this.el).val(),
                f = $("select[name='expirationdate_month'] option:selected", this.el).val(),
                i = $("select[name='expirationdate_year'] option:selected", this.el).val(),
                l = $("input[name='securitycode']", this.el).val(),
                q = $("input[name='zipcode']", this.el).val(),
                s = $("input[name='autorenew']:checked", this.el).length == 1,
                u = $("input[name='agree']:checked", this.el).length == 1,
                z = this.Ul,
                V = this.di(c, b, q, l, d, f, i);
            u != !0 && ($(".agreeFieldError", this.el).text(kc()).fadeIn(), V = !0);
            V || (this.zb && this.zb(), w.b(Zg, ["ANNUAL", b, c, d, Number(f), Number(i), l, q, Boolean(s), z]));
            return !1
        },
        payP1GiftClick: function () {
            var b = $("input[name='cardtype']:checked", this.el).val(),
                c = $("input[name='name']", this.el).val(),
                d = $("input[name='cardnumber']", this.el).val(),
                f = $("select[name='expirationdate_month'] option:selected", this.el).val(),
                i = $("select[name='expirationdate_year'] option:selected", this.el).val(),
                l = $("input[name='securitycode']", this.el).val(),
                q = $("input[name='zipcode']", this.el).val(),
                s = $("input[name='agree']:checked", this.el).length == 1,
                u = this.di(c, b, q, l, d, f, i);
            s != !0 && ($(".agreeFieldError", this.el).text(kc()).fadeIn(), u = !0);
            u || (s = $(".giftInfo form"), this.zb && this.zb(), w.b(wh, [b, c, d, Number(f), Number(i), l, q, $("#sender_name", s).val(), $("#recipient_name", s).val(), $("#recipient_email", s).val(), $("#message", s).val(), $("input[name='gift_delivery']:checked", s).val(), $("#card_choice", s).val()]));
            return !1
        },
        clearErrors: function (b) {
            $(b.target).siblings(".paymentFieldError").hide();
            $(b.target).siblings(".formFieldError").hide()
        },
        pay99Click: function () {
            var b = $("input[name='cardtype']:checked", this.el).val(),
                c = $("input[name='name']", this.el).val(),
                d = $("input[name='cardnumber']", this.el).val(),
                f = $("select[name='expirationdate_month']", this.el).val(),
                i = $("select[name='expirationdate_year']", this.el).val(),
                l = $("input[name='securitycode']", this.el).val(),
                q = $("input[name='zipcode']", this.el).val();
            this.di(c, b, q, l, d, f, i) || (this.zb && this.zb(), w.b(Zg, ["END_OF_MONTH", b, c, d, Number(f), Number(i), l, q, !1, !1]));
            return !1
        },
        di: function (b, c, d, f, i, l, q) {
            var s = !1;
            if (b == e || b.length == 0) $(".nameFieldError", this.el).text(qc()).fadeIn(), s = !0;
            if (!(!vc(c) ? 0 : c == "visa" || c == "mastercard" || c == "discover" || c == "americanexpress")) $(".cardChoiceFieldError", this.el).text(mc()).fadeIn(), s = !0;
            tr(d) || ($(".zipcodeFieldError", this.el).text(pc()).fadeIn(), s = !0);
            a: if (f.length < 3 || f.length > 4) f = !1;
            else {
                for (b = 0; b < f.length; b++) if (c = f.charCodeAt(b) - 48, c < 0 || c > 9) {
                    f = !1;
                    break a
                }
                f = !0
            }
            f || ($(".securitycodeFieldError", this.el).text(lc()).fadeIn(), s = !0);
            f = [];
            for (c = b = 0; c < i.length; c++) d = i.charCodeAt(c) - 48, d >= 0 && d <= 9 && f.push(d), i.charCodeAt(c) == 42 && b++;
            if (b > 4 && b + f.length >= 13 && b + f.length <= 16) i = !0;
            else if (f.length < 13 || f.length > 16) i = !1;
            else {
                f.reverse();
                for (b = i = 0; b < f.length; b += 2) i += f[b];
                for (b = 1; b < f.length; b += 2) i += f[b] * 2 % 10 + (f[b] >= 5 ? 1 : 0);
                i = i % 10 == 0
            }
            i || ($(".cardNumberFieldError", this.el).text(nc()).fadeIn(), s = !0);
            i = new Date;
            l > i.getMonth() && q == i.getFullYear() || q > i.getFullYear() || ($(".expriationFieldError", this.el).text(oc()).fadeIn(), s = !0);
            return s
        },
        cancelClick: function () {
            this.Xa && this.Xa();
            return !1
        },
        editInfoClick: function () {
            $("input, select", this.el).removeAttr("disabled");
            return !1
        }
    });

    function du() {}
    du = Backbone.View.extend({
        initialize: function () {
            w.d(ve, o(this, this.ai));
            T(Cq, o(this, this.rm));
            T(Dq, o(this, this.rm))
        },
        className: "still_listening_container clearfix",
        render: function () {
            this.model.get("currentUser").t() && w.b(gh);
            $(this.el).append($("#stillListeningTmpl").tmpl({
                svnHoursEarned: zt
            }));
            return this
        },
        ai: function (b) {
            b != e ? ($("#svnOffer", this.el).show(), $("#upgradeOffer", this.el).hide()) : ($("#svnOffer", this.el).hide(), $("#upgradeOffer", this.el).show())
        },
        rm: function () {
            this.stillListeningClick()
        },
        events: {
            "click #still_listening_upgrade": "upgradeClick",
            "click .still_listening": "stillListeningClick",
            "click .eliminate_timeout": "eliminateTimeoutClick"
        },
        upgradeClick: function () {
            this.wn();
            setTimeout(function () {
                U("/account/upgrade", !0, !0)
            }, 500);
            return !1
        },
        eliminateTimeoutClick: function () {
            this.model.set({
                modalPanel: "SVN_AD_PANEL"
            });
            return !1
        },
        stillListeningClick: function () {
            eu(o(this, function () {
                this.wn();
                this.remove();
                this.el = e;
                S(op)
            }));
            return !1
        },
        wn: function () {
            var b = this.model.get("halt_id");
            r("listener_idle", {
                active: "true",
                halt_id: b,
                inactive_time: Math.floor((xc() - b) / 1E3)
            }, this.model.get("currentUser"));
            S(Mq);
            this.model.set({
                inactive: !1
            })
        }
    });

    function fu() {}
    fu = Backbone.View.extend({
        initialize: function () {
            this.va = this.options.detail_url
        },
        render: function () {
            jt(this.va, {}, o(this, this.Yv), function () {
                w.b(Gf)
            }, !0);
            return this
        },
        close: function () {
            et(this)
        },
        events: {
            "click .listeners_menuItem": "menuItemClick",
            "click .more": "moreClick"
        },
        Yv: function (b) {
            $(this.el).append(b);
            Rr(new Qr(this.model.get("currentUser")), !1)
        },
        menuItemClick: function (b) {
            b = b.target.id;
            $(".listeners_content_title").text(b);
            $(".listeners_menuItem").toggleClass("selected", !1);
            $(".listeners_menuItem[id='" + b + "']").toggleClass("selected", !0);
            return !1
        },
        moreClick: function (b) {
            $(b.currentTarget).fadeOut();
            var c = $(b.currentTarget).attr("data-currentoffset"),
                d = $(b.currentTarget).attr("data-nextoffset");
            c && d ? jt(this.va, {
                countRowsOnBrowser: c,
                countRowsNeeded: d
            }, o(this, function (b) {
                $(".sections", this.el).append(b)
            })) : $(b.currentTarget).closest(".section_page").next().fadeIn();
            return !1
        }
    });

    function gu() {}
    gu = Backbone.View.extend({
        initialize: function () {
            this.referrer = this.options.referrer;
            this.Ug = this.options.cancelHash
        },
        el: $("#mainContent .pandoraOneInfo"),
        render: function () {
            $(this.el).empty().append($("#pandoraOneTmpl").tmpl()).show();
            var b = this.model.get("currentUser");
            (b == e || !(!b.t() ? 0 : D(b) ? 0 : Lj(b) == 0)) && $(".start_trial", this.el).hide();
            return this
        },
        events: {
            "click .start_trial": "startTrialClick",
            "click .upgrade_now": "upgradeNowClick"
        },
        startTrialClick: function () {
            w.b(oh, {
                sponsor: "PandoraP1HQ",
                referrer: this.referrer
            });
            Gs();
            return !1
        },
        upgradeNowClick: function () {
            S(Kp, o(this, function () {
                U(this.Ug, !0, !0)
            }));
            return !1
        }
    });

    function hu() {}
    hu = Backbone.View.extend({
        initialize: function () {
            this.Ka = "intro";
            this.Za = [];
            for (var b = 0; b < window.giftChoiceList.length; b++) if (window.giftChoiceList[b].enabled) this.Za.push(window.giftChoiceList[b]), this.Za[this.Za.length - 1].index = this.Za.length - 1;
            this.oj = this.Za[0]
        },
        close: function () {
            et(this)
        },
        el: $("#mainContent .giftInfo"),
        render: function () {
            var b = this.model.get("currentUser");
            switch (this.Ka) {
            case "intro":
                $(this.el).empty().append($("#giftIntroTmpl").tmpl({
                    isUserLoggedIn: !D(b)
                })).show();
                break;
            case "form":
                $(this.el).empty().append($("#giftEnterInfoTmpl").tmpl({
                    username: b.da,
                    fullname: b.Ch
                })).show();
                $("#theme_bg .scrollable_content", this.el).css("width", this.Za.length * 180);
                for (b = 0; b < this.Za.length; b++) $("#theme_bg .scrollable_content", this.el).append($("#giftThemeTmpl").tmpl(this.Za[b]));
                this.Mn();
                Fr($("#theme_bg", this.el));
                break;
            case "payment":
                S(cq, o(this, function () {
                    $(".payment").empty().hide();
                    this.cancelClick()
                }));
                break;
            default:
                throw Error("Unknown gift state: " + this.state);
            }
            return this
        },
        Mn: function () {
            $("#currentSelection", this.el).empty().append($("#selectedThemeTmpl").tmpl(this.oj));
            $("#card_choice", this.el).val(this.oj.name)
        },
        events: {
            "click .signOutLink": "signOutClick",
            "click .cancel": "cancelClick",
            "click .next": "nextClick",
            "click .login": "loginClick",
            "click .register": "registerClick",
            "click .sample_buttons .example": "exampleClick",
            "click .sample_buttons .select": "selectClick",
            "keyup #message": "messageKeyup"
        },
        loginClick: function () {
            B(Zh, "/buygift");
            U("/account/sign-in", !0, !1);
            return !1
        },
        registerClick: function () {
            B(Zh, "/buygift");
            U("/account/register", !0, !1);
            return !1
        },
        messageKeyup: function () {
            return $("#message", this.el).val().length >= 300 ? ($("#message", this.el).val($("#message", this.el).val().substr(0, 300)), $("#messageError", this.el).fadeIn(), !1) : ($("#messageError", this.el).fadeOut(), !0)
        },
        exampleClick: function (b) {
            var b = $(b.target).closest(".sample_container").tmplItem().data,
                c = Jr("giftExamplePopup", $("#giftExampleHeaderTmpl").tmpl(b), $("#giftExampleContentTmpl").tmpl(b), $("#giftExampleFooterTmpl").tmpl(b));
            c.bind("closed", o(this, function () {
                $(".select", c).unbind("click");
                c.remove()
            }));
            $(".select", c).bind("click", o(this, function (b) {
                this.Gn($(b.target).tmplItem().data);
                c.fadeTo(400, 0, function () {
                    c.remove()
                })
            }));
            $(this.el).append(c);
            return !1
        },
        selectClick: function (b) {
            this.Gn($(b.target).closest(".sample_container").tmplItem().data);
            return !1
        },
        Gn: function (b) {
            this.oj = this.Za[b.index];
            this.Mn();
            return !1
        },
        cancelClick: function () {
            switch (this.Ka) {
            case "form":
                this.Ka = "intro";
                break;
            case "payment":
                this.Ka = "form";
                break;
            default:
                throw Error("don't know how to cancel state: " + this.Ka);
            }
            this.render();
            return !1
        },
        nextClick: function () {
            if (this.Ka == "form" && !this.Vy()) return !1;
            switch (this.Ka) {
            case "intro":
                this.Ka = "form";
                break;
            case "form":
                this.Ka = "payment";
                break;
            default:
                throw Error("don't know how to go to next state: " + this.Ka);
            }
            this.render();
            return !1
        },
        Vy: function () {
            p($("#sender_name", this.el).val()) ? $("#sender_name_error", this.el).fadeIn() : $("#sender_name_error", this.el).fadeOut();
            p($("#recipient_name", this.el).val()) ? $("#recipient_name_error", this.el).fadeIn() : $("#recipient_name_error", this.el).fadeOut();
            var b = $("input[name='gift_delivery']:checked", this.el).val() == "email",
                c = $("#recipient_email", this.el).val();
            !b && p(c) || pr(c) ? $("#recipient_email_error", this.el).fadeOut() : $("#recipient_email_error", this.el).fadeIn();
            $("#recipient_email", this.el).val() != $("#recipient_email2", this.el).val() ? $("#recipient_email2_error", this.el).fadeIn() : $("#recipient_email2_error", this.el).fadeOut();
            return $(".giftError:visible", this.el).length == 0
        },
        signOutClick: function () {
            w.b(Wf);
            return !1
        }
    });

    function iu() {}
    iu = Backbone.View.extend({
        initialize: function () {
            this.xd = this.options.gift;
            w.d(Oe, o(this, this.giftEmailed));
            this.Un = window.giftChoiceList[0];
            for (var b = 0; b < window.giftChoiceList.length; b++) if (window.giftChoiceList[b].name == this.xd.skin) {
                this.Un = window.giftChoiceList[b];
                break
            }
        },
        el: $("#mainContent .giftInfo"),
        render: function () {
            var b = this.model.get("currentUser");
            $(this.el).empty().append($("#giftShowTmpl").tmpl({
                username: b.da,
                noads: !b.t(),
                gift: this.xd,
                theme: this.Un
            })).show();
            return this
        },
        events: {
            "click .print": "printClicked",
            "click .email": "emailClicked"
        },
        printClicked: function () {
            window.print();
            return !1
        },
        emailClicked: function () {
            $(".email", this.el).hasClass("disabled") || ($(".email", this.el).addClass("disabled"), w.b(yh, [this.xd.giftCode, this.xd.giftHash]));
            return !1
        },
        giftEmailed: function () {
            this.xd.type = "EMAIL";
            this.render()
        },
        close: function () {
            w.Pa(this)
        }
    });

    function ju(b) {
        this.model = b;
        this.W = new Y({
            model: this.model
        });
        this.je = "pfadx";
        this.wk = "442x188";
        this.qp = "2000x7";
        this.uo = "HOUSE";
        this.vo = "VIDEOAD";
        this.to = "ANIMATEDOVERLAY";
        this.mI = [];
        this.Xl = {
            skip: "tunervideo",
            station: "tuner",
            shuffle: "tuner",
            "return": "tunervideo"
        };
        this.vl = {};
        this.Wm();
        this.startTime = Gc();
        this.Zq = this.pi = this.Fc = this.tb = 0;
        this.XF = 1E3;
        this.mz = 18E5;
        this.kF = 1800;
        this.gq = this.Ja = !1;
        this.UI = "VideoAdController : ";
        this.ye = 1;
        w.d(od, o(this, this.Wm));
        w.d(rd, o(this, this.uf));
        w.d(zh, o(this, this.dz));
        w.d(Gd, o(this, this.cz));
        w.d(Ch, o(this, this.po));
        w.d(Dh, o(this, this.po));
        w.d(Eh, o(this, this.Ti));
        w.d(Fh, o(this, this.Cw));
        w.d(Gh, o(this, this.Bw));
        w.d(Dh, ku);
        w.d(Bh, lu);
        w.d(Hh, o(this, this.Kv));
        w.d(Ih, o(this, this.Rv))
    }
    h = ju.prototype;
    h.Wm = function () {
        this.enabled = C._data.apvEnabled == !0;
        C._data.videoAd != e || C._data.adTestMode == "true" || C._data.videoAdTestMode == "true" ? (this.tk = 6, this.Bk = this.zk = 10, this.Ak = 2, this.Fp = 1E3) : (this.tk = Yj(C._data.timeToStartVideoAds, 180), this.Ak = Yj(C._data.timeBetweenDisplayAndVideoAd, 5), this.zk = Yj(C._data.timeBetweenAudioAndVideoAd, 60), this.Bk = Yj(C._data.timeBetweenVideoAds, 900), this.Fp = 12E4)
    };
    h.uf = function () {
        this.startTime = Gc();
        this.Zq = this.pi = this.Fc = this.tb = 0;
        this.wJ = Math.floor(Math.random() * 10) == 0;
        this.ye = 1;
        this.vl = {}
    };
    h.rc = g();
    h.dz = function () {
        this.pi = Gc()
    };
    h.po = function (b) {
        if (b && b.X() == !1) this.tb = Gc()
    };
    h.cz = function (b) {
        if (b instanceof Rj) this.Fc = Gc()
    };
    h.t = function (b, c) {
        var d = this.model.get("currentUser"),
            f = this.model.get("currentStation");
        if (d) {
            var i = this.model.get("hasStations"),
                l = c ? !0 : $("#mainContent .home").is(":visible"),
                q = !D(d),
                f = f && Wk(f);
            return d.t() && i && l && q && !f
        } else return !1
    };
    h.fj = function () {
        var b = Gc(),
            c = !1;
        this.enabled && b - this.startTime > this.tk && b - this.Fc > this.zk && b - this.tb > this.Bk && b - this.pi > this.Ak && (c = !0);
        return c
    };

    function mu(b) {
        var c = b.model.get("currentStation"),
            c = c != e && !Wk(c),
            b = b.model.get("currentUser"),
            b = b != e && !D(b);
        return c && b
    }
    h.Bw = g();
    h.Cw = function (b) {
        b = b ? b.interaction : "";
        b === "skip" ? this.tf() : b === "station" ? this.Si() : b === "return" ? nu(this, "return", !0) : w.b(Bh, {})
    };
    h.Si = function () {
        var b = this.model.get("currentStation"),
            c = e,
            c = b && b.get("isQuickMix") ? "shuffle" : "station";
        b.get("isNew") ? w.b(Bh, {
            interaction: c
        }) : nu(this, c, !1)
    };
    h.tf = function () {
        nu(this, "skip", !1)
    };
    h.Kv = function (b) {
        ou(this, b.key, b.value, !0)
    };
    h.Rv = function (b) {
        ou(this, b.key, b.value, !1)
    };

    function nu(b, c, d) {
        w.b(Ah, c);
        if (b.t(!1, d)) if (b.Ja) w.b(Bh, {
            interaction: c
        });
        else if (b.fj(c)) {
            b.Ja = !0;
            var f = "tuner";
            b.Xl[c] && (f = b.Xl[c]);
            b.Ja = !0;
            b.Vn = !1;
            var i = b.wk,
                d = {};
            if (mu(b)) d.index = b.ye;
            var l = b.model.get("currentStation"),
                q = b.model.get("stationList").models;
            Sk(d, l, q);
            Rk(d);
            l = C._data.videoAd;
            if (l != e && l.length > 0) {
                var d = l.split(":"),
                    s = sj() + "util/dartCreative.jsp?ad=" + d[0] + "&c=" + d[1];
                $k(s, function (d) {
                    d = pu(b, d, s, f, i);
                    w.b(Bh, {
                        ad: d,
                        interaction: c
                    });
                    qu(b, d)
                }, o(b, function () {
                    this.Ja = !1;
                    w.b(Bh, {
                        interaction: c
                    })
                }))
            } else Yk(b.je, f, d, i, function (d, l) {
                var q = pu(b, d, l, f, i);
                w.b(Bh, {
                    ad: q,
                    interaction: c
                });
                qu(b, q)
            }, o(b, function () {
                this.Ja = !1;
                w.b(Bh, {
                    interaction: c
                })
            }));
            b.Ds = setTimeout(o(b, function () {
                if (this.Ja) this.Ja = !1, this.Vn = !0, w.b(Bh, {
                    interaction: c
                }), w.b(Jf, {
                    userInitiated: !1
                })
            }), 1E4)
        } else w.b(Bh, {
            interaction: c
        });
        else w.b(Bh, {
            interaction: c
        })
    }
    function qu(b, c) {
        if (!b.Vn && c) clearTimeout(b.Ds), b.W.render(c), b.vl = {}
    }

    function pu(b, c, d, f, i) {
        var l = e;
        if (c != e) {
            if (c = $.trim(c), l = new js(el(c, f, i)), d = l.r(), !(d == b.vo || d == b.uo) && d != b.to) al(c, b.wk, "Invalid ad type ? " + d + " : for subzone : " + f, f), b.gq = !0, l = e
        } else al(d, i, "Empty ad for subzone : " + f, f);
        b.Ja = !1;
        return l
    }

    function ou(b, c, d, f) {
        if (c && d) {
            b.Ja = !0;
            var i = b.qp,
                l = {},
                q = {};
            q[c] = d;
            c = b.model.get("currentStation");
            d = b.model.get("stationList").models;
            Sk(l, c, d);
            Rk(l);
            var s = C._data.useTestAds;
            cl(b.je, l, q, i, function (c, d) {
                s == !0 && (c = "<methodResponse><params><param><value><struct><member><name>type</name><value><string>VIDEOAD</string></value></member><member><name>uif</name><value><string>vasttag</string></value></member><member><name>impression</name><value><string>http://www.pandora.com/impression</string></value></member><member><name>logoimage</name><value><string>/static/ads/video_overlay_logos/http://test.logo.url</string></value></member><member><name>clickthrough_logo</name><value><string><![CDATA[http://www.not/]]\></string></value></member><member><name>clickthrough_videoPlayer</name><value><string><![CDATA[http://www.not/]]\></string></value></member><member><name>image</name><value><string>/radio/static/ads/in_tuner_tile/http://test.tile.url</string></value></member><member><name>dimmed</name><value><string>/radio/static/ads/in_tuner_tile/http://test.tile.url</string></value></member><member><name>clickthrough_songSlide</name><value><string><![CDATA[http://www.not/]]\></string></value></member><member><name>companion</name><value><string>companionValue</string></value></member></struct></value></param></params></methodResponse>");
                var l = pu(b, c, d, "tuner", i);
                l.rj(f);
                l.Nn = !1;
                qu(b, l)
            }, o(b, o(b, function () {
                this.Ja = !1
            })))
        }
    }
    h.Ti = function (b) {
        b && !b.X() && (this.ye++, b.r() != "HOUSE" && b.Nn ? this.model.set({
            currentTrack: b
        }) : b && b.md && S(Eq, {
            companion: b.md,
            isCompanionAd: !0
        }))
    };
    var ru = e;

    function eu(b) {
        ru = b;
        w.b(Fh, {
            interaction: "return"
        })
    }
    function lu(b) {
        if ((!b || !b.ad) && ru) ru(), ru = e
    }
    function ku() {
        ru && (ru(), ru = e)
    }
    window.launchVideoAd = function (b, c) {
        w.b(Hh, {
            key: b,
            value: c,
            isUserInitiated: !0
        })
    };
    ju.prototype.km = ea('<\!-- Template Id = 3960 Template Name = -Pandora in-Tuner Flash Movie Station Change --\><?xml version="1.0" encoding="UTF-8"?><methodResponse><params><param><value><struct><member><name>type</name><value><string>HOUSE</string></value></member><member><name>movie</name><value><string></string></value></member><member><name>impression</name><value><string>http://twitter.com/api/getmesomgthing</string></value></member><member><name>tracker</name><value><string></string></value></member><member><name>companion</name><value><string></string></value></member><member><name>clickthrough</name><value><string>http://ad.doubleclick.net/click%3Bh%3Dv8/3b73/3/0/%2a/o%3B59178347%3B0-0%3B0%3B65183996%3B19087-442/188%3B19149460/19167355/1%3Bu%3Dfam%2A-1%21artist%2AR2642%21gcat%2Anone%21genre%2Arock%21ag%2A37%21gnd%2A1%21zip%2A90421%21hours%2A0%21comped%2A0%21fb%2A0%21clean%2A0%3B%7Eaopt%3D2/0/ff/1%3B%7Esscs%3D%3fhttp://www.pandora.com/</string></value></member></struct></value></param></params></methodResponse>');

    function su(b) {
        this.model = b;
        this.W = new rt({
            model: this.model
        });
        $.address.bind("change", o(this, this.Ni));
        W("/land", !0, !0, !0, o(this, this.Zu));
        T(Jq, o(this, this.dw));
        T(Kq, o(this, this.cw));
        T(Lq, o(this, this.vf));
        T(bq, o(this, this.Av));
        T(Dp, o(this, this.aw));
        T(mr, o(this, this.$v));
        T(Mq, o(this, this.nw));
        T(Nq, o(this, this.Ov));
        T(Qq, o(this, this.Od));
        T(Pq, o(this, this.Iv));
        T(Sq, o(this, this.Xv));
        T(Tq, o(this, this.Uv));
        T(Uq, o(this, this.Vv));
        T(Vq, o(this, this.Wv));
        T(Oq, o(this, this.Od));
        T(Rq, o(this, this.Od));
        T(Xq, o(this, this.Od));
        T(Wq, o(this, this.Tv));
        T(Yq, o(this, this.vv));
        T(Zq, o(this, this.uv));
        T($q, o(this, this.sw));
        T(jr, o(this, this.Na));
        T(ar, o(this, this.mw));
        T(br, o(this, this.kw));
        T(fr, o(this, this.Zv));
        T(kr, o(this, this.lw));
        T(dr, o(this, this.Ev));
        T(er, o(this, this.Nv));
        T(Bp, o(this, this.Na));
        T(Cp, o(this, this.Na));
        T(gr, o(this, this.Na));
        T(ir, o(this, this.Na));
        T(Eq, o(this, this.bw));
        T(hr, o(this, this.ew));
        T(yq, o(this, this.Na));
        T(zq, o(this, this.Na));
        T(nr, o(this, this.zr));
        T(or, o(this, this.ly));
        w.d(Ag, o(this, this.Gw));
        w.d(zg, o(this, this.qw));
        w.d(Lf, o(this, this.tw));
        w.d(Jf, o(this, this.uw));
        w.d(Nf, o(this, this.pw));
        w.d(Of, o(this, this.ow));
        w.d(Tg, o(this, this.Lv));
        w.d(Ug, o(this, this.yw));
        w.d(Rf, o(this, this.fw));
        w.d(pg, o(this, this.Pv));
        w.d(bh, o(this, this.Gv));
        w.d(ch, o(this, this.zw));
        w.d(Jd, o(this, this.tf));
        w.d(pf, o(this, this.Xm));
        w.d(of, o(this, this.Xm));
        w.d(Ie, o(this, this.Si));
        w.d(td, o(this, this.Sv));
        w.d(Lg, o(this, this.Na));
        w.d(dh, o(this, this.Na));
        w.d(eh, o(this, this.Na));
        w.d(sd, o(this, this.uf));
        this.model.bind("change:modalPanel", o(this, this.Cl));
        this.model.bind("change:currentUser", o(this, this.uf));
        this.model.bind("change:currentTrack", o(this, this.Nb));
        this.model.bind("change:stationSortOrderAlpha", o(this, this.jw));
        this.model.bind("change:displayingCompanion", o(this, this.Ar));
        w.d(Gd, o(this, this.rw));
        w.d(Dh, o(this, this.ac));
        w.d(Ch, o(this, this.bc));
        w.d(Eh, o(this, this.Ti));
        $("#ad_controls .skipLink").click(o(this, this.tf));
        this.zp = Yj(C._data.timeBetweenAudioAndDisplayAd, 5);
        this.Bp = Yj(C._data.timeBetweenVideoAndDisplayAd, 5);
        this.Ap = Yj(C._data.timeBetweenDisplayAds, 5);
        this.Wc = "radio";
        this.hk = "backstage";
        this.pg = "themedstation";
        this.oe = "createstation";
        this.fk = "addvariety";
        this.uk = "share";
        this.tp = [this.oe, this.pg, this.fk, this.uk];
        this.kc = "/radioAdEmbed.html";
        this.Fd = this.Dc = 0;
        this.Lg = "2000x2";
        this.ha = this.Wc;
        this.Er = "adj";
        this.tb = this.Fc = 0;
        this.wc = C._data.displayAd;
        this.td = e;
        this.yk = "246976901:44334262,215333213:33803897,246976901:44334262,210400547:43579993,246976901:44334262,246983691:44307832,215333213:33803897,246983691:44307832,210400547:43579993,246983691:44307832,246976901:44334262,215333213:33803897,210400547:43579993,215333213:33803897".split(",")
    }
    var tu, uu;
    h = su.prototype;
    h.uf = function () {
        this.model.get("currentUser") ? this.t(!1) || this.W.U() : this.W.U()
    };
    h.Nb = function () {
        var b = this.model.get("currentTrack");
        this.model.set({
            audioAdPlaying: b && (b instanceof Rj || b.lc == !0)
        });
        if (b instanceof tj) {
            var c = b.md;
            if (!c) {
                var c = "defaultaudiocompanion",
                    d = this.model.get("currentStation");
                if (d && d.get("advertisingKey") || !(b instanceof Rj)) c = e
            }
            c && (b = {
                companion: c,
                ord: Qk()
            }, this.model.set({
                displayingCompanion: !0
            }), vu(this, b), wu(this, this.Wc), xu(this, b, !0))
        } else b != e && this.model.set({
            displayingCompanion: !1
        })
    };
    h.bw = function (b) {
        var c = b.companion;
        c && (xu(this, {
            companion: c,
            ord: Qk()
        }, !0), b.isCompanionAd && this.model.set({
            displayingCompanion: !0
        }))
    };
    h.t = function (b) {
        var c = this.model.get("currentUser");
        if (c) {
            var d = this.model.get("hasStations"),
                b = b ? !0 : this.Cl(),
                f = this.model.get("modalPanel"),
                f = f && (f == dp || f == "REGISTERED_PANEL") ? !1 : !0;
            return c.t() && d && b && f
        } else return !1
    };
    h.Iv = function () {
        yu(this, "", !1, !0)
    };
    h.Od = function () {
        yu(this, "", !1)
    };
    h.jw = function () {
        zu(this, "sort", !1)
    };
    h.fw = function () {
        zu(this, "shuffle", !1)
    };
    h.Ov = function () {
        zu(this, "nowPlaying", !0)
    };
    h.Si = function () {
        var b = this.model.get("currentStation"),
            c = e;
        if (this.yj && this.td) {
            c = this.td;
            this.td = e;
            this.yj = !1;
            wu(this, this.Wc);
            var d = b.get("originalSeed");
            if (!Wk(b) && d && (d.type == "artist" || d.type == "song")) {
                Mk = c;
                this.Dc = Gc();
                this.W.render(this.kc);
                return
            }
        }
        c = C._data.sc;
        if (C._data.shareImp && c && c.indexOf(b.get("originalStationId")) > -1) this.yb = c;
        Au(this) || (Wk(b) ? yu(this, e, !1, !0) : (c = b && b.get("isQuickMix") ? "shuffle" : "station", zu(this, c, !0)))
    };
    h.vv = function () {
        var b = this.model.get("currentUser");
        b != e && !D(b) ? Bu(this, "addVariety", this.fk, function (b) {
            return [jl(b, {
                tile: 2,
                sz: "2000x23"
            }), jl(b, {
                tile: 3,
                sz: "155x60"
            })]
        }, {}) : zu(this, "addVariety", !0)
    };
    window.setAddVarietyLogo = function (b, c) {
        $("#addVarietySponsorship a").attr("href", c).html('<img border="0" src="' + b + '">');
        $("#addVarietySponsorship").show()
    };
    h = su.prototype;
    h.uv = function () {
        zu(this, "", !1)
    };
    h.mw = function () {
        zu(this, "rename", !0)
    };
    h.kw = function () {
        zu(this, "delete", !0)
    };
    h.sw = function (b) {
        Cu(this, b, !0)
    };
    h.Pv = function () {
        Cu(this, "playSample")
    };
    h.Gv = function () {
        Cu(this, "follow")
    };
    h.zw = function () {
        Cu(this, "unfollow")
    };
    h.Sv = function () {
        Cu(this, "profile", !0)
    };
    h.lw = function () {
        Cu(this, "stationDetails", !0)
    };
    h.Ev = function () {
        Cu(this, "others", !0)
    };
    h.Zv = function () {
        Cu(this, "", !0)
    };
    h.Na = function () {
        Cu(this, "")
    };
    h.tf = function (b) {
        b instanceof Rj || Du(this, "skip");
        return !1
    };
    h.Xm = function () {
        Du(this, "outOfSkips")
    };
    h.tw = function (b) {
        (b == aa || b == !0) && Du(this, "pause")
    };
    h.qw = function () {
        Du(this, "tired")
    };
    h.Gw = function () {
        Du(this, "whyTrack", !0)
    };
    h.pw = function () {
        Du(this, "rateUp")
    };
    h.ow = function () {
        Du(this, "rateDown")
    };
    h.Lv = function () {
        Du(this, "likeUp")
    };
    h.yw = function () {
        Du(this, "likeDown")
    };
    h.vf = function () {
        Du(this, "volume")
    };
    h.dw = function () {
        yu(this, "lyrics", !1, !0)
    };
    h.cw = function () {
        yu(this, "lyrics", !1, !0)
    };
    h.Av = function () {
        Du(this, "buy", !0)
    };
    h.uw = function (b) {
        (b ? b.userInitiated : !1) == !0 && Du(this, "play")
    };
    h.Nv = function () {
        Du(this, "moveTrack", !0)
    };
    h.Tv = function (b) {
        var c = "";
        b == "station_list" && (c = "stationScroll");
        Du(this, c)
    };

    function Du(b, c, d) {
        setTimeout(o(b, function () {
            yu(this, c, !1, d)
        }), 10)
    }
    h.nw = function () {
        setTimeout(o(this, function () {
            this.Dc = 0;
            this.ha = "radio";
            yu(this, "return", !1)
        }), 500)
    };
    h.Ar = function () {
        if (this.model.get("displayingCompanion")) {
            if (this.eb != e) this.ha = this.eb, this.eb = e;
            Eu(this)
        }
    };

    function Eu(b) {
        $("#addVarietySponsorship a").attr("href", "#").empty();
        $("#addVarietySponsorship").hide();
        $("#themeSponsorship a").attr("href", "#").empty();
        $("#themeSponsorship").hide();
        $("#shareSponsorship a").attr("href", "#").empty();
        $("#ShareSponsorship").hide();
        $(".createStationSponsorship a").attr("href", "#").empty();
        $(".createStationSponsorship").hide();
        b.yj = !1;
        tu = b.td = e
    }
    function zu(b, c, d) {
        wu(b, b.Wc);
        yu(b, c, !1, d)
    }
    function Cu(b, c, d) {
        wu(b, b.hk);
        yu(b, c, !1, d)
    }
    h.Zu = function (b) {
        var c = b.queryString;
        if (c && c.indexOf("shareImp") > -1 && (b = b.pathNames, b.length > 2 && b[1] == "station")) this.Qc = !1, this.yb = b[2], Au(this)
    };
    h.ly = function (b) {
        if (b = b.station) this.Qc = !1, this.yb = b, Au(this);
        return !0
    };

    function Au(b) {
        var c = b.model.get("currentStation");
        if (b.Qc || !b.yb || !c) return !1;
        var d = !1,
            f = c.get("stationId"),
            c = c.get("originalStationId");
        if (b.yb.indexOf(f) > -1 || c && b.yb.indexOf(c) > -1) Fu(b) ? (d = {
            shareimp: "1"
        }, wu(b, b.Wc), vu(b, d), Gu(b, d), b.W.render(b.kc), b.Qc = !0, b.yb = e, d = !0) : (b.Qc = !0, b.yb = e, d = !1);
        return d
    }
    h.zr = function (b) {
        if ((b = b.queryString) && b.indexOf("shareImp") > -1) Fu(this) ? (b = {
            shareimp: "1"
        }, wu(this, this.hk), vu(this, b), Gu(this, b), this.W.render(this.kc), this.Qc = !0) : (this.Qc = !0, this.yb = e)
    };

    function Fu(b) {
        var c = b.model.get("currentStation");
        return c && Wk(c) ? !1 : (c = b.model.get("currentUser")) && D(c) ? !1 : b.t(!1)
    }
    h.Ni = function (b) {
        var b = b.path,
            c = e,
            d = this.model.get("currentUser");
        d && D(d) && b.match("/account/|/payment") ? this.W.U() : (b.match("^/feed|^/connect") ? c = "feed" : b.match("/payment|/go/") && (c = ""), c != e && (b.match("/volume/*|/stations/share/|/inactive|/song/(move|sleep)") || (b.match("^/{1}$|/stations/(play|rename|variety|delete)/*") ? wu(this, "radio") : wu(this, "backstage")), yu(this, c, !0, !0)))
    };
    h.Cl = function () {
        return this.model.get("modalPanel") != "SONG_SLIDES" ? (this.W.U(), !1) : !0
    };

    function vu(b, c) {
        var d = b.model.get("currentStation"),
            f = b.model.get("stationList").models;
        Sk(c, d, f);
        Rk(c)
    }
    h.fj = function () {
        var b = Gc(),
            c = !1;
        b - this.Fc > this.zp && b - this.tb > this.Bp && b - this.Dc > this.Ap && (c = !0);
        return c
    };

    function Bu(b, c, d, f, i) {
        if (b.t(!1)) {
            if (!b.model.get("displayingCompanion") && !Wk(b.model.get("currentStation"))) b.eb = b.ha, wu(b, d), Hu(), b.Fd++, i.index = b.Fd, i.tile = 1, c && c != "" && (i.interaction = c), vu(b, i), Gu(b, i), f != e && (Nk = f(Mk)), b.W.render(b.kc)
        } else b.W.U()
    }

    function yu(b, c, d, f) {
        if (b.t(d)) {
            if ((f || !(b.fj() == !1 && c != "skipAd")) && !b.model.get("displayingCompanion") && !(c == "pause" && window.ignorePauseInteractions) && b.Lg != e) if (Hu(), b.ha == b.pg && b.Eh) Iu(b, c);
            else if (b.ha != b.oe) {
                var d = {
                    tile: 1
                },
                    i = !0,
                    l = b.model.get("currentUser");
                l != e && D(l) && (i = !1);
                Wk(b.model.get("currentStation")) && (i = !1);
                if (i) b.Fd++, d.index = b.Fd;
                if ((i = $.address.path()) && i.substring(0, 8) === "/profile")(i = b.model.get("currentProfileInfo")) && (d.webname = i.webName);
                else if (c === "stationDetails")(i = $(".stationCreator a").text()) && (d.webname = i);
                c && c != "" && (d.interaction = c);
                vu(b, d);
                xu(b, d, f)
            }
        } else b.W.U()
    }
    function xu(b, c, d) {
        if (d || !(Gc() - b.Dc <= 1)) {
            Gu(b, c);
            c = C._data.testAdSequence;
            if (c == e ? 0 : c.toLowerCase() == "true") C._data.companionAd = "246977428:44308599", b.wc = b.yk[(b.Fd - 1) % b.yk.length];
            if (b.wc) {
                if (b.wc.split(":", 2).length == 2 && b.W.render(b.kc + "?displayAd=" + b.wc), document.location.search.indexOf("onlyFirstForced") != -1) b.wc = e
            } else b.W.render(b.kc)
        }
    }
    function Gu(b, c) {
        b.Dc = Gc();
        c.sz = b.Lg;
        b.wc || (Mk = Zk(b.Er, b.ha, c, b.Lg))
    }

    function wu(b, c) {
        if (c != b.ha) _.contains(b.tp, b.ha) ? Eu(b) : b.Dc = 0, b.ha = c
    }
    h.rc = g();
    h.rw = function (b) {
        if (b instanceof Rj) this.Fc = Gc()
    };
    h.bc = function (b) {
        if (b && b.X() == !1) this.tb = Gc();
        this.model.set({
            videoAdPlaying: b
        })
    };
    h.Ti = function (b) {
        if (b && b.X() == !1) this.tb = Gc()
    };
    h.ac = function (b) {
        if (b && b.X() == !1) this.tb = Gc();
        this.model.set({
            videoAdPlaying: e
        })
    };

    function Hu() {
        window.ignorePauseInteractions = !1
    }
    window.setIgnorePauseInteractions = function (b) {
        window.ignorePauseInteractions = b
    };
    su.prototype.ew = function (b) {
        var c = this.model.get("currentUser");
        c != e && !D(c) ? (this.Eh = b.gcat) && Iu(this, "") : Cu(this, "")
    };

    function Iu(b, c) {
        var d = b.model.get("currentUser");
        d != e && !D(d) ? Bu(b, c, b.pg, function (b) {
            return [jl(b, {
                tile: 2,
                sz: "2000x23"
            }), jl(b, {
                tile: 3,
                sz: "155x60"
            })]
        }, {
            gcat: b.Eh
        }) : Cu(b, c)
    }
    window.setThemedStationLogo = function (b, c) {
        $("#themeSponsorship a").attr("href", c).html('<img border="0" src="' + b + '">');
        $("#themeSponsorship").show()
    };
    su.prototype.Xv = function () {
        Eu(this);
        var b = this.model.get("currentUser");
        b != e && !D(b) ? Bu(this, "", this.oe, o(this, function (b) {
            this.td = jl(Mk, {
                tile: 4,
                sz: "2000x2"
            });
            return [jl(b, {
                tile: 2,
                sz: "2000x23"
            }), jl(b, {
                tile: 3,
                sz: "155x60"
            })]
        }), {}) : this.Od()
    };
    su.prototype.Uv = function () {
        if (this.eb != e) this.ha = this.eb, this.eb = e
    };
    su.prototype.Vv = function () {
        tu ? (this.ha = this.oe, $(".createStationSponsorship a").attr("href", uu).html('<img border="0" height="100%" src="' + tu + '">'), $(".createStationSponsorship").show()) : yu(this, "", !1, !0)
    };
    su.prototype.Wv = function () {
        this.yj = !0
    };
    window.setStationCreationLogo = function (b, c) {
        tu = b;
        uu = c;
        $(".createStationSponsorship a").attr("href", c).html('<img border="0" height="100%" src="' + b + '">');
        $(".createStationSponsorship").show()
    };
    su.prototype.aw = function () {
        Eu(this);
        this.model.get("currentUser");
        Fu(this) ? Bu(this, "", this.uk, o(this, function (b) {
            return [jl(b, {
                tile: 2,
                sz: "2000x23"
            }), jl(b, {
                tile: 3,
                sz: "155x60"
            })]
        }), {
            interaction: "share"
        }) : Du(this, "share")
    };
    su.prototype.$v = function () {
        if (this.eb != e) this.ha = this.eb, this.eb = e
    };
    window.setShareLogo = function (b, c) {
        $("#shareSponsorship a").attr("href", c).html('<img border="0" height="100%" src="' + b + '">');
        $("#shareSponsorship").show()
    };
    window.showGoogleAdWords = function () {
        $("#google_adwords").show().css("visibility", "visible");
        $("#google_adwords_frame").attr("src", "/static/ads/google-adwords/google.html?r=" + (new Date).getTime());
        Ju()
    };
    window.loadBottomAd = function () {
        $("#advertisement_bottom").show().css({
            visibility: "visible",
            opacity: 1
        });
        Mk = Zk("adj", "radio", e, "2000x19");
        var b = '<IFRAME id="ad' + (new Date).getTime() + '" src="' + ("/radioAdEmbed.html?cb=" + dd()) + '" frameborder="0" scrolling="no" marginheight="0" marginwidth="0" topmargin="0" leftmargin="0" allowtransparency="true" width="100%" height="100%"></IFRAME>';
        $("#advertisement_bottom").html(b)
    };
    window.showAdControls = function () {
        $("#ad_controls").show().css("visibility", "visible")
    };

    function Ju() {
        $("#ad_your_ad_here").show().css("visibility", "visible")
    }
    window.showYourAdHere = Ju;
    window.loadAdBriteTicker = g();
    var Ku, Lu = [],
        zs = [],
        Mu = !1,
        Nu = !1,
        Ou = !1,
        Pu = e,
        Qu = e,
        Ru = e;

    function Su(b) {
        Ku = b;
        $.address.tracker(e);
        $.address.change(Tu);
        w.d($e, function () {
            if (gj() || Tj()) Ou = !0
        });
        w.d(af, function () {
            Ou && (Ou = !1, setTimeout(function () {
                var b = gj();
                if (b) {
                    var d = Zh;
                    Ei(Ci(d), d.Sb);
                    window.location.hash = b
                } else Wj()
            }, 500))
        });
        w.d(od, function () {
            Nu = !0;
            Pu && (Tu(Pu), Pu = e)
        })
    }

    function Tu(b) {
        if (!Ou) if (Nu) {
            var c = b.path;
            if (Ku.get("siteLocked")) {
                var d = "";
                c.split("/").length > 1 && (d = c.split("/")[1]);
                if (c.indexOf("/account/") != 0 && d != "inactive" && !_.contains(Uu, d)) return
            }
            if (!Tj() && Bs(Ku) && (c.indexOf("/account/") == -1 || c.indexOf("/account/billing") > -1) && c.indexOf("/radio/") == -1 && c.indexOf("/genres/") == -1 && c.indexOf("/subscriptionInfo") == -1 && c.indexOf("/giftredeem") == -1 && c.indexOf("/go/") == -1) Ku.get("currentUser"), Ku.set({
                modalPanel: "SONG_SLIDES"
            }, {
                silent: !0
            }), Ku.set({
                modalPanel: fp
            });
            else if (Ru == e ? Ru = c : c != Ru && (Ru = c, window._gaq.push(["_trackPageview", c])), Vu(c), !Mu) {
                Mu = !0;
                for (var d = c = !1, f = 0; f < Lu.length; f++) {
                    var i = Lu[f];
                    if (i.Ok ? b.path.indexOf(i.ve) == 0 : i.ve == b.path) d = !0, i.Il(b.path) && !c && (c = !0, setTimeout(function () {
                        Wu();
                        window.fireNeilsenBeacon()
                    }, 1)), (i = i.Op) && i(b)
                }
                Qu == e && Wu();
                if (!d) for (f = 0; f < zs.length; f++) if (b.path.indexOf(zs[f]) == 0) {
                    d = !0;
                    break
                }
                Mu = !1;
                d || w.b(Gf, b.path);
                return !1
            }
        } else Pu == e && (Pu = b)
    }

    function Wu() {
        var b = document.location.href;
        b != Qu && (Qu = b, window.COMSCORE && window.COMSCORE.beacon({
            c1: 2,
            c2: "6036333",
            c3: "",
            c4: escape(b),
            c5: "",
            c6: "",
            c15: ""
        }), Xu())
    }
    window.fireComscoreBeacon = Wu;

    function Xu() {
        r("comscore", {
            event: document.location.href,
            is_error: !1,
            vendor_id: "100",
            device_code: "1880",
            app_version: w.dd,
            device_os: hd(),
            client_timestamp: (new Date).format("yyyy-mm-dd HH:MM:ss", !0)
        }, Ku ? Ku.get("currentUser") : e)
    }
    window.logComscore = Xu;

    function W(b, c, d, f, i) {
        b = new hs(b, c, d, f, i);
        Lu.push(b);
        return b
    }

    function U(b, c, d) {
        c && (Pu = e);
        W(b, !1, c, d, e).update()
    }
    function Gs() {
        $.address.history(!1);
        $.address.value("");
        $.address.history(!0)
    }
    function Es() {
        var b = window.location.hash;
        return b == e || b.length == 0 ? "" : b.substring(1)
    }

    function Vu(b) {
        b != e && (b.indexOf("/profile") === 0 ? ul(["profile_page_hit", "backstage_page_hit"]) : b.indexOf("/stations/edit") === 0 ? ul(["station_page_hit", "backstage_page_hit"]) : b.indexOf("/music/artist") === 0 ? ul(["artist_page_hit", "music_page_hit", "backstage_page_hit"]) : b.indexOf("/music/album") === 0 ? ul(["album_page_hit", "music_page_hit", "backstage_page_hit"]) : b.indexOf("/music/song") === 0 ? ul(["song_page_hit", "music_page_hit", "backstage_page_hit"]) : b.indexOf("/") === 0 && b.length == 1 ? r("home_page_hit", e, e) : r("backstage_page_hit", e, e))
    };

    function Yu(b) {
        this.model = b;
        this.Cd = e;
        w.d(rd, o(this, this.N));
        w.d(re, o(this, this.N));
        w.d(sd, o(this, this.N));
        w.d(qf, o(this, this.Ks));
        w.d(de, o(this, this.Ht));
        w.d(ze, o(this, this.wt));
        w.d(bg, o(this, this.Qt));
        T(mp, o(this, this.$j));
        this.model.bind("change:keyPressed", o(this, this.$j));
        this.model.bind("change:currentUser", o(this, this.$j))
    }
    h = Yu.prototype;
    h.N = function (b) {
        Kr();
        if ($("#splash .logo img").length > 0 && b && b.Ea) {
            var c = b.Ea.charAt(0),
                d = !0,
                f = $("#splash .logo img").attr("src"),
                i = f.indexOf("?");
            i > -1 && i + 13 < f.length && (d = f.substring(i + 13).charAt(0) != c, f = f.substring(0, i));
            d && $("#splash .logo img").attr("src", f + "?cachebuster=" + c + (new Date).getTime())
        }
        c = this.model.get("currentUser");
        c = !c || !b || c.p != b.p;
        this.model.set({
            currentUser: b
        });
        c && this.model.set({
            twitterAuthenticated: !1,
            facebookAuthenticated: !1
        });
        b == e ? this.model.set({
            stationToAutoPlay: e,
            expired: !1
        }) : (c = b.I, !Nj(b) && c != m.u.lk() && c != m.u.xk() && b.ga != m.G.rg() && b.ga != m.G.qg() ? this.model.set({
            expired: !1
        }) : b.ga == m.G.rg() ? (U("/" + Zu, !0, !0), this.model.set({
            expired: !0
        })) : b.ga == m.G.qg() ? (U("/" + $u, !0, !0), this.model.set({
            expired: !0
        })) : D(b) && !Kj(b) ? this.model.set({
            forceRegistration: !0
        }) : Nj(b) ? (Nj(b) && b.ga == m.G.Fo() ? U("/" + av, !0, !0) : Nj(b) && b.ga == m.G.jp() ? U("/" + bv, !0, !0) : Nj(b) && b.ga == m.G.Ao() ? U("/" + cv, !0, !0) : Nj(b) && b.ga == m.G.sp() ? U("/" + dv, !0, !0) : U("/" + ev, !0, !0), this.model.set({
            expired: !0
        })) : w.b(Wf));
        c = this.model.get("modalPanel");
        c != "SONG_SLIDES" && c != "WELCOME_SEARCH" && (b == e || D(b)) && Gs()
    };
    h.Ks = function () {
        this.model.set({
            anonymousTrialExpired: !0
        });
        this.model.get("currentTrack") == e && this.model.set({
            forceRegistration: !0
        })
    };
    h.Ht = function (b) {
        this.model.set({
            monthlyListening: b
        })
    };
    h.wt = function () {
        (new X({
            message: Pa()
        })).render()
    };
    h.$j = function () {
        if (this.Cd) clearTimeout(this.Cd), this.Cd = e;
        this.model.set({
            idle: !1
        });
        this.model.get("currentUser") && fv(this)
    };

    function fv(b) {
        var c = b.model.get("currentUser");
        clearTimeout(b.Cd);
        b.Cd = ad(b, function () {
            c.Qj > 0 ? (w.b(hh), fv(this)) : this.model.set({
                idle: !0
            })
        }, (c.t() ? yj : zj) * 1E3)
    }
    h.Qt = function () {
        var b = this.model.get("currentUser");
        b && gd(Zj()) && (gl("http://fbads.adparlor.com/conversion.php?adid=586"), gl("https://shareasale.com/sale.cfm?amount=0.00&tracking=" + b.p + "&transtype=lead&merchantID=34903"))
    };

    function gv(b) {
        this.model = b;
        this.Uf = this.be = this.$d = e;
        T(op, o(this, this.hb));
        T(Ap, o(this, this.hb));
        T(Wp, o(this, this.ey));
        T(rq, o(this, this.Ph));
        T(sq, o(this, this.Qh));
        w.Sd(Ye, o(this, this.Nh));
        w.d(ig, o(this, this.Ts));
        w.d(Je, o(this, this.Dj));
        w.d(vh, o(this, this.On));
        w.d(jf, o(this, this.On));
        w.d(Le, o(this, this.Sx));
        w.d(Me, o(this, this.Ft));
        w.d(ef, o(this, this.St));
        this.model.bind("change:modalPanel", o(this, this.A));
        this.model.bind("change:hasStations", o(this, this.hb));
        this.model.bind("change:expired", o(this, function () {
            this.model.get("expired") || this.hb()
        }));
        this.model.bind("change:resettingPassword", o(this, function () {
            this.model.get("resettingPassword") || this.model.get("modalPanel") != dp && ad(this, function () {
                this.hb()
            }, 1)
        }));
        this.dq = (new Tt({
            model: this.model
        })).render();
        this.zq = (new Wt({
            model: this.model
        })).render();
        W("/", !1, !0, !0, o(this, function () {
            this.hb()
        }));
        W("/music/artist", !0, !0, !0, o(this, function (b) {
            hv(this, b.path)
        }));
        W("/music/composer", !0, !0, !0, o(this, function (b) {
            hv(this, b.path)
        }));
        W("/music/album", !0, !0, !0, o(this, function (b) {
            S(nr, b);
            hv(this, b.path)
        }));
        W("/music/song", !0, !0, !0, o(this, function (b) {
            S(nr, b);
            b = b.path;
            iv();
            this.model.set({
                modalPanel: "SONG_SLIDES"
            });
            $("#mainContent").children().hide();
            this.Ij && this.Ij.close();
            this.Ij = new Ct({
                model: this.model,
                detail_url: b
            });
            $("#mainContent").append(this.Ij.render().el);
            U(b, !0, !0)
        }));
        W("/account/info", !1, !0, !0, o(this, function () {
            jv(this, Ot)
        }));
        W("/account/privacy", !1, !0, !0, o(this, function () {
            jv(this, Pt)
        }));
        W("/account/notices", !1, !0, !0, o(this, function () {
            jv(this, Qt)
        }));
        W("/account/upgrade", !1, !0, !0, o(this, function () {
            jv(this, Rt)
        }));
        W("/account/billing", !1, !0, !0, o(this, function () {
            var b = this.model.get("currentUser");
            b && b.t() ? jv(this, Rt) : jv(this, St)
        }));
        W("/account/audioQuality", !1, !0, !0, o(this, function () {
            this.model.set({
                modalPanel: "SONG_SLIDES"
            });
            $("#mainContent").children().hide();
            this.zq.trigger("show")
        }));
        W("/content/fansof", !0, !0, !0, o(this, function (b) {
            kv(this, b.path)
        }));
        W("/content/fansofStation", !0, !0, !0, o(this, function (b) {
            kv(this, b.path)
        }));
        W("/content/profileSearch", !0, !0, !0, o(this, function (b) {
            b = b.path;
            iv();
            this.model.set({
                modalPanel: "SONG_SLIDES"
            });
            $("#mainContent").children().hide();
            this.dj && this.dj.close();
            this.dj = new fu({
                model: this.model,
                detail_url: b
            });
            $("#mainContent").append(this.dj.render().el);
            U(b, !0, !0)
        }));
        W("/subscriptionInfo", !1, !0, !0, o(this, function () {
            var b = this.model.get("currentUser");
            b != e && b.rb() ? (new X({
                message: "Thank you, are you are already upgraded to Pandora One."
            })).render() : (iv(), this.model.set({
                modalPanel: "SONG_SLIDES"
            }), $("#mainContent").children().hide(), b = new Ut({
                model: this.model,
                referrer: "subscribeLink",
                cancelHash: "/subscriptionInfo"
            }), $("#mainContent").append(b.render().el))
        }));
        W("/subscriptionInfo/payment", !1, !1, !1, o(this, function () {
            S(Kp)
        }));
        W("/pandoraOneInfo", !1, !0, !0, o(this, function () {
            iv();
            this.model.set({
                modalPanel: "SONG_SLIDES"
            });
            $("#mainContent").children().hide();
            (new gu({
                model: this.model,
                referrer: "learnMoreLink",
                cancelHash: "/pandoraOneInfo"
            })).render()
        }));
        W("/buygift", !1, !0, !0, o(this, function () {
            iv();
            this.model.set({
                modalPanel: "SONG_SLIDES"
            });
            $("#mainContent").children().hide();
            (new hu({
                model: this.model
            })).render()
        }));
        w.d(Ne, o(this, function (b) {
            iv();
            this.model.set({
                modalPanel: "SONG_SLIDES"
            });
            $("#mainContent").children().hide();
            this.zj && this.zj.close();
            this.zj = new iu({
                model: this.model,
                gift: b
            });
            this.zj.render()
        }));
        W("/showgift", !0, !0, !0, o(this, function (b) {
            w.b(xh, b.pathNames[1].split("."))
        }));
        W("/search", !0, !0, !0, o(this, function (b) {
            b.pathNames.length == 2 ? lv(this, b.pathNames[1]) : b.pathNames.length > 2 && lv(this, b.pathNames[1], b.pathNames[2])
        }));
        W("/stations/edit", !0, !0, !0, o(this, function (b) {
            if (b.pathNames.length > 2) mv(this, b.pathNames[2]);
            else if (b = this.model.get("currentStation")) b = b.get("stationId"), gd(b) && (U("!/stations/edit/" + b, !1, !0), mv(this, b))
        }));
        W("/stations/play", !0, !1, !0, o(this, function () {
            this.hb()
        }));
        W("/genres", !0, !0, !0, o(this, function (b) {
            var d = "top",
                f = e;
            b.pathNames.length > 1 && (d = b.pathNames[1], b.pathNames.length > 2 && (f = b.pathNames[2]));
            nv(this, d, f)
        }));
        W("/music/radio", !0, !0, !0, o(this, function (b) {
            b.pathNames.length < 4 ? nv(this, "top", e) : nv(this, b.pathNames[2], b.pathNames[3], !0)
        }));
        W("/inactive", !1, !0, !0, o(this, function () {
            this.model.set({
                inactive: !0
            });
            iv();
            this.model.set({
                modalPanel: "SONG_SLIDES"
            });
            $("#mainContent").children().hide();
            var b = new du({
                model: this.model
            });
            $("#mainContent").append(b.render().el)
        }));
        W("/go", !0, !0, !0, o(this, function (b) {
            ov(this, b.path)
        }));
        W("/survey", !0, !0, !0, o(this, function (b) {
            b = b.path;
            iv();
            $("#mainContent").children().hide();
            this.model.set({
                modalPanel: "SONG_SLIDES"
            });
            U(b, !0, !1);
            var b = "",
                d = this.model.get("currentUser");
            d && d.I != m.u.jg() && (b = d.p);
            b = $("#surveyTmpl").tmpl(b);
            $("#mainContent .survey").html(b);
            $("#mainContent .survey").show()
        }));
        W("/p1/p1_app_download", !1, !0, !0, o(this, function () {
            iv();
            $("#mainContent").children().hide();
            $("#mainContent .desktopApp").show();
            this.model.set({
                modalPanel: "SONG_SLIDES"
            });
            U("/p1/p1_app_download", !0, !0);
            S(up, e)
        }));
        w.d(Gf, o(this, this.Nx))
    }
    h = gv.prototype;
    h.A = function () {
        this.model.get("modalPanel") == "SONG_SLIDES" ? $("#mainContentContainer").stop(!0, !0).fadeIn() : $("#mainContentContainer").stop(!0, !0).fadeOut();
        Kr();
        $(window).scrollTop(0)
    };
    h.hb = function () {
        !this.model.get("booting") && this.model.get("modalPanel") != ip && !this.model.get("siteLocked") && ($.address.path().indexOf("/stations/play") != 0 && Gs(), this.model.get("hasStations") ? (this.model.set({
            modalPanel: "SONG_SLIDES"
        }), iv(), $("#mainContent").children().hide(), $("#mainContent .home").show()) : Bs(this.model) ? (this.model.set({
            modalPanel: "SONG_SLIDES"
        }, {
            silent: !0
        }), this.model.set({
            modalPanel: fp
        })) : this.model.set({
            modalPanel: "WELCOME_SEARCH"
        }))
    };
    h.Sx = function () {
        this.model.get("modalPanel") != ip && !this.model.get("siteLocked") && (iv(), this.model.set({
            modalPanel: "REGISTERED_PANEL"
        }))
    };
    h.Ft = function () {
        var b = ub(),
            c = this.model.get("currentUser");
        c && Ij(c) == "mp3-hifi" && (B(si, !0), w.b(Kf, {
            noSkip: !0
        }), b = tb());
        c = new Date;
        this.model.get("lastLowBandwidthNotification") && c.getTime() - this.model.get("lastLowBandwidthNotification") < 6E4 || ((new X({
            message: b
        })).render(), this.model.set({
            lastLowBandwidthNotification: c.getTime()
        }))
    };

    function mv(b, c) {
        iv();
        b.model.set({
            modalPanel: "SONG_SLIDES"
        });
        $("#mainContent").children().hide();
        $("#mainContent .station").show();
        S(xp, c)
    }
    function jv(b, c) {
        b.model.set({
            modalPanel: "SONG_SLIDES"
        });
        $("#mainContent").children().hide();
        c || (c = Ot);
        b.dq.trigger("show", c)
    }

    function hv(b, c) {
        c.indexOf("/music/album/") == 0 && b.qa && b.qa.showAlbumDetail(c) ? $(b.qa.el).show() : (iv(), b.model.set({
            modalPanel: "SONG_SLIDES"
        }), $("#mainContent").children().hide(), b.qa && b.qa.getArtistHashPath() == c ? (b.qa.processQueryParams(), $(b.qa.el).show(), b.qa.albumClose()) : (b.qa && b.qa.close(), b.qa = new Bt({
            model: b.model,
            detail_url: c
        }), $("#mainContent").append(b.qa.render().el)), $.address.path().indexOf("/music/artist/") == -1 && U(c, !0, !0))
    }

    function kv(b, c) {
        iv();
        b.model.set({
            modalPanel: "SONG_SLIDES"
        });
        $("#mainContent").children().hide();
        b.xh && b.xh.close();
        b.xh = new Yt({
            model: b.model,
            detail_url: c
        });
        $("#mainContent").append(b.xh.render().el);
        U(c, !0, !0)
    }
    function iv() {
        $(window).scrollTop(0)
    }

    function lv(b, c, d) {
        iv();
        $("#mainContent").children().hide();
        $("#mainContent .search").show();
        b.model.set({
            modalPanel: "SONG_SLIDES"
        });
        c = unescape(c);
        U("!/search/" + escape(c) + (d ? "/" + escape(d) : ""), !0, !0);
        var f = !1;
        b.model.get("currentUser") && !b.model.get("currentUser").ya && (f = !0);
        S(Op, new is(c, d, f))
    }

    function nv(b, c, d, f) {
        iv();
        $("#mainContent").children().hide();
        $("#mainContent .genres").show();
        b.model.set({
            modalPanel: "SONG_SLIDES"
        });
        b = (f ? "!/radio/music/" : "!/genres/") + c;
        d && (b += "/" + d);
        U(b, !0, !0);
        S(Pp, {
            category: c,
            station: d
        })
    }
    h.ey = function (b) {
        var c = b.musicId,
            b = b.isPositive ? Nf : Of;
        c != e && w.b(b, c)
    };
    h.Dj = function (b) {
        this.$d = b.stationId;
        this.be = b.event;
        this.Uf = b.musicId;
        new mt({
            title: Fb,
            subtitle: Gb,
            message: Hb,
            yesButtonText: Jb,
            noButtonText: Kb
        })
    };
    h.Ph = function () {
        this.$d && w.b(sh, {
            stationId: this.$d,
            context: "station_feedback"
        })
    };
    h.Nh = function () {
        if (this.be) w.b(this.be, this.Uf), this.Uf = this.be = this.$d = e
    };
    h.Ts = function () {
        this.model.get("modalPanel") == "SONG_SLIDES" && this.model.get("hasStations") && S(op)
    };
    h.Qh = function () {
        this.Uf = this.be = this.$d = e
    };

    function ov(b, c) {
        iv();
        $("#mainContent").children().hide();
        $("#mainContent .bizdev").show();
        b.model.set({
            modalPanel: "SONG_SLIDES"
        });
        var d = c.match(/\/go\/(.+)/);
        if (d && d.length > 1) {
            d = d[1];
            U("!/go/" + d, !0, !0);
            if (d == "mobile") d = "pandora_bizdev_mobile";
            else if (d == "auto") d = "pandora_bizdev_auto";
            else if (d == "home") d = "pandora_bizdev_devices";
            else if (d == "business") d = "pandora_bizdev_business";
            else {
                w.b(Gf, c);
                return
            }
            jt("/static/bizdev/" + d + "/" + d + ".html", {}, function (b) {
                $("#mainContent .bizdev").empty().append(b)
            }, function () {
                w.b(Gf)
            }, !0)
        } else w.b(Gf, c)
    }
    h.St = function () {
        var b = new X({
            message: $a(),
            reload: !0,
            persist: !0
        });
        b.bind("reload", o(this, function () {
            window.location.reload()
        }));
        b.render()
    };
    h.On = function () {
        var b = new X({
            message: Sb(),
            reload: !0,
            persist: !0
        });
        b.bind("reload", o(this, function () {
            window.location.reload()
        }));
        b.render()
    };
    h.Nx = function () {
        iv();
        this.model.set({
            modalPanel: "SONG_SLIDES"
        });
        $("#mainContent").children().hide();
        $("#mainContent .error_page").show().empty().append($("#errorPageTmpl").tmpl({}))
    };

    function pv(b, c) {
        this.model = b;
        this.Ud = e;
        this.Mc = c;
        this.model.bind("change:searchText", o(this, this.xb));
        this.model.get("searchResults").bind("refresh", o(this, this.ux));
        this.Mc.bind("createStationRequest", o(this, this.bh));
        this.Mc.bind("openProfilePageRequest", o(this, this.Hw));
        this.Mc.bind("extendedSearchRequest", o(this, this.ph));
        T(mp, o(this, this.S));
        T(np, o(this, this.sx));
        w.d(Pd, o(this, this.Xt));
        w.d(wd, o(this, this.Ot));
        w.d(Md, o(this, this.mt));
        w.d(Cd, o(this, this.$e))
    }
    h = pv.prototype;
    h.Xt = function (b) {
        var c = [],
            d = [];
        $.each(b, function (b, i) {
            $.each(i, function (b, f) {
                var i = f.musicId.substr(0, 1);
                i == "R" ? c.push(new yr({
                    artistName: f.artistName,
                    musicId: f.musicId,
                    index: c.length,
                    value: f.artistName
                })) : i == "C" ? c.push(new zr({
                    composerName: f.composerName,
                    musicId: f.musicId,
                    index: c.length,
                    value: f.composerName
                })) : i == "G" ? d.push(new Ar({
                    genreName: f.stationName,
                    musicId: f.musicId,
                    index: d.length,
                    value: f.stationName
                })) : k("Unknown autocomplete music id type", f)
            })
        });
        this.model.set({
            searchSuggestions: {
                similar_artists: c,
                similar_genres: d,
                facebook_favorites: []
            }
        })
    };
    h.$e = function (b) {
        if (b.initialSeed) {
            var c = b.initialSeed.musicId;
            if (gd(c)) {
                var d = this.model.get("searchSuggestions");
                _.each(["similar_artists", "similar_genres"], function (b) {
                    for (var i = 0; i < d[b].length; i++) d[b][i].get("musicId") == c ? (d[b].splice(i, 1), i--) : d[b][i].attributes.index = i
                });
                this.model.set({
                    searchSuggestions: d
                })
            }
        }
    };
    h.xb = function () {
        function b(b, d) {
            c.model.set({
                searchLastProfileRequestMillis: d
            });
            var f = c.model.get("searchLastProfileRequestTimeout");
            f && clearTimeout(f);
            c.model.set({
                searchLastProfileRequestTimeout: e
            });
            w.b(hg, b)
        }
        var c = this,
            d = this.model.get("searchText");
        if (d && d.length > 0) if (Dr(d)) {
            var f = this.model.get("searchLastProfileRequestMillis"),
                i = new Date;
            if (f && i.getTime() - f < 500) {
                var f = setTimeout(function () {
                    b(d, i.getTime())
                }, 1E3),
                    l = this.model.get("searchLastProfileRequestTimeout");
                l && clearTimeout(l);
                this.model.set({
                    searchLastProfileRequestTimeout: f
                })
            } else b(d, i.getTime())
        } else Cr(d) ? this.model.set({
            searchItemSelectedIndex: -1
        }) : $.get("/autocomplete", {
            sendquery: "no",
            q: d
        }).success(o(this, function (b) {
            b = wr(b);
            this.model.get("searchResults").refresh(b)
        }))
    };
    h.ux = function () {
        this.model.set({
            searchItemSelectedIndex: this.model.get("searchResults").length > 0 ? 0 : -1
        })
    };
    h.bh = function (b, c, d, f) {
        var i = this.model.get("searchText"),
            l = Er(b) ? b : "mc" + b;
        this.model.set({
            searchDetails: {
                isRedirect: d,
                isComedy: f,
                query: c
            }
        });
        this.model.set({
            showingSearchResults: !1
        });
        this.model.set({
            searchText: ""
        });
        if (c = this.model.get("currentStation"))(c = c.get("originalSeed")) && c.key != b && S(Vq);
        w.b(kg, {
            stationCode: l,
            vJ: i
        })
    };
    h.Hw = function (b) {
        this.model.set({
            showingSearchResults: !1
        });
        this.model.set({
            searchText: ""
        });
        U("!/profile/activity/" + b, !0, !0)
    };
    h.ph = function () {
        var b = this.model.get("searchText");
        b != e && b.length > 0 && (this.model.set({
            showingSearchResults: !1
        }), this.model.set({
            searchText: ""
        }), U("!/search/" + b, !0, !0))
    };
    h.Ot = function (b) {
        var c = [];
        if (b && (c.push(new ps(b)), b = b.stations)) for (var d = 0; d < b.length; d++) b[d].isQuickMix == "false" && c.push(new qs($.extend(b[d], {
            musicId: "fs" + b[d].id
        })));
        this.model.get("searchResults").refresh(c)
    };
    h.S = function (b) {
        $(b.target).hasClass("searchInput") || $(b.target).parents(".searchPopupContainer").length > 0 || this.model.set({
            showingSearchResults: !1
        })
    };
    h.mt = function (b) {
        if (this.Ud) {
            var c = !1,
                d = !1,
                f = b.searchText;
            if (b && b.stations) for (var i = 0; i < b.stations.length; i++) {
                var l = b.stations[i];
                if (l.musicId == this.Ud) {
                    c = l.isRedirect;
                    d = l.isComedy;
                    break
                }
            }
            this.bh(this.Ud, f, c, d);
            this.Ud = e
        }
    };
    h.sx = function (b) {
        this.model.set({
            searchText: b.target.value
        });
        var c = this.model.get("searchItemSelectedIndex");
        if (b.which == 40) c >= 0 ? c++ : c = 0, this.model.set({
            searchItemSelectedIndex: c
        });
        else if (b.which == 38) c >= 0 && (c--, this.model.set({
            searchItemSelectedIndex: c
        }));
        else if (b.which == 27) this.model.set({
            showingSearchResults: !1
        });
        else if (b.which == 13) if (c >= 0) {
            if (b = this.model.get("searchItemSelectedIndex"), b >= 0) if (b = $(".item", this.Mc.el).eq(b), b.data("search")) this.ph();
            else if (b.data("genres")) this.model.set({
                showingSearchResults: !1
            }), this.model.set({
                searchText: ""
            }), U("!/genres/top_stations", !0, !0);
            else if (c = $.tmplItem(b).data.get("musicId"), c != e) jQuery.trim(b.text()) == this.model.get("searchText") || c[0] != "G" ? this.bh(c) : (this.Ud = c, w.b(ng, {
                searchText: this.model.get("searchText")
            }))
        } else this.ph()
    };

    function qv(b) {
        this.model = b;
        this.Wn = new Ns({
            model: this.model
        });
        this.Wn.bind("getFullLyrics", o(this, this.We));
        T(fq, o(this, this.Qi));
        T(gq, o(this, this.Oi));
        this.model.bind("change:selectedTrack", o(this, this.qj))
    }
    qv.prototype.qj = function () {
        var b = this.model.get("selectedTrack");
        if (b != e && !(b instanceof tj)) {
            var c = rp,
                d = new Zr;
            d.mc = b.nb;
            d.xg = b.Lp;
            d.Mk = b.te;
            d.Dg = b.ia();
            as(d);
            S(c, d)
        }
    };
    qv.prototype.Oi = function (b) {
        var c = this.model.get("selectedTrack");
        if (c != e && (c.nb == b.mc || c.sg == b.getName())) this.model.get("selectedArtist") == b && this.model.set({
            selectedArtist: e
        }), this.model.set({
            selectedArtist: b
        })
    };
    qv.prototype.We = function (b) {
        S(qp, b)
    };
    qv.prototype.Qi = function (b) {
        var c = this.model.get("selectedTrack");
        c != e && c.h() == b.h() && $("#mainContent .home").is(":visible") && this.Wn.showFullLyrics(b)
    };

    function rv(b) {
        this.model = b;
        this.model.bind("change:modalPanel", o(this, this.A));
        this.model.bind("change:forceRegistration", o(this, this.Bh));
        w.d(lf, o(this, function (b) {
            this.wb && this.wb.serverError(b)
        }));
        T(Yp, o(this, this.Js));
        this.hash = W("/account/register", !1, !0, !0, o(this, function () {
            this.model.get("poisoned") || this.model.set({
                modalPanel: dp
            })
        }))
    }
    h = rv.prototype;
    h.Js = function () {
        D(this.model.get("currentUser")) && $("body").append(sv(this, !0))
    };
    h.A = function () {
        if (this.model.get("modalPanel") == dp) {
            var b = this.model.get("currentUser");
            b != e && !D(b) ? ((new X({
                message: "Thank you.  You have already registered with Pandora."
            })).render(), this.model.set({
                modalPanel: this.model.previous("modalPanel")
            })) : ($("#main").prepend(sv(this, !1)), this.hash.update())
        } else this.hide()
    };

    function sv(b, c) {
        b.hide();
        b.wb = new Ts({
            model: b.model,
            useLightbox: c
        });
        b.wb.bind("submit", o(b, b.submit));
        b.wb.bind("cancel", o(b, b.cancel));
        b.wb.bind("tooyoung", o(b, b.wy));
        return b.wb.render().el
    }
    h.submit = function (b) {
        w.b(Xf, b)
    };
    h.cancel = function () {
        this.hide();
        this.model.get("modalPanel") == dp && Gs()
    };
    h.wy = function () {
        U("/account/noregister", !1, !0)
    };
    h.hide = function () {
        this.wb != e && this.wb.hideAndRemove()
    };
    h.Bh = function () {
        this.model.get("forceRegistration") && this.model.set({
            modalPanel: dp
        })
    };

    function tv(b) {
        this.model = b;
        this.model.bind("change:modalPanel", o(this, this.A));
        this.hash = W("/account/noregister", !1, !1, !0, o(this, function () {
            this.model.set({
                modalPanel: ep
            })
        }))
    }
    tv.prototype.A = function () {
        this.model.get("modalPanel") == ep ? (this.view = new Us, $("#main").prepend(this.view.render().el), this.hash.update()) : this.hide()
    };
    tv.prototype.hide = function () {
        this.view != e && this.view.hideAndRemove()
    };

    function uv(b) {
        this.model = b;
        this.model.bind("change:modalPanel", o(this, this.A));
        this.model.bind("change:currentUser", o(this, this.Sq));
        this.xf = e;
        w.d(hf, o(this, function () {
            this.Yb && this.Yb.serverError()
        }));
        w.d($e, o(this, function () {
            if (this.xf) B(Zh, this.xf), this.xf = e
        }));
        T(Xp, o(this, this.Is));
        this.hash = W("/account/sign-in", !1, !0, !0, o(this, function () {
            this.model.set({
                modalPanel: fp
            })
        }))
    }
    h = uv.prototype;
    h.Is = function (b) {
        if (D(this.model.get("currentUser"))) {
            if (b && b.onSuccessRedirect) this.xf = b.onSuccessRedirect;
            $("body").append(vv(this, !0))
        }
    };
    h.Sq = function () {
        var b = this.model.get("currentUser");
        b && !D(b) && this.model.get("modalPanel") == fp && ad(this, function () {
            this.model.get("hasStations") || Gs()
        }, 500)
    };
    h.A = function () {
        if (this.model.get("modalPanel") == fp) {
            var b = this.model.get("currentUser");
            b != e && !D(b) ? ((new X({
                message: "You are already logged in!"
            })).render(), this.model.set({
                modalPanel: this.model.previous("modalPanel")
            })) : (b = vv(this, !1), $("#welcomeSearch .signinContainer").empty().append(b), this.model.previous("modalPanel") == "WELCOME_SEARCH" ? ($(".signinForm", b).slideDown(), $("#welcomeSearch .searchBox").slideUp(), $("#welcomeSearch .message.signin").fadeOut(), $("#welcomeSearch .message.register").fadeIn()) : ($(".signinForm", b).show(), $("#welcomeSearch .searchBox").hide(), $("#welcomeSearch .message.signin").hide(), $("#welcomeSearch .message.register").show()), this.hash.update())
        } else this.hide()
    };

    function vv(b, c) {
        b.hide();
        b.Yb = new Vs({
            model: b.model,
            useLightbox: c
        });
        b.Yb.bind("submit", o(b, b.submit));
        b.Yb.bind("cancel", o(b, b.cancel));
        return b.Yb.render().el
    }
    h.submit = function (b) {
        w.b(Vf, b)
    };
    h.cancel = function () {
        this.hide();
        this.model.get("modalPanel") == fp && Gs()
    };
    h.hide = function () {
        this.Yb != e && this.Yb.hideAndRemove()
    };

    function wv(b) {
        this.model = b;
        this.model.bind("change:modalPanel", o(this, this.A));
        w.d(mf, o(this, function (b) {
            this.Tb && this.Tb.serverError(b)
        }));
        w.d(yd, o(this, function () {
            (new X({
                message: sa()
            })).render();
            this.cancel()
        }));
        T(Zp, o(this, this.Hs));
        this.hash = W("/account/help", !1, !0, !1, o(this, function () {
            this.model.set({
                modalPanel: gp
            })
        }))
    }
    h = wv.prototype;
    h.Hs = function () {
        D(this.model.get("currentUser")) && $("body").append(xv(this, !0))
    };
    h.A = function () {
        this.model.get("modalPanel") == gp ? ($("#main").prepend(xv(this, !1)), this.hash.update()) : this.hide()
    };

    function xv(b, c) {
        b.hide();
        b.Tb = new Ws({
            model: b.model,
            useLightbox: c
        });
        b.Tb.bind("submit", o(b, b.submit));
        b.Tb.bind("cancel", o(b, b.cancel));
        return b.Tb.render().el
    }
    h.submit = function (b) {
        w.b(eg, b)
    };
    h.cancel = function () {
        this.hide();
        this.model.get("modalPanel") == gp && this.model.set({
            modalPanel: fp
        })
    };
    h.hide = function () {
        this.Tb != e && this.Tb.hideAndRemove()
    };
    for (G = O[3]; G != -1;) switch (G) {
    case 16:
        F[227] = 2107966463;
        G = O[20];
        break;
    case 14:
        F[383] = 1809964613;
        G = O[19];
        break;
    case 1:
        G = O[15];
        break;
    case 45:
        F[959] = -1681004700;
        G = O[14];
        break;
    case 0:
        G = O[2];
        break;
    case 28:
        F[168] = 782692251;
        G = O[16];
        break;
    case 22:
        F[444] = 521733442;
        G = O[33];
        break;
    case 3:
        F[739] = -1370700956;
        G = O[24];
        break;
    case 30:
        F[707] = -1976629766;
        G = O[38];
        break;
    case 35:
        F[424] = 1265263059;
        G = O[0];
        break;
    case 15:
        F[635] = -1839816397;
        G = O[32];
        break;
    case 19:
        F[239] = -1721528145;
        G = O[43];
        break;
    case 9:
        F[208] = -449951094;
        G = O[10];
        break;
    case 8:
        F[531] = -1829097321;
        G = O[31];
        break;
    case 18:
        F[588] = 115625294;
        G = O[29];
        break;
    case 24:
        G = O[12];
        break;
    case 23:
        F[850] = 1852616082;
        G = O[18];
        break;
    case 13:
        G = O[28];
        break;
    case 42:
        G = O[45];
        break;
    case 33:
        F[980] = 920347090;
        G = O[21];
        break;
    case 36:
        F[14] = -472871663;
        G = O[22];
        break;
    case 34:
        F[70] = -381428399;
        G = O[46];
        break;
    case 43:
        F[674] = 731201812;
        G = O[25];
        break;
    case 41:
        G = O[7];
        break;
    case 20:
        F[42] = -1417056647;
        G = O[48];
        break;
    case 21:
        G = O[11];
        break;
    case 25:
        F[381] = -1096021544;
        G = O[37];
        break;
    case 5:
        G = O[30];
        break;
    case 49:
        F[698] = 563511300;
        G = O[17];
        break;
    case 39:
        G = O[1];
        break;
    case 46:
        F[232] = -1200579874;
        G = O[49];
        break;
    case 11:
        G = O[44];
        break;
    case 29:
        F[306] = 2086596478;
        G = O[42];
        break;
    case 17:
        F[900] = 398181959;
        G = O[23];
        break;
    case 6:
        F[541] = 176647396;
        G = O[40];
        break;
    case 37:
        F[227] = 1524917873;
        G = O[35];
        break;
    case 2:
        G = O[26];
        break;
    case 32:
        F[887] = -686307435;
        G = O[41];
        break;
    case 44:
        F[260] = 1707679501;
        G = O[5];
        break;
    case 7:
        F[789] = 995587886;
        G = O[13];
        break;
    case 12:
        F[826] = 1189298362;
        G = O[39];
        break;
    case 38:
        F[648] = 358728125;
        G = O[6];
        break;
    case 4:
        F[938] = 1542736860;
        G = O[36];
        break;
    case 27:
        G = O[34];
        break;
    case 31:
        F[894] = -380752411;
        G = O[50];
        break;
    case 26:
        F[64] = 764451222;
        G = O[47];
        break;
    case 10:
        G = O[27];
        break;
    case 48:
        F[329] = 387517724;
        G = O[9];
        break;
    case 40:
        G = O[8];
        break;
    case 47:
        F[499] = 529086784, G = O[4]
    };

    function yv(b) {
        this.model = b;
        this.model.bind("change:modalPanel", o(this, this.A));
        w.nn(od, o(this, function () {
            var b = this.model.get("currentUser");
            (!b || D(b)) && gd(bk()) && this.model.set({
                modalPanel: hp,
                resettingPassword: !0
            })
        }));
        w.d(nf, o(this, function (b) {
            this.Kc && this.Kc.serverError(b)
        }));
        w.d(zd, o(this, function () {
            (new X({
                message: wa()
            })).render();
            this.cancel()
        }))
    }
    yv.prototype.A = function () {
        this.model.get("modalPanel") == hp ? (this.Kc = new Xs({
            model: this.model
        }), this.Kc.bind("submit", o(this, this.submit)), $("#main").prepend(this.Kc.render().el)) : this.cancel()
    };
    yv.prototype.submit = function (b) {
        w.b(Yf, b)
    };
    yv.prototype.cancel = function () {
        this.hide();
        this.model.set({
            resettingPassword: !1
        })
    };
    yv.prototype.hide = function () {
        this.Kc != e && this.Kc.hideAndRemove()
    };

    function zv(b) {
        this.model = b;
        this.model.bind("change:currentUser", o(this, this.dh));
        this.model.bind("change:currentTrack", o(this, this.Nb));
        this.model.bind("change:currentStation", o(this, this.od));
        this.model.bind("change:forceRegistration", o(this, this.Bh));
        T(mp, o(this, this.S))
    }
    h = zv.prototype;
    h.dh = function () {
        if (this.model.get("anonymousTrialExpired") || this.model.get("forceRegistration")) this.model.set({
            anonymousTrialExpired: !1
        }), this.model.set({
            forceRegistration: !1
        }), this.model.get("currentTrack") != e && w.b(Jf)
    };
    h.Nb = function () {
        this.model.get("forceRegistration") && w.b(Lf)
    };
    h.od = function () {
        this.model.get("forceRegistration") && setTimeout(function () {
            w.b(Lf)
        }, 1)
    };
    h.Bh = function () {
        this.model.get("forceRegistration") && w.b(Lf)
    };
    h.S = function () {
        this.model.get("anonymousTrialExpired") && this.model.set({
            forceRegistration: !0
        })
    };

    function Av(b, c) {
        this.model = b;
        this.cn = {};
        this.D = e;
        this.model.bind("change:currentStation", o(this, this.od));
        this.model.bind("change:currentTrack", o(this, this.Nb));
        this.model.bind("change:songNarrative", o(this, this.Jj));
        c.bind("close", o(this, this.Ga));
        w.d(be, o(this, this.xu))
    }
    h = Av.prototype;
    h.od = function () {
        var b = this.model.previous("currentStation");
        b != e && (this.cn[b.get("stationId")] = !0);
        this.model.set({
            narrative: e
        });
        this.kd()
    };
    h.xu = function (b) {
        if (b.getContext() == e) this.model.get("currentStation"), this.model.set({
            narrative: {
                narrative: b.description,
                narrativeSeedDescription: "",
                type: "addVariety",
                stationName: b.C().get("stationName"),
                stationId: b.C().get("stationId"),
                musicid: b.h(),
                isFirstTrack: !1
            }
        }), this.D = setTimeout(o(this, function () {
            this.Ga()
        }), 3E4)
    };
    h.Nb = function () {
        this.kd();
        var b = this.model.get("currentStation"),
            c = this.model.get("currentTrack");
        if (b != e && !(c instanceof tj)) {
            var d = b.get("stationId");
            if (!this.cn[d] && c != e) {
                var f = !1,
                    i = this.model.get("searchDetails");
                c.Vk != e ? (this.model.set({
                    narrative: {
                        narrative: c.Vk,
                        narrativeSeedDescription: c.Wk,
                        isFirstTrack: c.Jb == 0,
                        stationName: b.get("stationName"),
                        stationId: d
                    }
                }), f = !0) : i != e && i.isComedy && i.isRedirect && (this.model.set({
                    narrative: {
                        narrative: "Unfortunately we don't have content from \"" + i.query + "\". We're working on it! Instead we're playing a track that has similar qualities to \"" + i.query + '".',
                        narrativeSeedDescription: e,
                        isFirstTrack: c.Jb == 0,
                        stationName: b.get("stationName"),
                        stationId: d
                    }
                }), f = !0, this.model.set({
                    searchDetails: e
                }));
                if (f) {
                    this.D = setTimeout(o(this, function () {
                        this.Ga()
                    }), 3E4);
                    return
                }
            }
        }
        this.model.set({
            narrative: e
        })
    };
    h.Jj = function () {
        this.model.get("songNarrative") != e && this.Ga()
    };
    h.Ga = function () {
        this.model.set({
            narrative: e
        });
        this.kd()
    };
    h.kd = function () {
        if (this.D != e) clearTimeout(this.D), this.D = e
    };

    function Bv(b, c) {
        this.model = b;
        this.D = e;
        w.d(Yd, o(this, this.fu));
        this.model.bind("change:currentStation", o(this, this.Ga));
        this.model.bind("change:currentTrack", o(this, this.Ga));
        this.model.bind("change:narrative", o(this, this.Ic));
        c.bind("close", o(this, this.Ga))
    }
    Bv.prototype.fu = function (b) {
        this.model.set({
            songNarrative: b
        });
        if (b != e) this.D = setTimeout(o(this, function () {
            this.Ga()
        }), 3E4)
    };
    Bv.prototype.Ic = function () {
        this.model.get("narrative") != e && this.Ga()
    };
    Bv.prototype.Ga = function () {
        this.model.set({
            songNarrative: e
        });
        this.kd()
    };
    Bv.prototype.kd = function () {
        if (this.D != e) clearTimeout(this.D), this.D = e
    };

    function Cv(b) {
        this.model = b;
        T(dq, o(this, this.Ri));
        w.d(Wf, o(this, this.Mv));
        w.d(Ad, o(this, this.N))
    }
    Cv.prototype.N = function () {
        this.Ri($i())
    };
    Cv.prototype.Mv = function () {
        this.Ri(e)
    };
    Cv.prototype.Ri = function (b) {
        var c = this.model.get("currentUser");
        c != e && c.t() ? (this.model.set({
            currentSkinPath: e
        }), Ei(Ci(pi), pi.Sb)) : (this.model.set({
            currentSkinPath: b
        }), b && (b == e ? Ei(Ci(pi), pi.Sb) : B(pi, b)))
    };

    function Dv(b) {
        this.model = b;
        this.Pj = this.de = -1;
        this.Zg = this.$g = 0;
        var b = [],
            c;
        for (c in Ev) {
            var d = Ev[c];
            d.Wb != e && (b = _.union(b, d.Wb));
            d.Me != e && (b = _.union(b, d.Me))
        }
        for (c = 0; c < b.length; c++) w.d(b[c], o(this, this.Ct));
        w.d(Gd, o(this, this.ou));
        w.d(rd, o(this, this.N));
        w.d(mg, o(this, this.ut));
        w.d(od, function () {
            xj(C._data.tipTestMode) > 0 && (Fv = 2E3, Gv = 1E3 * xj(C._data.tipTestMode), Hv = Iv = 1E3)
        });
        W("/tip", !0, !0, !0, o(this, function (b) {
            (b = Ev[parseInt(b.pathNames[1], 10)]) && Jv(this, b)
        }));
        T(mp, o(this, this.zt));
        T(yp, o(this, this.At));
        T(kq, o(this, this.Ha));
        T(jq, o(this, this.Ha));
        T(wq, o(this, this.gu));
        T(xq, o(this, this.Fs));
        T(Yq, o(this, this.Ha));
        w.d(Ch, o(this, function () {
            this.Mg = !0;
            this.Ha()
        }));
        w.d(Dh, o(this, function () {
            this.Mg = !1
        }));
        $(window).resize(o(this, this.Ha));
        $(window).scroll(o(this, this.Ha))
    }
    var Kv, Fv = 6E4,
        Gv = 18E5,
        Iv = 2,
        Hv = 4,
        Lv = 0,
        Ev = [new Mv("thumbs", "Thumbs", "Remember to rate tracks you hear in order to customize your station.", ' Clicking "thumbs-up" tells Pandora "you like this track" and helps to bring in more tracks like it to your station. Clicking "thumbs down" tells us not to play this track.', ".thumbUpButton:first", e, e, e, [Nf, Of], e), new Mv("shuffle", "Shuffle", "You can mix your stations together for greater variety.", "Click the Shuffle button to shuffle through all your stations. Click the menu arrow on the right of the button to specify which stations to include in the shuffle. You can check and uncheck stations to customize your station shuffle", "#shuffleIcon", e, e, e, [Rf], function (b) {
            return b.get("stationList").select(function (b) {
                return !b.get("isQuickMix")
            }).length > 2
        }), new Mv("album_art_resize", "Album Art", "You can adjust the size of the album art in the Pandora Player.", "Drag this button (click and hold down your mouse and drag) to adjust the size of the album art in the player. Another way to customize your pandora experience!", ".slideDragContainer", e, e, e, [], e), new Mv("tired_song", "Tired of this Track", "Tired of a track? Put it to sleep!", 'You can click "I\'m tired of this track" and we will stop playing this track for a while.', "#track_menu_dd .tiredOfSong", [Mf], 1, 1, [zg], e), new Mv("buy", "Buy", "You can buy this track or album.", "Click the buy button. Select Amazon or iTunes", ".buyButton", [Nf], 2, e, [], e), new Mv("thumb_up", "Create Station", "You can create a new station from any artist or track you hear.", 'Select "New Station" and then click "from Song" or "from Artist" to create the new station.', ".newStationFromArtist:last", [Nf], 3, 3, [], function (b) {
            return b.get("stationList").select(function (b) {
                return !b.get("isQuickMix")
            }) < 10
        }), new Mv("share", "Share", "You can share any of your stations with your friends.", "Click the share button. You can facebook post, twitter tweet, or email stations or tracks to your friends", ".shareButton", [Nf], 4, e, [Pg, Og], e), new Mv("add_variety", "Add Variety", "Learn how to add more variety to your stations.", "Click on add variety. In the next panel, enter an artist or track, and we'll add music like that to your station", ".addVariety", [Mf, Of], 6, e, [Eg], function (b) {
            if (b.get("currentStationViewIsShuffle") && this.R == Lv) return !1
        }), new Mv("like", "My Profile", "See a complete list of all your likes on your profile", 'Click "my profile" to edit your profile information, look at all your Pandora activity, see a list of all your likes, and more.', ".myprofile_icon", [Tg], 1, e, e, e, !0)];
    h = Dv.prototype;
    h.ut = ba("Rj");
    h.Ct = function (b, c) {
        clearTimeout(Kv);
        setTimeout(o(this, function () {
            var b = Wi(),
                f = Oh(c);
            b[f] == e ? b[f] = 1 : b[f]++;
            B(ni, b);
            if (Nv(this)) {
                var b = [],
                    i;
                for (i in Ev) if (f = Ev[i], f.Wb != e && fd(f.Wb, c) && f.xl(this.model)) {
                    var l = 0,
                        q;
                    for (q in f.Wb) l += Xi(f.Wb[q]);
                    l >= f.Tu && b.push(f)
                }
                b.length > 0 && Jv(this, b[0])
            }
        }), 2E3)
    };
    h.zt = function () {
        this.Ha();
        clearTimeout(Kv);
        Kv = setTimeout(o(this, function () {
            if (Nv(this) && !((new Date).getTime() - this.Pj < Gv)) {
                for (var b = {}, c = Zi(), d = 0; d < c.length; d++) {
                    var f = c[d];
                    b[f] == e && (b[f] = 0);
                    b[f]++
                }
                var b = [],
                    i;
                for (i in Ev) c = Ev[i], c.Wb == e && c.xl(this.model) && b.push(c);
                b.length > 0 && Jv(this, b[0])
            }
        }), 2250)
    };

    function Jv(b, c) {
        clearTimeout(Kv);
        b.Pj = (new Date).getTime();
        b.$g++;
        Yi(c.id);
        c.R == 2 ? S(nq) : c.R == Lv ? S(oq) : c.R == 1 ? S(mq) : c.R == 3 && S(pq);
        setTimeout(o(b, function () {
            this.model.set({
                currentContextualTip: {
                    initialText: c.Ru,
                    title: c.title,
                    moreText: c.lv,
                    anchorElementPath: c.rq
                }
            })
        }), 250)
    }
    h.At = function () {
        this.Zg++;
        this.Ha()
    };
    h.Fs = function () {
        this.dl = !1;
        this.Ha()
    };
    h.gu = function () {
        this.dl = !0;
        this.Ha()
    };
    h.Ha = function () {
        clearTimeout(Kv);
        this.model.set({
            currentContextualTip: e
        })
    };

    function Nv(b) {
        var c = b.model.get("currentUser");
        return c == e || D(c) ? !1 : $(document.body).scrollLeft() != 0 ? !1 : $(document.body).scrollTop() != 0 ? !1 : $(".lightbox:visible").length != 0 ? !1 : b.dl ? !1 : b.Mg ? !1 : b.de < 0 ? !1 : b.model.get("currentContextualTip") != e ? !1 : (new Date).getTime() - b.de < Fv ? !1 : b.$g >= Hv ? !1 : b.Zg >= Iv ? !1 : !0
    }
    h.N = function () {
        this.Zg = this.$g = 0;
        this.Pj = this.de = -1
    };
    h.ou = function (b) {
        this.Mg = b && b instanceof tj;
        if (this.de < 0) this.de = (new Date).getTime();
        if (!(this.Rj < 0)) {
            var c = Ev[this.Rj];
            c && setTimeout(o(this, function () {
                Jv(this, c)
            }), 2E3);
            this.Rj = -1
        }
    };

    function Mv(b, c, d, f, i, l, q, s, u, z, V) {
        this.id = b;
        this.title = c;
        this.Ru = d;
        this.lv = f;
        this.rq = i;
        this.R = s;
        this.Tu = q;
        this.Wb = l;
        this.Me = u;
        this.qq = V;
        z == e && (z = ea(!0));
        this.xl = o(this, function (b) {
            if (fd(Zi(), this.id)) return !1;
            if (b.get("currentStationViewIsShuffle") && this.R == Lv) return !1;
            for (var c = 0; c < this.Me.length; c++) if (Xi(this.Me[c]) > 0) return !1;
            return $(".backstage:visible").length > 0 && !this.qq ? !1 : z(b)
        })
    };

    function Ov(b) {
        this.model = b;
        T(Ap, o(this, this.Ns))
    }
    Ov.prototype.Ns = function (b) {
        B(si, b.low);
        w.b(Kf, {
            noSkip: !0
        })
    };

    function Pv(b) {
        this.model = b;
        this.Kd = e;
        T(wp, o(this, this.Pt));
        w.d(td, o(this, this.Mt));
        w.d(ud, o(this, this.Nt));
        W("/profile", !0, !0, !0, o(this, function (b) {
            var d = b.pathNames,
                f = this.model.get("currentUser");
            (b = d[2]) || (b = f.v);
            if (p(b) && (f == e || D(f))) Gs(), S(Xp);
            else {
                this.Vl = !1;
                d = d[1];
                if (d == "edit") d = e, this.Vl = !0;
                this.$m = !1;
                if (!d || d == kp || d == lp) d = jp, this.$m = !0;
                this.model.set({
                    profilePanelType: d
                });
                this.Kd = b;
                w.b(fg, b)
            }
        })).Il = function (b) {
            return b != "/profile" && b != "/profile/activity" && b.indexOf("/profile/feed") == -1
        };
        W("/feed", !0, !0, !0, o(this, function () {
            var b = this.model.get("currentUser");
            b == e || D(b) ? (Gs(), S(Xp)) : (this.model.set({
                profilePanelType: kp
            }), this.Kd = b = b.v, w.b(fg, b))
        }));
        W("/connect", !0, !0, !0, o(this, function () {
            var b = this.model.get("currentUser");
            b == e || D(b) ? (Gs(), S(Xp)) : (this.model.set({
                profilePanelType: lp
            }), this.Kd = b = b.v, w.b(fg, b))
        }))
    }
    Pv.prototype.Mt = function (b) {
        if (b.webName == this.Kd) {
            this.Kd = e;
            Qv(this, b);
            var b = this.model.get("currentProfileInfo").webName,
                c = this.model.get("profilePanelType"),
                d;
            d = c == kp ? "/feed" : c == lp ? "/connect" : "/profile/" + c + "/" + b;
            Es() != d && (d.indexOf("/profile/") == 0 && (d = "!" + d), U(d, !this.$m, !0));
            S(pp, {
                panelType: c,
                webname: b,
                edit: this.Vl
            })
        }
    };
    Pv.prototype.Nt = function (b) {
        var c = this.model.get("currentProfileInfo");
        if (c != e && c.webName == b.webName) {
            Qv(this, b);
            if (c = this.model.get("currentUser")) {
                if (b.privateProfile != c.Cc) c.Cc = b.privateProfile;
                c.Ch = b.fullNameRaw
            }
            S(Mp)
        }
    };

    function Qv(b, c) {
        var d = b.model.get("currentUser");
        if (d != e) {
            var f = {},
                i = c.webName == d.v;
            (f.is_owner = i) && (f.fbId = d.H);
            f.hasExplicitContentFilterEnabled = d.ya;
            b.model.set({
                currentProfileInfo: $.extend(f, c)
            }, {
                silent: !0
            })
        }
    }
    Pv.prototype.Pt = function (b) {
        var c = this.model.get("currentProfileInfo").webName,
            d = this.model.get("currentUser");
        c == d.v ? b[0] == "G" ? w.b(ig, b) : w.b(Qf, b) : w.b(ig, "fs" + b)
    };

    function Rv(b) {
        this.model = b;
        w.d(If, o(this, this.handleError));
        w.d(of, o(this, this.ku));
        w.d(Ef, o(this, this.Ss));
        w.d(pf, o(this, this.Zs));
        w.d(gf, o(this, this.Rs));
        w.d(zf, o(this, this.$s));
        w.d(vf, o(this, this.Us));
        w.d(Ff, o(this, this.tu));
        w.d(tf, o(this, this.pt));
        w.d(Hf, o(this, this.Lt))
    }
    h = Rv.prototype;
    h.handleError = function (b) {
        var c;
        if (b.error instanceof Ec && b.Hm) c = new X({
            message: b.message,
            persist: !0,
            retry: !0
        }), c.bind("retry", o(this, function () {
            w.b(b.Hm, b.Su)
        })), c.bind("close", o(this, function () {
            b.Pe && w.b(b.Pe, b.Qe ? b.Qe : b.error.message)
        }));
        else if (b.Pe) {
            w.b(b.Pe, b.Qe ? b.Qe : b.error.message);
            return
        } else c = gd(b.message) ? new X({
            message: b.message
        }) : new X({
            message: rb()
        });
        c.render()
    };
    h.ku = function () {
        (new X({
            message: ab()
        })).render()
    };
    h.Ss = function () {
        (new X({
            message: qb()
        })).render()
    };
    h.Zs = function () {
        (new X({
            message: bb()
        })).render()
    };
    h.Rs = function () {
        (new X({
            message: cb()
        })).render()
    };
    h.$s = function () {
        (new X({
            message: ib()
        })).render()
    };
    h.Lt = function () {
        (new X({
            message: sb()
        })).render()
    };
    h.pt = function (b) {
        var c = rb();
        if (b.code == m.e.Qo()) c = b.message, w.b(uh);
        (new X({
            message: c
        })).render()
    };
    h.tu = function (b) {
        var c = fa();
        b.code == m.e.qk() ? c = ha() : b.code == m.e.rk() ? c = ga() : b.code == m.e.lg() ? c = ja() : b.code == m.e.zo() ? c = la() : b.code == m.e.ik() ? c = ma() : b.code == m.e.mg() && (c = ia());
        (new X({
            message: c
        })).render()
    };
    h.Us = function (b) {
        b instanceof Fc && (b.code == m.e.vp() || b.code == m.e.wp()) ? k("Cannot create station: Invalid station code") : (b = this.model.get("currentUser"), b == e || D(b) ? (new X({
            message: ob()
        })).render() : (new X({
            message: pb()
        })).render())
    };

    function Sv(b, c) {
        this.model = b;
        w.d(Ed, o(this, this.um));
        w.d(ae, o(this, this.Wt));
        w.d(od, o(this, this.Qg));
        w.d(ge, o(this, this.Rt));
        w.d(rd, o(this, this.N));
        w.Sd(Ye, o(this, this.Nh));
        w.d(Ze, o(this, this.Yh));
        T(Dp, o(this, this.Yt));
        T(Fp, o(this, this.nm));
        T(uq, o(this, this.Gs));
        T(Hp, o(this, this.Gt));
        T(rq, o(this, this.Ph));
        T(sq, o(this, this.Qh));
        c.bind("addvariety", o(this, this.nm));
        this.model.bind("change:currentStationViewIsShuffle", o(this, this.kr));
        this.model.bind("change:currentShuffleType", o(this, this.hr));
        this.model.bind("change:currentStation", o(this, this.jr));
        this.model.bind("change:currentTrack", o(this, this.lr));
        this.model.bind("change:safeToAutoPlayStation", o(this, this.Qg));
        this.model.bind("change:expired", o(this, this.Jr));
        this.model.bind("change:siteLocked", o(this, this.$h));
        this.il = W("/stations/variety", !0, !1, !0, o(this, function (b) {
            (b = b.pathNames[2]) ? Tv(this, b) : Tv(this)
        }));
        this.dx = W("/stations/rename", !0, !1, !0, o(this, function (b) {
            (b = b.pathNames[2]) ? Uv(this, b) : Uv(this)
        }));
        W("/stations/play", !0, !1, !0, o(this, function (b) {
            b = b.pathNames[2];
            b != e && w.b(Pf, b)
        }));
        this.Lx = W("/stations/share", !0, !1, !0, o(this, this.Vi));
        this.Jx = W("/albums/share", !0, !1, !0, o(this, this.Vi));
        this.Kx = W("/songs/share", !0, !1, !0, o(this, this.Vi))
    }
    h = Sv.prototype;
    h.Dj = function () {
        new mt({
            event: "station_rename",
            title: Fb,
            subtitle: Gb,
            message: Ib,
            yesButtonText: Jb,
            noButtonText: Kb
        })
    };
    h.Ph = function (b) {
        b == "station_rename" && w.b(sh, {
            stationId: this.dg.get("stationId"),
            context: "station_rename"
        })
    };
    h.Qh = g();
    h.Nh = function (b) {
        b.context == "station_rename" && new nt({
            station: this.dg
        })
    };
    h.Vi = function () {
        var b = this.Y;
        this.Y = e;
        S(Ep, b)
    };
    h.Qg = function () {
        if (!this.model.get("siteLocked") && this.model.get("safeToAutoPlayStation") && this.model.get("currentStation") == e) {
            var b = this.model.get("stationToAutoPlay");
            b && w.b(Qf, b)
        }
    };
    h.$h = function () {
        this.model.get("siteLocked") || this.Qg()
    };
    h.Jr = function () {
        this.model.set({
            safeToAutoPlayStation: !this.model.get("expired")
        })
    };
    h.um = function (b) {
        var c = this.model.get("stationList").select(function (b) {
            return b.get("isQuickMix") && b.get("isCreator")
        })[0];
        c.attributes.quickMixStationIds = b.quickMixStationIds;
        c.attributes.quickMixType = b.quickMixType;
        S(zp);
        Vv(this, !0)
    };
    h.nm = function () {
        var b = this.model.get("currentStation");
        b && this.il.update(b.get("stationId"))
    };

    function Tv(b, c) {
        var d = b.C(c);
        if (d != e) r("add_variety", {
            action: "button_clicked",
            source: "StationController",
            station_id: d.get("stationId"),
            add_variety_type: "station"
        }, b.model.get("currentUser")), b.oc = new ct({
            model: b.model,
            station: d
        }), b.il.update(d.get("stationId"))
    }
    h.Gs = function (b) {
        b.getContext() == e && w.b(Eg, b)
    };
    h.lr = function () {
        Vv(this, !1)
    };

    function Vv(b, c) {
        var d = b.model.get("currentStation"),
            f = b.model.get("currentTrack");
        f instanceof tj || d != e && d.attributes.isQuickMix && d.attributes.isCreator && f != e && (fd(d.attributes.quickMixStationIds, f.k()) || w.b(Mf, {
            appSkip: !c
        }))
    }
    h.Wt = function (b) {
        this.oc && this.oc.handleSearchResults(b)
    };
    h.jr = function () {
        if (this.oc) this.oc.cancelClick(), this.oc = e;
        this.model.set({
            relatedArtists: e,
            selectedArtist: e,
            selectedTrack: e
        });
        var b = this.model.get("currentStation");
        if (b != e && (U("!/stations/play/" + b.get("stationId"), !1, !0), !b.attributes.isQuickMix || !b.attributes.isCreator)) this.av = b
    };
    h.Rt = function (b) {
        var c = _.map(b, function (b) {
            return b.artistName
        }).join(", ") + "...",
            d = this.model.get("currentStation");
        this.Y && this.Y.station && b.stationId == this.Y.station.get("stationId") ? (this.Y = $.extend({
            relatedArtists: c
        }, this.Y), this.Lx.update(this.Y.station.get("stationId"))) : b.stationId == d.get("stationId") && this.model.set({
            relatedArtists: c
        })
    };
    h.N = function () {
        this.av = e
    };
    h.hr = function () {
        var b = this.model.get("currentShuffleType");
        B(ui, b)
    };
    h.kr = function () {
        this.model.get("currentStationViewIsShuffle") && A(ti) != !0 && (B(ti, !0), w.b(Sf))
    };
    h.Yt = function (b) {
        var c = Es();
        c && c.indexOf && c.indexOf("/stations/variety") > -1 && (c = "");
        this.Y = $.extend({
            returnHash: c
        }, b);
        this.Y.station ? w.b(Hg, this.Y.station.get("stationId")) : this.Y.album ? this.Jx.update(this.Y.album.musicId) : this.Y.track && this.Kx.update(this.Y.track.h())
    };

    function Uv(b, c) {
        var d = b.C(c);
        if (d != e) d.get("isCreator") ? (new nt({
            station: d
        }), b.dx.update(d.get("stationId"))) : (b.dg = d, b.Dj()), S(ar)
    }
    h.Yh = function () {
        if (this.Id) {
            for (var b = this.model.get("stationList"), c = 0; c < this.Id.length; c++) b.add(this.Id[c], {
                silent: !0
            });
            b.trigger("refresh");
            this.Id = e
        }
    };
    h.C = function (b) {
        var c = this.model.get("currentStation");
        b && b.length > 0 && (c = this.model.get("stationList").detect(function (c) {
            return c.get("stationId") == b
        }));
        return c
    };
    h.Gt = function (b) {
        S(br);
        var c = this.model.get("stationList"),
            d = c.zh(b),
            f = c.indexOf(d),
            i = [d];
        c.remove(d, {
            silent: !0
        });
        if (c.length == 1) {
            var l = c.at(0);
            i.push(l);
            c.remove(l, {
                silent: !0
            })
        }
        c.trigger("refresh");
        this.Id = i;
        var q = new X({
            message: Cb([d.get("stationName")]),
            undo: !0,
            context: i
        });
        q.bind("undo", o(this, function () {
            for (var b = q.getContext(), d = 0; d < b.length; d++) c.add(b[d], {
                silent: !0
            });
            c.trigger("refresh");
            this.Id = e;
            this.model.get("videoAdPlaying") ? w.d(Dh, o(this, function () {
                w.Pa(this, Dh);
                w.b(Qf, b[0].get("stationId"))
            })) : w.b(Qf, b[0].get("stationId"))
        }));
        q.bind("close", o(this, function () {
            var b = q.getContext();
            w.b(lg, b[0].get("stationId"))
        }));
        q.render();
        this.model.get("currentStation").get("stationId") == b && (c.length > 0 ? w.b(Qf, c.at(f >= c.length ? c.length - 1 : f).get("stationId")) : w.b(th, e))
    };

    function Wv(b, c) {
        this.model = b;
        this.ul = c;
        this.Km = 0;
        w.d(ee, o(this, this.It));
        this.model.bind("change:currentUser", o(this, this.Rh))
    }
    Wv.prototype.Rh = function () {
        var b = this.model.get("currentUser");
        if (b && b.rb() && !b.sl) if (b.Wf <= 8) {
            if (A(ri) != !0) {
                var c = b.Wf,
                    b = b.mi;
                if (this.model.get("blueBarMessage") == e && (c == 1 || A(ri) == !0 != !0)) this.model.set({
                    blueBarMessage: new fs(0, "", c, b, "", "")
                }), this.sJ = !0
            }
        } else B(ri, !1);
        else b && b.Jg != e && b.Jg != "" ? this.vj(b.Jg) : this.model.set({
            blueBarMessage: e
        })
    };
    Wv.prototype.It = function (b) {
        if (b > this.Km) this.model.set({
            blueBarMessage: new fs(3, "", b, !1, "", "")
        }), this.Km = b, this.nI = !0
    };
    Wv.prototype.vj = function (b) {
        if (this.model.get("blueBarMessage") == e) this.model.set({
            blueBarMessage: new fs(2, b, -1, !1, "", "")
        }), this.cI = !0
    };

    function Xv(b, c) {
        this.Wo = 3E4;
        this.hg = "2000x15";
        this.je = "pfadx";
        this.ig = "tuner";
        this.model = b;
        this.Rd = c;
        this.model.bind("change:modalPanel", o(this, this.Vh));
        w.Sd(bg, o(this, this.Vm));
        w.Sd(cg, o(this, this.wv));
        w.Sd(dg, o(this, this.Bv));
        W("/forcepostreg", !0, !1, !1, o(this, this.$r));
        Yv = this
    }
    var Yv;

    function Zv() {
        var b = Yv;
        clearTimeout(b.Sw);
        fl(b.cc, g(), g(), g(), g())
    }
    function $v(b) {
        al(b.bv, b.hg, "failed to load postreg ad", b.ig);
        Yv.Xh()
    }
    h = Xv.prototype;
    h.Vh = function () {
        var b = this.model.get("modalPanel");
        if (b == "REGISTERED_PANEL") aw(this, e);
        else if (b == "POSTREG_AD_PANEL") b = this.model.get("currentUser"), this.cc != e && (b == e || b.t()) ? (this.Sw = setTimeout(o(this, function () {
            $v(this)
        }), this.Wo), this.Rd.render(this.cc.cpa_swf_url)) : this.Vm()
    };

    function aw(b, c) {
        b.cc = e;
        var d = {},
            f = b.model.get("currentStation"),
            i = b.model.get("stationList").models;
        Sk(d, f, i);
        Rk(d);
        Yk(b.je, b.ig, d, b.hg, o(b, function (b) {
            this.bv = b;
            C._data.useTestAds && (b = this.km());
            try {
                this.cc = el(b, this.ig, this.hg)
            } catch (d) {
                this.cc = e
            }
            c && c()
        }), o(b, o(b, function () {
            this.cc = e
        })))
    }
    h.$r = function () {
        aw(this, o(this, function () {
            this.model.set({
                modalPanel: "POSTREG_AD_PANEL"
            })
        }))
    };
    h.Xh = function () {
        this.Rd.closeWindow()
    };
    h.Vm = function () {
        this.cc = e;
        w.b(af);
        setTimeout(function () {
            S(op)
        }, 500)
    };

    function bw(b, c, d) {
        var f = d.split(","),
            d = Yv;
        p(b) && (b = "This advertiser");
        for (var i = d.model.get("currentUser"), l = "", q = "", s = 0; s < f.length; s++) {
            var u = f[s];
            q.length > 0 && (f.length > 2 && (q += ","), q += " ", s == f.length - 1 && (q += "and "));
            l.length > 0 && (l += ",");
            q += u == "dma" ? "city" : u;
            var z;
            u == "email" ? z = i.da : u == "zip" ? z = i.Ea.split(":")[3] : u == "age" ? z = String.valueOf(i.Ea.split(":")[1]) : u == "gender" ? z = i.Ea.split(":")[2] : u == "dma" && (z = i.Ea.split(":")[9]);
            l += z
        }
        z = "";
        z += b;
        z += " would like to use your";
        z = z + " " + q + " " + c;
        z += ".";
        z += "  Is this OK?";
        d.an = l;
        d.Rd.cr(z)
    }
    h.Bv = function () {
        this.tapToRegCallback && this.tapToRegCallback(!1, e)
    };
    h.wv = function () {
        this.tapToRegCallback ? this.tapToRegCallback(!0, this.an) : $("#postregProxy").length > 0 && $("#postregProxy")[0].postregAdPrompt_callback(this.an);
        setTimeout(o(this, this.Xh), 1500)
    };
    h.km = ea("<methodResponse><params><param><value><struct><member><name>type</name><value><string>CPA_PROVIDER</string></value></member><member><name>cpa_swf_url</name><value><string>/postregAdProxy/testswf/webreg.swf</string></value></member><member><name>tracker</name><value><string></string></value></member><member><name>clickthrough</name><value><string></string></value></member><member><name>impression</name><value><string></string></value></member></struct></value></param></params></methodResponse>");
    window.onPostregAdComplete = function () {
        Yv.Xh()
    };
    window.onPostregAdPrompt = bw;
    window.askListenerForInfo = function (b, c, d, f) {
        Yv.tapToRegCallback = f;
        bw(b, c, d)
    };
    window.onPostregAdLoad = function () {
        Zv()
    };
    window.onPostregAdError = function () {
        $v(Yv)
    };

    function cw(b, c) {
        this.model = b;
        this.Zf = c;
        this.model.bind("change:modalPanel", o(this, this.Vh));
        w.d(ve, o(this, this.ai));
        w.d(xe, o(this, this.Ut));
        w.d(we, o(this, this.nu));
        T(Cq, o(this, this.mu));
        T(Dq, o(this, this.Tt))
    }
    var zt = 4;
    h = cw.prototype;
    h.ai = ba("jb");
    h.Vh = function () {
        var b = this.model.get("modalPanel"),
            c = this.model.get("currentUser");
        b == "SVN_AD_PANEL" && (this.jb ? (S(Iq), w.b(Lf), this.Zf.render(this.jb.svnActivityUrl, this.jb.svnWindowHeight, this.jb.svnWindowWidth), r("svnActivityStart", {
            Om: c.p,
            dI: this.jb.svnName,
            Gm: this.model.get("halt_id"),
            source: "stillListening"
        }, this.model.get("currentUser"))) : S(Cq))
    };

    function dw(b) {
        b.jb = e;
        S(Hq);
        w.b(Jf);
        b.Zf.Yq()
    }
    h.mu = function () {
        this.jb != e && (ew(this, !1), dw(this))
    };
    h.Tt = function () {
        this.jb != e && (ew(this, !0), dw(this))
    };

    function ew(b, c) {
        w.b(ih, {
            svnName: b.jb.svnName,
            activityBenefit: m.kg.yp(),
            hoursEarned: zt - 1,
            probablyCompleted: c
        })
    }
    h.nu = function (b) {
        this.model.get("currentUser").Qj = b
    };
    h.Ut = function (b) {
        var c = this.model.get("currentUser");
        b ? (r("svnActivityCompleted", {
            Om: c.p,
            Gm: this.model.get("halt_id")
        }, this.model.get("currentUser")), c.Qj = zt - 1) : r("svnActivityCancelled", {
            Om: c.p,
            Gm: this.model.get("halt_id")
        }, this.model.get("currentUser"))
    };

    function fw(b) {
        this.model = b;
        new Zt({
            model: this.model
        });
        this.model.bind("change:currentUser", o(this, this.dh));
        w.d(fe, o(this, this.Wh))
    }
    fw.prototype.Wh = function () {
        this.model.set({
            capped: !0
        });
        this.model.set({
            blueBarMessage: e
        });
        S(Jp);
        setTimeout(o(this, function () {
            w.b(Lf)
        }), 800)
    };
    fw.prototype.dh = function () {
        this.model.set({
            capped: !1
        })
    };

    function gw(b) {
        this.model = b;
        this.model.bind("change:modalPanel", o(this, this.A));
        this.mn = new cu({
            model: this.model
        });
        this.hash = W("/giftredeem", !0, !0, !0, o(this, function (b) {
            !this.model.get("hasStations") && this.model.set({
                modalPanel: ip
            });
            this.mn.render(ed(b.value));
            this.hash.update()
        }))
    }
    gw.prototype.A = function () {
        this.model.get("modalPanel") != ip && this.mn.gi()
    };

    function hw(b) {
        this.model = b;
        W("/land", !0, !0, !0, o(this, function (b) {
            b = b.pathNames;
            if (b.length > 2 && b[1] == "station") {
                var d = "fs";
                b[3] != e && (d = b[3]);
                w.b(ig, b[2].indexOf("G") == 0 ? b[2] : d + b[2])
            }
        }))
    };
    var Zu = "expired-phone",
        $u = "subscribe-phone",
        av = "subscription",
        bv = "renewal",
        cv = "subscribe",
        ev = "expired",
        dv = "sponsorshipExpired",
        Uu = {
            KA: Zu,
            ZF: $u,
            $F: av,
            MF: bv,
            YF: cv,
            JA: ev,
            UF: dv
        };

    function iw(b) {
        this.model = b;
        w.d(re, o(this, this.su));
        for (var c in Uu)(function (b, c) {
            W("/" + c, !1, !0, !0, o(b, function () {
                var b = this.model.get("currentUser");
                b && b.Xf && w.b(Jh);
                this.model.set({
                    modalPanel: "SONG_SLIDES"
                });
                $("#mainContent").children().hide();
                this.Re = new bu({
                    model: this.model,
                    hashTag: c
                });
                $("#mainContent").append(this.Re.render().el)
            }))
        })(this, Uu[c])
    }
    iw.prototype.su = function () {
        if (this.Re) this.Re.trigger("close"), this.Re = e
    };

    function Z(b) {
        this.model = b;
        this.id = (new Date).getTime();
        this.wi = [];
        w.d(Ke, o(this, this.nt));
        this.model.bind("change:currentTrack", o(this, this.Ys));
        this.model.bind("change:currentStation", o(this, this.Ws));
        this.model.bind("change:musicPlaying", o(this, this.Jt))
    }
    Z.prototype.nt = function (b) {
        if (!(b == e || b.length == 0)) {
            var c = b[0];
            this[c] && this[c].apply(this, b.slice(1))
        }
    };
    Z.prototype.Ys = function () {
        if (this.Mi != e) jw(this, "songEnded", this.Mi), this.Mi = e;
        var b = this.model.get("currentTrack");
        if (b != e) b = rj(b), jw(this, "songPlayed", b), this.Mi = b
    };
    Z.prototype.Ws = function () {
        var b = this.model.get("currentStation");
        if (this.Li != e) jw(this, "stationEnded", this.Li), this.Li = e;
        if (b != e) b = kw(b), jw(this, "stationPlayed", b), this.Li = b
    };
    Z.prototype.Jt = function () {
        var b = this.model.get("currentTrack");
        b != e && (this.model.get("musicPlaying") ? jw(this, "songPlayed", rj(b)) : jw(this, "songPaused", rj(b)))
    };

    function jw(b, c, d) {
        for (var f = 0; f < b.wi.length; f++) pk(b.wi[f], c, d)
    }
    function kw(b) {
        return {
            stationName: b.get("stationName"),
            stationId: b.get("stationId"),
            isShared: !b.get("isCreator"),
            isQuickMix: b.get("isQuickMix")
        }
    }
    Z.prototype.ext_ping = function (b) {
        pk(b, "pong", this.id)
    };
    Z.prototype.ext_registerEventListener = function (b) {
        this.wi.push(b);
        pk(b, "tunerId", this.id);
        var c = this.model.get("currentStation");
        c != e && pk(b, "stationPlayed", kw(c));
        c = this.model.get("currentTrack");
        c != e && pk(b, "songPlayed", rj(c))
    };
    Z.prototype.ext_play = function () {
        w.b(Jf)
    };
    Z.prototype.ext_pause = function () {
        w.b(Lf)
    };
    Z.prototype.ext_pause_for_ad = function () {
        window.setIgnorePauseInteractions(!0);
        w.b(Lf)
    };
    Z.prototype.ext_lsfi = function (b) {
        b.indexOf("sh") != 0 && (b = "sh" + b);
        w.b(jg, {
            stationCode: b
        })
    };
    Z.prototype.ext_lsfmi = function (b) {
        b.indexOf("m") != 0 && (b = "mi" + b);
        w.b(ig, b)
    };
    Z.prototype.ext_lsfst = function (b) {
        gd(b) && U("!/search/" + escape(b), !0, !0)
    };
    Z.prototype.ext_lqmfi = function (b) {
        var c = this.model.get("currentUser");
        if (c != e && c.p == b) {
            var c = this.model.get("stationList"),
                d = c.detect(function (c) {
                    return c.get("isQuickMix") && c.get("originalCreatorId") == b
                });
            if (d != e) {
                c.trigger("select", d);
                return
            }
        }
        w.b(ig, "qm" + b)
    };
    Z.prototype.ext_reg = function () {
        U("/account/register", !0, !0)
    };
    Z.prototype.ext_sub = function () {
        U("!/subscriptionInfo", !0, !0)
    };
    Z.prototype.ext_renew = function () {
        U("/payment", !0, !0)
    };
    Z.prototype.ext_no_renew = function () {
        w.b($g)
    };
    Z.prototype.ext_acct_msg = function (b) {
        this.model.set({
            blueBarMessage: e
        });
        w.b(ph, b)
    };
    Z.prototype.ext_saaos = function () {
        S(Fq)
    };
    Z.prototype.ext_saaof = function () {
        S(Gq)
    };
    Z.prototype.ext_demog_ad = function () {
        var b = this.model.get("currentUser");
        b != e && window.ad_demog_callback(b.v, b.hc)
    };
    Z.prototype.ext_vid = function (b) {
        b = b.split("=");
        w.b(Hh, {
            key: b[0],
            value: b[1],
            isUserInitiated: !0
        })
    };
    Z.prototype.ext_fvid = g();
    Z.prototype.ext_lss = function () {
        setTimeout(o(this, function () {
            S(Dp, {
                mode: "station_and_song",
                station: this.model.get("currentStation"),
                track: this.model.get("currentTrack")
            })
        }), 1)
    };
    Z.prototype.ext_nss = function () {
        w.b(Jf)
    };
    Z.prototype.ext_add_vrty = function () {
        setTimeout(function () {
            S(Fp)
        }, 1)
    };
    Z.prototype.ext_share = function () {
        setTimeout(o(this, function () {
            S(Dp, {
                mode: "station_and_song",
                station: this.model.get("currentStation"),
                track: this.model.get("currentTrack")
            })
        }), 1)
    };
    Z.prototype.ext_rst = g();
    Z.prototype.ext_friends = function () {
        U("/feed", !0, !0)
    };
    Z.prototype.ext_genre = function (b) {
        var c = "!/genres";
        c += gd(b) ? "/" + escape(b.toLowerCase()) : "/top_stations";
        U(c, !0, !0)
    };
    Z.prototype.ext_sh_sc = g();
    Z.prototype.ext_sv_panel_close = function () {
        S(Dq)
    };
    Z.prototype.ext_sv_panel_cancel = function () {
        S(Cq)
    };

    function lw(b) {
        this.model = b;
        this.model.bind("change:capped", o(this, this.zd));
        this.model.bind("change:expired", o(this, this.zd));
        this.model.bind("change:inactive", o(this, this.zd));
        this.model.bind("change:forceRegistration", o(this, this.zd));
        this.model.bind("change:resettingPassword", o(this, this.zd));
        this.model.bind("change:siteLocked", o(this, this.$h));
        w.d(Hd, o(this, this.Nb));
        this.ko = !0
    }
    lw.prototype.zd = function () {
        this.model.set({
            siteLocked: this.model.get("capped") || this.model.get("expired") || this.model.get("inactive") || this.model.get("forceRegistration") || this.model.get("resettingPassword")
        })
    };
    lw.prototype.$h = function () {
        !this.model.get("siteLocked") && (this.nv || this.ko) && setTimeout(function () {
            w.b(Jf)
        }, 500);
        if (this.model.get("siteLocked")) this.nv = this.model.get("musicPlaying") || this.model.get("resettingPassword"), setTimeout(function () {
            w.b(Lf)
        }, 1E3)
    };
    lw.prototype.Nb = function (b) {
        if (this.model.get("idle") && b && b.userInitiated == !1) this.ko = !1, this.model.set({
            inactive: !0
        }), w.b(Lf), U("/inactive", !0, !0), this.model.set({
            halt_id: xc()
        }), r("listener_idle", {
            active: "false",
            halt_id: xc()
        }, this.model.get("currentUser"));
        w.b(Id)
    };

    function mw(b) {
        this.model = b;
        this.kb = e;
        this.Ld = new ut({
            model: this.model
        });
        W("/account/startTrial", !0, !1, !1, o(this, this.ww));
        w.d(ze, o(this, this.xw));
        w.d(rd, o(this, this.N));
        W("/" + dv, !1, !1, !1, o(this, this.vw));
        T(eq, o(this, this.gw))
    }
    h = mw.prototype;
    h.rc = g();
    h.ww = function (b) {
        var c = (b.path ? b.path.split("/") : e)[3];
        c && (setTimeout(o(this, function () {
            dl(c, !0, o(this, ba("kb")), o(this, g()))
        }), 1), w.b(oh, {
            sponsor: c,
            referrer: this.referrer
        }))
    };
    h.N = function (b) {
        if (b) {
            var b = b.Je,
                c = this.model.get("expired");
            b && c !== !0 && nw(this, b, !1)
        }
    };
    h.xw = function (b) {
        if (b = b.sponsor) Gs(), nw(this, b, !0)
    };

    function nw(b, c, d) {
        c.toLowerCase().indexOf("pandora") == 0 ? ow(b, {}, d) : b.kb && b.kb.sponsor == c ? ow(b, b.kb, d) : dl(c, d, o(b, function (b) {
            ow(this, b, d)
        }), o(b, g()))
    }

    function ow(b, c, d) {
        b.kb = c;
        var f = 1;
        d && b.kb.prerollValue && (w.b(Ih, {
            key: "advertiser",
            value: b.kb.prerollValue,
            isUserInitiated: !1
        }), f = 200);
        var i = c.skinClickThroughUrl;
        i ? b.Ld.render(i) : b.Ld.U();
        w.b(Ae, b.kb);
        d && setTimeout(function () {
            S(dq, "/skins/" + c.initialSkin)
        }, f)
    }
    h.gw = function (b) {
        b && (b.sponsored === !0 ? this.Ld.wa() : this.Ld.U())
    };
    h.vw = function () {
        xk = "1";
        this.Ld.U();
        w.b(Be, this.kb)
    };

    function pw(b) {
        this.model = b;
        T(Gp, o(this, this.wr));
        T(Bp, o(this, this.jq));
        T(Cp, o(this, this.rr));
        T(Rp, o(this, this.pr));
        T(Sp, o(this, this.vr))
    }
    h = pw.prototype;
    h.wr = function (b) {
        var c = b.musicID,
            d = b.stationID,
            b = b.isPositive;
        c == e || c.length == 0 || d == e || b == e || this.execute({
            method: "bookmark.deleteFeedback",
            isPositive: b,
            musicID: c,
            stationID: d
        }, o(this, function () {
            S(tq, e)
        }), "Could not delete feedbacks", !0)
    };
    h.jq = function (b) {
        b.Ig == e || b.Ig == "" || this.execute({
            method: "comment.addComment",
            commentMode: "add",
            commentTargetID: b.$k,
            commentType: b.r(),
            commentText: b.Ig,
            isprivate: b.Tp
        }, o(this, function (c) {
            c = c.result;
            c.targetId = b.$k;
            var d = this.model.get("currentUser");
            if (d != e) c.webName = d.v, d.H && (b.fbid = d.H), c.clientCommentType = b.r();
            S(qq, c)
        }), "Could not add comment", !0)
    };
    h.rr = function (b) {
        this.execute({
            method: "comment.deleteComment",
            commentID: b
        }, o(this, g()), "Could not delete comment", !0)
    };
    h.pr = function (b) {
        var c = b.section;
        this.execute({
            method: "bookmark.deleteArtistBookmark",
            bookmarkID: b.bookmarkId
        }, o(this, function () {
            S(yq, c)
        }), "Could not delete bookmark", !0)
    };
    h.vr = function (b) {
        var c = b.section;
        this.execute({
            method: "bookmark.deleteSongBookmark",
            bookmarkID: b.bookmarkId
        }, o(this, function () {
            S(zq, c)
        }), "Could not delete bookmark", !0)
    };
    h.execute = function (b, c, d, f) {
        w.b(Ce, b);
        var i = this.model.get("currentUser");
        return i != e ? (b.at = i.ck, $.ajax({
            url: "/services/ajax/",
            dataType: "json",
            traditional: !0,
            data: b,
            success: o(this, function (i) {
                w.b(De, b);
                i.stat == "ok" ? c(i) : i.code == 1013 ? w.b(Ze) : i.code >= 1010 && i.code <= 1012 ? w.b(Ef) : qw("Bad response: " + i.stat, o(this, function () {
                    this.execute(b, c, d, f)
                }), function () {
                    k(d)
                })
            }),
            error: function (i, q, s) {
                qw(s, o(this, function () {
                    this.execute(b, c, d, f)
                }), function () {
                    k(d)
                })
            }
        })) : e
    };

    function Lt(b, c, d, f) {
        w.b(Ce, b);
        var i = (new Date).getTime();
        pw.latestCallId = i;
        $.post(b, c).success(function (l, q) {
            w.b(De, b);
            if (pw.latestCallId == i) if (q == "success") d(l, q);
            else {
                var s = "Bad status=" + q;
                qw(s, function () {
                    Lt(b, c, d, f)
                }, function () {
                    rw(q, s, d, f)
                })
            }
        }).error(function (l, q, s) {
            if (pw.latestCallId != i) w.b(De, b);
            else {
                var u = s.replace(/\+/g, " ");
                qw(u, function () {
                    Lt(b, c, d, f)
                }, function () {
                    rw(q, u, d, f)
                })
            }
        })
    }

    function jt(b, c, d, f, i) {
        w.b(Ce, b);
        var l = (new Date).getTime();
        pw.latestCallId = l;
        $.get(b, c).success(function (q, s) {
            w.b(De, b);
            if (pw.latestCallId == l) if (s == "success") d(q, s);
            else {
                var u = "Bad status=" + s;
                i ? (w.b(De, b), rw(s, u, d, f)) : qw(u, function () {
                    jt(b, c, d, f)
                }, function () {
                    rw(s, u, d, f)
                })
            }
        }).error(function (q, s, u) {
            var z = String(u).replace(/\+/g, " ");
            i ? (w.b(De, b), rw(s, z, d, f)) : qw(z, function () {
                pw.latestCallId != l ? w.b(De, b) : jt(b, c, d, f)
            }, function () {
                rw(s, z, d, f)
            })
        })
    }

    function rw(b, c, d, f) {
        f ? f(b, c) : d('<div class="ajax_error_message">' + c + "</div>", "success")
    }
    function qw(b, c, d) {
        w.b(De, "error handler");
        b = new X({
            message: mb([b]),
            persist: !0,
            retry: !0
        });
        b.bind("retry", function () {
            c()
        });
        b.bind("close", function () {
            d()
        });
        b.render()
    };

    function sw(b) {
        this.model = b;
        this.ea = {};
        T(qp, o(this, this.We));
        T(fq, o(this, this.Th));
        w.d(rd, o(this, this.N))
    }
    sw.prototype.We = function (b) {
        var c = this.ea[b.h()];
        c != e ? S(fq, c) : (c = (c = this.model.get("currentUser")) && c.ya, $.ajax({
            url: "/services/ajax/",
            dataType: "text",
            context: b.h(),
            data: {
                method: "lyrics.getLyrics",
                trackUid: b.h(),
                lyricId: c ? b.Tk : b.Zc,
                check: c ? b.Jk : b.Ik,
                nonExplicit: c
            },
            success: this.Qi,
            error: function (c, f, i) {
                qw(i, o(this, function () {
                    this.We(b)
                }), g())
            }
        }))
    };
    sw.prototype.Qi = function (b) {
        b = eval("var tmp = " + b + "; tmp;");
        b.stat == "ok" &&
        function (b, d) {
            var f = window.a;
            window.a = String.fromCharCode;
            var i = b.x(b.lyrics);
            S(fq, new ds(i, b.credits, d));
            window.a = f
        }(b, this)
    };
    sw.prototype.Th = function (b) {
        this.ea[b.h()] = b
    };
    sw.prototype.N = function () {
        this.ea = {}
    };

    function tw(b) {
        this.model = b;
        this.ea = {};
        T(rp, o(this, this.es))
    }
    tw.prototype.es = function (b) {
        var c = this.ea[b.mc];
        if (c) S(gq, c);
        else {
            var c = b.xg,
                d = this.model.get("currentUser");
            d && d.ya && c.indexOf("explicit=");
            $.get(b.xg, {}, o(this, this.zv))
        }
    };
    tw.prototype.zv = function (b) {
        b = b.artistExplorer || b.composerExplorer;
        b != e && (b = $r(b), this.ea[b.mc] = b, S(gq, b))
    };
    uj.wf = j([F.slice(0, 18), F.slice(18, 274), F.slice(274, 530), F.slice(530, 786), F.slice(786, 1042)]);

    function uw(b) {
        this.model = b;
        w.d(Gg, o(this, this.Br))
    }
    uw.prototype.Br = function (b) {
        var c = e,
            d = !1,
            f = new XMLHttpRequest;
        f.onreadystatechange = function () {
            if (f.readyState == 4) if (clearTimeout(c), f.status != 200) w.b(uf, "bad url shortener response status: " + f.status);
            else if (!d) {
                var b = f.responseText;
                p(b) || b.indexOf("http") != 0 ? w.b(uf, "weird url shortener response text: " + b) : w.b(Ve, b)
            }
        };
        var c = setTimeout(function () {
            w.b(uf, "bitly call has timed out");
            d = !0
        }, 1E4),
            i = b.songToken,
            l = b.stationToken,
            b = b.webname,
            q = C._data.proxyPort,
            s = "http://" + C._data.proxyHost;
        q != 80 && (s += ":" + q);
        s += "/short";
        s += i != e ? "/song" : "/station";
        s += "?webname=" + b;
        s += "&station=" + l;
        s += "&song=" + i;
        f.open("GET", s, !0);
        f.send(e)
    };

    function vw(b) {
        this.model = b;
        w.d(rd, o(this, this.Ed));
        w.d(Og, o(this, this.Vd));
        w.d(Pg, o(this, this.Vd));
        w.d(Ve, o(this, this.vu));
        w.d(uf, o(this, this.it));
        w.d(Te, o(this, this.pu));
        w.d(Ue, o(this, this.qu));
        w.d(sf, o(this, this.gt));
        T(Qp, o(this, this.ru))
    }
    h = vw.prototype;
    h.Ed = function (b) {
        this.model.set({
            twitterAuthenticated: b != e && !p(b.Bb)
        })
    };
    h.ru = function () {
        this.Rk = !0;
        ww(this)
    };
    h.Vd = function (b) {
        if (b.doTwitter && !this.Cy) this.yh = 0, this.Hg = b, w.b(Gg, {
            songToken: b.isSongShare ? b.songToken : e,
            stationToken: b.stationToken,
            webname: b.webname
        })
    };
    h.vu = function (b) {
        this.Vp = b;
        b = this.model.get("currentUser");
        p(b.Bb) ? ww(this) : xw(this)
    };
    h.it = function (b) {
        w.b(rf, "failed to shorten url. " + b)
    };

    function ww(b) {
        b.yh++;
        if (b.yh > 3) w.b(rf, "unable to authenticate with twitter.  failed authentication " + b.yh + " times"), b.Cy = !0;
        else {
            var c = b.model.get("currentUser"),
                c = yw(b, !0).sign({
                    path: "http://twitter.com/oauth/request_token",
                    parameters: {},
                    signatures: {
                        consumer_key: c.eg,
                        shared_secret: c.fg
                    }
                }),
                d = window.open("about:blank", "oauth");
            zw(b, "/oauth/" + c.signed_url.substring(c.signed_url.indexOf("request_token")), !1, function (b) {
                b == e || b.indexOf("oauth_token") != 0 ? w.b(rf, "unable to authenticate with twitter") : d == e ? w.b(rf, "twitter authentication blocked by popup blocker") : (d.location.href = "http://twitter.com/oauth/authorize?" + b, d.focus())
            })
        }
    }
    function zw(b, c, d, f) {
        var i = !1,
            l = setTimeout(function () {
                i = !0;
                w.b(rf, "twitter communication timed out")
            }, 1E4);
        $.ajax({
            type: d ? "POST" : "GET",
            url: "/twitter" + c,
            success: o(b, function (b) {
                clearTimeout(l);
                i || f(b)
            }),
            error: o(b, function (b) {
                clearTimeout(l);
                w.b(Jg, {});
                w.b(rf, "twitter responded with error: " + b)
            }),
            dataType: "html"
        })
    }
    h.pu = function (b) {
        if (p(b)) w.b(rf, "Unable to authenticate with twitter - twitter failed to return a request token");
        else {
            var c = this.model.get("currentUser"),
                b = yw(this, !1).sign({
                    path: "http://twitter.com/oauth/access_token",
                    parameters: {
                        oauth_token: b
                    },
                    signatures: {
                        consumer_key: c.eg,
                        shared_secret: c.fg
                    }
                });
            zw(this, "/oauth/" + b.signed_url.substring(b.signed_url.indexOf("access_token")), !1, function (b) {
                if (p(b)) w.b(rf, "Unable to authenticate with twitter - unable to fetch access tokens [" + b + "]");
                else {
                    var c = b.split("&"),
                        b = ("" + c[0]).split("=")[1],
                        c = ("" + c[1]).split("=")[1];
                    p(b) || p(c) ? (w.b(Jg, {}), w.b(rf, "Unable to authenticate with twitter - authorization denied")) : w.b(Jg, {
                        twitterShareUserKey: b,
                        twitterShareUserSecret: c
                    })
                }
            })
        }
    };

    function xw(b) {
        var c = b.model.get("currentUser"),
            d = yw(b, !1),
            f = " " + b.Vp + " #pandora",
            i = b.Hg.message;
        (i + f).length > 140 && (f = "..." + f, i = b.Hg.message.substr(0, 140 - f.length));
        c = d.sign({
            path: "http://twitter.com/statuses/update.json",
            parameters: {
                status: i + f,
                suppress_response_codes: !0
            },
            signatures: {
                consumer_key: c.eg,
                shared_secret: c.fg,
                oauth_token: c.Bb,
                oauth_secret: c.ee
            }
        });
        zw(b, "/statuses/" + c.signed_url.substring(c.signed_url.indexOf("update")), !0, o(b, function (b) {
            p(b) ? w.b(rf, "Unable to post to twitter - twitter failed to respond") : (b = eval("(" + b + ")"), b.error != e ? b.error.toLowerCase().indexOf("authenticate") != -1 ? (w.b(Jg, {}), ww(this)) : w.b(rf, "Unable to post to twitter: " + b.error) : w.b(We, {
                twitter: !0
            }))
        }))
    }
    h.qu = function (b) {
        var c = this.model.get("currentUser");
        c.Bb = b.twitterShareUserKey;
        c.ee = b.twitterShareUserSecret;
        this.Rk ? (this.Rk = !1, this.model.set({
            twitterAuthenticated: !0
        })) : this.Hg == e ? w.b(rf, "Unable to post to twitter - no tweet text") : p(b.twitterShareUserKey) ? w.b(rf, "Unable to post to twitter") : (this.model.set({
            twitterAuthenticated: !0
        }), xw(this))
    };
    h.gt = function (b) {
        w.b(rf, "Unable to save twitter credentials: " + b)
    };

    function yw(b, c) {
        var d = b.model.get("currentUser"),
            d = new OAuthSimple(d.eg, d.fg);
        d.setAction(c ? "GET" : "POST");
        return d
    }
    window.onOAuthCallBack = function (b) {
        w.b(Te, b)
    };

    function Aw(b) {
        this.model = b;
        w.d(rd, o(this, this.Ed));
        w.d(Og, o(this, this.uj));
        w.d(Pg, o(this, this.tj));
        w.d(Qg, o(this, this.un));
        w.d(Rg, o(this, this.dm));
        w.d(uh, o(this, this.logout));
        T(Np, o(this, this.Sr))
    }
    h = Aw.prototype;
    h.Ed = function () {
        this.jf = !1;
        setTimeout(o(this, function () {
            Bw(this) && Cw(this)
        }), 2E3)
    };
    h.tj = function (b) {
        if (b.doFacebook) {
            var c = this.model.get("currentUser"),
                d = b.artUrl,
                f;
            d.indexOf("no_album_art.jpg") != -1 ? f = sj() + "static/images/share_facebook/generic_cover_art_preview.gif" : (f = d.indexOf("W_") - 4, f = d.substring(0, f) + "_fbpreview.jpg");
            f = f.indexOf("http://") != 0 ? "http://www.pandora.com/art/" + f : f;
            d = d.indexOf("no_album_art") == -1 ? d : sj() + d;
            this.Vd(b.message, b.songName, " by " + b.artistName, " on " + b.albumName, b.directUrl, b.landingUrl, f, sj() + "static/fb-share.swf?Song=" + encodeURIComponent(b.songName) + "&Artist=" + encodeURIComponent(b.artistName) + "&Station=" + encodeURIComponent(b.stationName || "") + "&AlbumArt=" + encodeURIComponent(d) + "&SampleTrack=" + encodeURIComponent(sj() + "favorites/getSample.jsp?token=" + b.songToken + "&allowExplicit=" + !c.ya) + "&StationLink=" + encodeURIComponent(b.stationLandingUrl || b.landingUrl))
        }
    };
    h.uj = function (b) {
        b.doFacebook && this.Vd(b.message, b.stationName, "Listen at Pandora", b.stationName + " on Pandora will play music by " + b.relatedArtistNames, b.directUrl, b.landingUrl, b.artUrl, e)
    };
    h.Vd = function (b, c, d, f, i, l, q, s) {
        this.un(o(this, function () {
            FB.api("/me/feed", "post", {
                message: b,
                name: c,
                caption: d,
                description: f,
                actions: [{
                    name: "Listen at Pandora",
                    link: i
                }],
                link: l,
                picture: q,
                source: s
            }, o(this, function (b) {
                !b || b.error ? w.b(rf, b.error != e ? "facebook responded with an error: " + b.error.message : "unknown error posting to facebook") : w.b(We, {
                    facebook: !0
                })
            }))
        }))
    };
    h.un = function (b) {
        if (Bw(this)) {
            var c = this.model.get("currentUser").H;
            !c || c == 0 ? FB.getLoginStatus(o(this, function (c) {
                c.session ? FB.logout(o(this, function () {
                    Dw(this, b)
                })) : Dw(this, b)
            })) : Dw(this, b)
        } else(new X({
            message: "unable to initialize facebook communication"
        })).render()
    };

    function Dw(b, c) {
        Cw(b, o(b, function (b) {
            c && c(b)
        }), o(b, function () {
            FB.login(o(this, function () {
                Cw(this, o(this, function (b) {
                    var f = b.session.uid,
                        i = this.model.get("currentUser");
                    i != e && i.H != f ? (Hj(i, f), w.b(qh, f)) : gd(i.H) && this.dm();
                    c && c(b)
                }), o(this, function () {
                    (new X({
                        message: "unable to authenticate with facebook"
                    })).render()
                }), !0)
            }), {
                perms: "publish_stream,user_likes"
            })
        }), !0)
    }
    function Ew(b, c) {
        Bw(b) && FB.getLoginStatus(o(b, function (b) {
            b.session && c && c(b)
        }))
    }

    function Cw(b, c, d, f) {
        FB.getLoginStatus(o(b, function (b) {
            if (b.session) {
                var l = this.model.get("currentUser");
                if (l) {
                    this.model.set({
                        facebookAuthenticated: !1
                    });
                    var q = b.session;
                    if (q) {
                        var s = q.uid,
                            q = l.H;
                        if (q > 0 && q != s) FB.logout(o(this, function () {
                            d && d(b)
                        }));
                        else {
                            FB.api("/" + s, {
                                fields: "name"
                            }, o(this, function (b) {
                                l.qh = b.name
                            }));
                            s = b.perms;
                            if (s != e) {
                                if (eval("(" + s + ")").extended.length == 0) {
                                    FB.logout(o(this, function () {
                                        d && d(b)
                                    }));
                                    return
                                }
                                if (s.indexOf("status_update") < 0) {
                                    d && d(b);
                                    return
                                }
                                if (!f && (!q || q == 0)) {
                                    d && d(b);
                                    return
                                }
                            } else if (b.status != "connected") {
                                d && d(b);
                                return
                            }
                            this.model.set({
                                facebookAuthenticated: !0
                            });
                            l.Se && w.b(ag, {
                                isProfilePrivate: l.Cc,
                                disallowComments: l.Ne,
                                optOut: !l.rd,
                                noNotifyOnNote: !l.sf,
                                disallowFacebookConnect: !1,
                                noNotifyOnFollow: !l.rf
                            });
                            c && c(b)
                        }
                    } else d && d(b)
                } else d && d(b)
            } else d && d(b)
        }))
    }
    h.dm = function () {
        var b = this.model.get("currentUser");
        gd(b.H) && FB.api("/" + b.H + "/friends", function (c) {
            var d = c.data;
            d == e && (d = []);
            for (var f = {}, i = [], l = [], q = 0; q < d.length; q++) {
                var s = d[q],
                    u = s.name,
                    s = s.id;
                f[u] = s;
                i.push(u)
            }
            i.sort();
            d = {};
            for (q = 0; q < i.length; q++) u = i[q], s = f[u], d[s + "f"] = u, l.push(s);
            b.sd = d;
            b.Rb = l;
            w.b(he, c.data)
        })
    };

    function Bw(b) {
        if (b.jf) return !0;
        var c = b.model.get("currentUser");
        if (c == e) return !1;
        if (window.FB == e) return !1;
        FB.init({
            appId: c.Nr,
            status: !0,
            cookie: !0,
            xfbml: !1
        });
        return b.jf = !0
    }
    h.Sr = function (b) {
        var c = b.fbCallback,
            d = "SELECT id,pic_square,name FROM profile WHERE id in (" + b.fbids.join(",") + ")";
        Ew(this, function () {
            FB.api({
                method: "fql.query",
                vb: d
            }, c)
        })
    };
    h.logout = function () {
        var b = this.model.get("currentUser");
        b && Hj(b, e);
        this.model.set({
            facebookAuthenticated: !1
        });
        FB.logout(g())
    };

    function Fw(b) {
        this.model = b;
        T(mp, o(this, this.S));
        W("/stations/play", !0, !0, !1, o(this, this.wm));
        W("/stations/edit", !0, !0, !1, o(this, this.wm));
        W("/music/artist", !0, !0, !1, o(this, this.vm));
        W("/music/song", !0, !0, !1, o(this, this.vm));
        W("/genres", !0, !0, !1, o(this, this.eu));
        this.Nm = !1
    }
    Fw.prototype.S = function () {
        this.Nm = !0
    };

    function Gw(b) {
        if (b.Nm) return !1;
        return parseInt($.cookie("_sl"), 10) == 1 ? (b = window.location.hostname.indexOf("."), b < 0 && (b = 0), $.cookie("_sl", e, {
            path: "/",
            domain: window.location.hostname.substring(b)
        }), !1) : !0
    }
    Fw.prototype.wm = function (b) {
        ad(this, function () {
            Gw(this) && r("smart_launch_station", {
                station_id: b.pathNames[2],
                original_request: Hw(b),
                platform_description: "web",
                vendor_id: e,
                referrer: e
            }, this.model.get("currentUser"))
        }, 100)
    };
    Fw.prototype.eu = function (b) {
        ad(this, function () {
            if (Gw(this)) {
                var c = b.pathNames;
                r("smart_launch_genre", {
                    category_name: c[1],
                    genre_name: c.length > 2 ? c[2] : e,
                    original_request: Hw(b),
                    platform_description: "web",
                    vendor_id: e,
                    referrer: e
                }, this.model.get("currentUser"))
            }
        }, 100)
    };
    Fw.prototype.vm = function (b) {
        ad(this, function () {
            if (Gw(this)) {
                var c = b.pathNames;
                r("smart_launch_station", {
                    song_name: c.length > 3 ? c[3] : e,
                    artist_name: c[2],
                    original_request: Hw(b),
                    platform_description: "web",
                    vendor_id: e,
                    referrer: e
                }, this.model.get("currentUser"))
            }
        }, 100)
    };

    function Hw(b) {
        return "/#/" + b.pathNames.join("/")
    };

    function Iw(b) {
        this.model = b;
        this.ea = {};
        T(aq, o(this, this.Hh));
        w.d(me, o(this, this.xt));
        w.d(ie, o(this, this.Et));
        w.d(ke, o(this, this.bf));
        w.d(je, o(this, this.bf));
        w.d(rd, o(this, this.N))
    }
    h = Iw.prototype;
    h.Hh = function (b) {
        var c = this.ea[b.Ib + ":" + b.Da];
        c != e ? S(hq, c) : w.b(Vg, b)
    };
    h.xt = function (b) {
        this.ea[b.Ib + ":" + b.Da] = b;
        S(hq, b)
    };
    h.Et = function (b) {
        b = Qj(b);
        this.ea[b.Ib + ":" + b.Da] = b;
        S(hq, b)
    };
    h.bf = function (b) {
        b = Qj(b);
        b.Hb = e;
        this.ea[b.Ib + ":" + b.Da] = b;
        S(hq, b)
    };
    h.N = function () {
        this.ea = {}
    };

    function Js() {
        Jw()
    }
    var Ks = {};

    function Jw() {
        $.ajax({
            url: "/static/videohub/manifest.xml?cb=" + dd(),
            dataType: "xml",
            success: function (b) {
                Ks = {};
                $.each($("video_page", b), function (b, d) {
                    var f = new ms(d),
                        i = f.Mp;
                    i != e && (Ks[i] = f)
                });
                setTimeout(Jw, 9E5)
            },
            error: function (b, c) {
                k("Could not load videohub manifest", c);
                setTimeout(Jw, 9E5)
            }
        })
    };

    function mj() {
        this.init();
        Su(this.data)
    }
    var dt = 1E3;
    mj.prototype.init = function () {
        kj("ui-start");
        Kw(this);
        this.data = new Backbone.Model({
            booting: !0,
            stationList: new ns,
            hasStations: !1,
            currentStation: e,
            currentStationViewIsShuffle: !1,
            stationSortOrderAlpha: !0,
            stationToAutoPlay: e,
            safeToAutoPlayStation: !0,
            currentTrack: e,
            selectedTrack: e,
            trackProgress: e,
            musicPlaying: !1,
            playerBarEnabled: !0,
            currentUser: e,
            currentProfileInfo: e,
            currentContextualTip: e,
            currentShuffleType: bj(),
            anonymousTrialExpired: !1,
            facebookAuthenticated: !1,
            twitterAuthenticated: !1,
            relatedArtists: e,
            monthlyListening: "0",
            idle: !1,
            keyPressed: e,
            poisoned: !1,
            siteLocked: !1,
            capped: !1,
            expired: !1,
            inactive: !1,
            forceRegistration: !1,
            resettingPassword: !1,
            audioAdPlaying: !1,
            videoAdPlaying: e,
            displayingCompanion: !1,
            searchText: "",
            searchItemSelectedIndex: -1,
            showingSearchResults: !1,
            searchResults: new os,
            modalPanel: e,
            profilePanelType: e,
            oldMainContainerBackgroundPosition: e,
            lastLowBandwidthNotification: e,
            blueBarMessage: e,
            pageShifting: !1,
            currentSkinPath: e,
            narrative: e,
            songNarrative: e,
            selectedArtist: e,
            searchDetails: e,
            searchSuggestions: {
                similar_artists: [],
                similar_genres: [],
                facebook_favorites: []
            }
        });
        kj("ui-views");
        this.Mc = new Cs({
            model: this.data
        });
        this.IJ = new ss({
            model: this.data
        });
        this.lI = new ts({
            model: this.data
        });
        this.fJ = new vs({
            model: this.data
        });
        this.YJ = new As({
            model: this.data
        });
        this.rI = new Ds({
            model: this.data
        });
        this.Rn = new bt(this.data);
        this.gy = new Fs({
            model: this.data,
            station_menu: this.Rn
        });
        this.AJ = new Hs({
            model: this.data
        });
        this.VJ = new Is({
            model: this.data
        });
        this.PJ = new Ls({
            model: this.data
        });
        this.gI = new Os({
            model: this.data
        });
        this.pv = new Ys({
            model: this.data
        });
        this.by = new Zs({
            model: this.data
        });
        this.ul = new gt({
            model: this.data
        });
        this.eJ = new au({
            model: this.data
        });
        this.yI = new Dt({
            model: this.data
        });
        this.DJ = new Gt({
            model: this.data
        });
        this.xJ = new Ht({
            model: this.data
        });
        this.tI = new It({
            model: this.data
        });
        this.yJ = new ot({
            model: this.data
        });
        this.kJ = new Kt({
            model: this.data
        });
        this.$I = new ht({
            model: this.data
        });
        this.KJ = new it({
            model: this.data
        });
        this.DI = new At({
            model: this.data
        });
        this.HJ = new ft({
            model: this.data
        });
        this.KI = new Xt({
            model: this.data
        });
        this.lJ = new qt({
            model: this.data
        });
        this.oJ = new vt({
            model: this.data
        });
        this.HI = new wt({
            model: this.data
        });
        this.Zf = new yt({
            model: this.data
        });
        this.Rd = new xt({
            model: this.data
        });
        kj("ui-controllers");
        this.SJ = new Yu(this.data);
        this.XI = new gv(this.data);
        this.EI = new Z(this.data);
        this.BJ = new lw(this.data);
        this.uJ = new pv(this.data, this.Mc);
        this.OJ = new qv(this.data);
        this.qJ = new rv(this.data);
        this.NJ = new tv(this.data);
        this.VI = new uv(this.data);
        this.JI = new wv(this.data);
        this.tJ = new yv(this.data);
        this.iI = new zv(this.data);
        this.ZI = new Av(this.data, this.pv);
        this.FJ = new Bv(this.data, this.by);
        this.AI = new Rv(this.data);
        this.JJ = new Sv(this.data, this.gy);
        this.kI = new Wv(this.data, this.ul);
        this.hJ = new Xv(this.data, this.Rd);
        this.MJ = new cw(this.data, this.Zf);
        this.CJ = new Cv(this.data);
        this.jI = new Ov(this.data);
        this.sI = new Dv(this.data);
        this.jJ = new Pv(this.data);
        this.oI = new fw(this.data);
        this.pJ = new gw(this.data);
        this.SI = new hw(this.data);
        this.BI = new iw(this.data);
        this.UJ = new ju(this.data);
        this.eI = new su(this.data);
        this.qI = new mw(this.data);
        kj("ui-services");
        this.fI = new pw(this.data);
        this.WI = new sw(this.data);
        this.FI = new Aw(this.data);
        this.QJ = new vw(this.data);
        this.RJ = new uw(this.data);
        this.CI = new tw(this.data);
        this.TI = new Iw(this.data);
        this.EJ = new Fw(this.data);
        var b = this;
        kj("ui-events");
        this.data.get("stationList").bind("select", function (c) {
            b.data.set({
                currentStation: c,
                currentStationViewIsShuffle: c.attributes.isQuickMix && c.attributes.isCreator
            })
        });
        this.data.get("stationList").bind("remove", function (c) {
            var d = b.data.get("currentStation");
            d != e && d.get("stationId") == c.get("stationId") && (b.data.set({
                currentStation: e
            }), c = b.data.get("stationList").at(0), c != e && (!c.get("isQuickMix") || !c.get("isCreator")) && w.b(Qf, c.get("stationId")))
        });
        this.data.get("stationList").bind("all", function () {
            b.data.get("modalPanel") != "REGISTERED_PANEL" && w.b(af);
            b.data.set({
                hasStations: this.length > 0
            })
        });
        this.data.bind("change:stationSortOrderAlpha", function () {
            var c = b.data.get("stationSortOrderAlpha");
            B(hi, c);
            b.data.get("stationList").sort()
        });
        this.data.bind("change:currentUser", o(this, function () {
            this.data.get("currentUser") ? (w.b(sg), this.data.set({
                currentShuffleType: bj()
            })) : this.data.set({
                searchSuggestions: {
                    similar_artists: [],
                    similar_genres: [],
                    facebook_favorites: []
                }
            })
        }));
        w.d($e, o(this, function () {
            this.data.set({
                booting: !0
            })
        }));
        w.d(af, o(this, function () {
            this.data.set({
                booting: !1
            })
        }));
        w.d(Ad, o(this, function (b) {
            if (ld() && b && b.length > 0) {
                var d = this.data.get("stationList"),
                    f = {
                        silent: !0
                    };
                d._reset(f);
                for (var i = 0, l = 0; l < b.length; l++) setTimeout(o(this, function () {
                    var l = b[i++];
                    d._add(l, f);
                    i >= b.length && d.trigger("refresh")
                }), 1);
                setTimeout(o(this, function () {
                    var d = this.data.get("currentStation");
                    d == e || _.any(b, function (b) {
                        return b.stationId == d.get("stationId")
                    }) || this.data.set({
                        currentStation: e
                    });
                    w.b(Bd, b)
                }), 1E3)
            } else {
                this.data.get("stationList").refresh(b);
                var q = this.data.get("currentStation");
                q == e || _.any(b, function (b) {
                    return b.stationId == q.get("stationId")
                }) || this.data.set({
                    currentStation: e
                })
            }
        }));
        w.d(Cd, o(this, function (b) {
            var d = this.data.get("stationList");
            d.detect(function (d) {
                return d.get("stationId") == b.stationId
            }) != e ? w.b(Qf, b.stationId) : d.add(b)
        }));
        w.d(Fd, o(this, function (b) {
            var d = this.data.get("stationList"),
                f = b.stationId,
                d = d.detect(function (b) {
                    return b.get("stationId") == f
                });
            d != e && (d.set({
                stationName: b.stationName
            }), S(vq, d))
        }));
        w.d(Ye, o(this, function (b) {
            for (var d = b.station, b = b.oldStationId, f = this.data.get("stationList").models, i = 0; i < f.length; i++) if (f[i].get("stationId") == b) {
                f[i].set(d);
                break
            }
            this.data.get("stationList").refresh(f)
        }));
        w.d(Qf, o(this, function (b) {
            var d = this.data.get("stationList"),
                f = d.detect(function (d) {
                    return d.get("stationId") == b
                });
            f != e && d.trigger("select", f);
            this.data.set({
                safeToAutoPlayStation: !0
            })
        }));
        w.d(jg, o(this, function () {
            this.data.set({
                safeToAutoPlayStation: !1
            })
        }));
        w.d(vf, o(this, function () {
            this.data.set({
                safeToAutoPlayStation: !0
            })
        }));
        w.d(qd, o(this, function (b) {
            this.data.set({
                stationToAutoPlay: b
            })
        }));
        w.d(th, o(this, function () {
            this.data.set({
                currentTrack: e,
                musicPlaying: !1,
                currentStation: e
            })
        }));
        w.d(Wf, o(this, function () {
            this.data.set({
                currentTrack: e,
                musicPlaying: !1,
                currentStation: e,
                selectedTrack: e
            })
        }));
        w.d(Gd, o(this, function (b) {
            this.data.set({
                currentTrack: b,
                musicPlaying: !0
            })
        }));
        w.d(Ld, o(this, function (b) {
            this.data.set({
                trackProgress: b
            })
        }));
        w.d(Jf, o(this, function () {
            this.data.set({
                musicPlaying: !0
            })
        }));
        w.d(Lf, o(this, function () {
            this.data.set({
                musicPlaying: !1
            })
        }));
        w.d(Of, o(this, function (b) {
            U("/song/thumbs-down/" + b, !1, !0)
        }));
        w.d(ue, o(this, function (b) {
            this.data.set({
                poisoned: b
            })
        }));
        zs.push("/song/thumbs-down/");
        zs.push("/song/move/");
        T(oq, o(this, function () {
            this.Rn.open()
        }));
        $(document).keydown(function (c) {
            var d = b.data.get("keyPressed");
            if (c.target.tagName != "INPUT" && c.target.tagName != "TEXTAREA" && (d == e || d.which != c.which)) if (b.data.set({
                keyPressed: c
            }), !b.data.get("siteLocked") && !c.ctrlKey && !c.metaKey) if (c.keyCode == "32") {
                if (c.preventDefault(), b.data.get("playerBarEnabled") || b.data.get("audioAdPlaying")) b.data.get("musicPlaying") ? w.b(Lf) : w.b(Jf)
            } else if (c.keyCode == "39") {
                if (c.preventDefault(), c = b.data.get("currentTrack"), c != e && b.data.get("playerBarEnabled")) return w.b(Mf), !1
            } else c.shiftKey && c.keyCode == "187" ? (c.preventDefault(), c = b.data.get("currentTrack"), c != e && b.data.get("playerBarEnabled") && w.b(Nf, c.h())) : c.keyCode == "189" ? (c.preventDefault(), c = b.data.get("currentTrack"), c != e && b.data.get("playerBarEnabled") && w.b(Of, c.h())) : c.shiftKey && c.keyCode == "38" ? (c.preventDefault(), b.data.get("musicPlaying") && b.data.get("playerBarEnabled") && w.b(Tf, 100)) : c.shiftKey && c.keyCode == "40" ? (c.preventDefault(), b.data.get("musicPlaying") && b.data.get("playerBarEnabled") && w.b(Tf, 0)) : c.altKey && c.keyCode == "38" ? (c.preventDefault(), b.data.get("musicPlaying") && b.data.get("playerBarEnabled") && (c = A(Yh) === !0 ? 0 : Qi(), w.b(Tf, c + 10))) : c.altKey && c.keyCode == "40" && (c.preventDefault(), b.data.get("musicPlaying") && b.data.get("playerBarEnabled") && (c = A(Yh) === !0 ? 0 : Qi(), w.b(Tf, c - 10)))
        });
        $(document).keyup(function () {
            b.data.set({
                keyPressed: e
            })
        });
        $.get("/content/anonNavFooter", {}, o(this, function (b, d) {
            d == "success" && $("#anonNavFooter").empty().append(b)
        }));
        $.get("/content/registeredNavFooter", {}, o(this, function (b, d) {
            d == "success" && $("#registeredNavFooter").empty().append(b)
        }));
        kj("ui-done")
    };

    function Kw(b) {
        var c = Backbone.View.prototype.delegateEvents;
        Backbone.View.prototype.delegateEvents = function (b) {
            c.apply(this, arguments);
            $(this.el).bind("click", function (b) {
                mj.globalClickPaused || S(mp, b)
            })
        };
        $(document).click(o(b, function (b) {
            mj.globalClickPaused || S(mp, b)
        }))
    }
    var Lw = {};

    function T(b, c) {
        var d = Lw[b] || [];
        d.push(c);
        Lw[b] = d;
        d = c._caller;
        if (d != e) {
            var f = d._eventTypes || [];
            f.push(b);
            d._eventTypes = f
        }
    }

    function et(b, c) {
        if (c !== aa) {
            var d = Lw[c];
            if (d) for (var f = 0; f < d.length; f++) d[f]._caller == b && d.splice(f--, 1)
        } else {
            d = b._eventTypes;
            for (f = 0; d && f < d.length; f++) et(b, d[f])
        }
    }
    function S(b, c) {
        var d = _.clone(Lw[b]);
        if (d) for (var f = 0; f < d.length; f++) try {
            d[f](c, b)
        } catch (i) {
            k("UI Event Error: ", i)
        }
    }
    function Jt() {
        mj.globalClickPaused = !0;
        clearTimeout(mj.globalClickPauseTimeout);
        mj.globalClickPauseTimeout = setTimeout(function () {
            mj.globalClickPaused = !1
        }, 1E3)
    }

    function Bs(b) {
        b = b.get("currentUser");
        return A(Wh) === !0 && (!b || D(b))
    };
})();
